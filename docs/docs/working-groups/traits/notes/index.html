<!DOCTYPE html>





<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  
    
    N O T E S
  
 | Rust Lang - Compiler Team</title>



<link rel="stylesheet" href="/book.min.b7d5ee4f671b06dde5fd61ab409a54048ba7759e99fed39ac32a7be45d4d92cd.css">


<link rel="icon" href="/favicon.png" type="image/x-icon">


<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" style="display: none" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav>
<h2 class="book-brand">
  <a href="//localhost:1313/">Rust Lang - Compiler Team</a>
</h2>



    
  
  
  

  <style>
  nav ul a[href$="\2f docs\2fworking-groups\2ftraits\2fnotes\2f "] {
      color: #004ed0;
  }
  </style>

<ul>
<li><strong>About</strong>

<ul>
<li><a href="/docs/about/chat-platform/">Chat Platform</a></li>
<li><a href="/docs/about/steering-meeting/">Steering Meeting</a></li>
<li><a href="/docs/about/triage-meeting/">Triage Meeting</a></li>
</ul></li>

<li><p><strong>Minutes</strong></p>

<ul>
<li><p><strong>Steering Meetings</strong></p>

<ul>
<li><a href="/docs/minutes/steering-meeting/2018-10-26/">2018-10-26</a></li>
<li><a href="/docs/minutes/steering-meeting/2018-11-16/">2018-11-16</a></li>
<li><a href="/docs/minutes/steering-meeting/2018-12-14/">2018-12-14</a></li>
<li><a href="/docs/minutes/steering-meeting/2019-01-04/">2019-01-04</a></li>
<li><a href="/docs/minutes/steering-meeting/2019-01-17/">2019-01-17</a></li>
<li><a href="/docs/minutes/steering-meeting/2019-03-01/">2019-03-01</a></li>
<li><a href="/docs/minutes/steering-meeting/2019-03-22/">2019-03-22</a></li>
<li><a href="/docs/minutes/steering-meeting/2019-04-12/">2019-04-12</a></li>
</ul></li>

<li><p><strong>Triage Meetings</strong></p>

<ul>
<li><a href="/docs/minutes/triage-meeting/2019-04-11/">2019-04-11</a></li>
<li><a href="/docs/minutes/triage-meeting/2019-04-18/">2019-04-18</a></li>
<li><a href="/docs/minutes/triage-meeting/2019-04-25/">2019-04-25</a></li>
<li><a href="/docs/minutes/triage-meeting/2019-05-02/">2019-05-02</a></li>
<li><a href="/docs/minutes/triage-meeting/2019-05-09/">2019-05-09</a></li>
<li><a href="/docs/minutes/triage-meeting/2019-05-23/">2019-05-23</a></li>
</ul></li>
</ul></li>

<li><p><a href="/docs/experts/"><strong>Experts</strong></a></p></li>

<li><p><strong>Procedures</strong></p>

<ul>
<li><a href="/docs/procedures/crates/">Crates</a></li>
<li><a href="/docs/procedures/steering-meeting/">Steering Meeting</a></li>
<li><a href="/docs/procedures/call-for-participation/">Call for participation</a></li>
<li><a href="/docs/procedures/form-new-working-group/">Form new working group</a></li>
<li><a href="/docs/proposals/">Proposals</a></li>
</ul></li>

<li><p><a href="/docs/working-groups/"><strong>Working Groups</strong></a></p>

<ul>
<li><a href="/docs/working-groups/async-await/">Async Await</a></li>
<li><a href="/docs/working-groups/diagnostics/">Diagnostics</a></li>
<li><a href="/docs/working-groups/learning/">Learning</a></li>
<li><a href="/docs/working-groups/llvm/">LLVM</a></li>
<li><a href="/docs/working-groups/meta/">Meta</a></li>
<li><a href="/docs/working-groups/mir-opt/">MIR-opt</a></li>
<li><a href="/docs/working-groups/nll/">NLL</a></li>
<li><a href="/docs/working-groups/parallel-rustc/">parallel rustc</a></li>
<li><a href="/docs/working-groups/pgo/">PGO</a></li>
<li><a href="/docs/working-groups/pipelining/">pipelining</a></li>
<li><a href="/docs/working-groups/polonius/">polonius</a></li>
<li><a href="/docs/working-groups/rfc-2229/">rfc-2229</a></li>
<li><a href="/docs/working-groups/rls-2.0/">rls-2.0</a></li>
<li><a href="/docs/working-groups/self-profile/">Self Profile</a></li>
<li><a href="/docs/working-groups/template/">Template</a></li>
<li><a href="/docs/working-groups/traits/">Traits</a></li>
</ul></li>
</ul>





</nav>



    </aside>

    <div class="book-page">
      <header class="align-center justify-between book-header">
  <label for="menu-control">
    <img src="/svg/menu.svg" alt="Menu" />
  </label>
  <strong>
  
    
    N O T E S
  
</strong>
</header>

      
<article class="markdown">

<h1 id="2019-02-19">2019.02.19</h1>

<h2 id="tl-dr">TL;DR</h2>

<ul>
<li>We are still in the &ldquo;getting organized&rdquo; phase. Some high priority
problems related to universes took most of our attention of late.</li>
<li>We are discussing focusing first on evaluating whether we can
achieve things in current solver before attempting chalk
integration.</li>
<li>Figuring out how to manage multiple streams of &ldquo;inquiry and work&rdquo;
feels like a challenging problem.</li>
</ul>

<h2 id="updates">Updates</h2>

<p>(Written by nikomatsakis)</p>

<p><strong>Universe matching video.</strong> We recorded a <a href="https://www.youtube.com/watch?v=iV1Z0xYXkck&amp;feature=youtu.be">video on how universe
matching works</a>. We need to figure out where to collect said links.</p>

<p><strong>Discussion Meeting.</strong> Related to the previous point, I plan to
schedule a series of recorded video calls examining parts of the
compiler in turn. The focus will initially be on trait-related work.
See the <a href="https://rust-lang.zulipchat.com/#narrow/stream/144729-t-compiler.2Fwg-traits/topic/Idea.3A.20Regular.20Design.20Meetings">Regular Design Meetings</a> topic for more information.</p>

<p><strong>Agenda.</strong> We have been discussing how to proceed. Last triage
meeting I proposed starting by having some (recorded) video chats to
dig a bit into two problems (generic associated types, lazy
normalization) and try to investigate how hard it would be to
implement those on the current solver. The idea would be to focus on
unblocking others <em>before</em> turning to Chalk integration in full.</p>

<p><strong>Universes.</strong> We are looking at a number of bugs that have been
reported due to the universe integration PR. We are trying to decide
the best way forward here &ndash; time is running a bit tight! The universe
PR fixed various bugs and moved us to a more solid footing, but it has
also exposed some other problems. The full set of issues looked at
include:</p>

<ul>
<li><a href="https://github.com/rust-lang/rust/issues/57639">#57639</a>: This is an old bug (<a href="https://github.com/rust-lang/rust/issues/21974">#21974</a>), but it now applies more often.</li>
<li><a href="https://github.com/rust-lang/rust/issues/46989">#46989</a>: An impl of <code>impl&lt;A&gt; PartialOrd for fn(A)</code> can now apply to
<code>fn(&amp;u8)</code>. This was not true before. Having <a href="https://rust-lang.zulipchat.com/#narrow/stream/144729-t-compiler.2Fwg-traits/topic/.2346989.20fn.20pointers.20and.20universes/near/158650807">investigated</a>, I
think this is not <em>obviously</em> a bug but I remain a bit nervous about
it and want some time to talk out the full
ramifications.</li>
<li>[#58451]: An ICE related to error reporting. I believe this is &ldquo;just
an ICE&rdquo;.</li>
<li>Coherence changes (no issue that I know of): It is no longer legal
to have an impl like <code>impl&lt;'a&gt; Foo for fn(&amp;'a u8)</code> and <code>impl Foo for
for&lt;'a&gt; fn(&amp;'a u8)</code>. This falls out from moving higher-ranked
constraints into region checking, but was relied on by some folks
(notably servo). This probably wants a transition period, at least,
and perhaps a more thorough public discussion.</li>
</ul>

<p>My current plan is to investigate altering the compiler to restore the old
behavior temporarily, at least, to give us some time to talk this out in more
depth. I think I know how to do this.</p>
</article>

      

      
    </div>

    
  

  <aside class="book-toc level-6 fixed">
    <nav id="TableOfContents">
<ul>
<li><a href="#2019-02-19">2019.02.19</a>
<ul>
<li><a href="#tl-dr">TL;DR</a></li>
<li><a href="#updates">Updates</a></li>
</ul></li>
</ul>
</nav>
  </aside>



  </main>
  
  
  
<script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10"></' + 'script>')</script></body>

</html>
