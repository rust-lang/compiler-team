<!DOCTYPE html>





<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  
    
    Triage 2019 03 04
  
 | Rust Lang - Compiler Team</title>



<link rel="stylesheet" href="/book.min.b7d5ee4f671b06dde5fd61ab409a54048ba7759e99fed39ac32a7be45d4d92cd.css">


<link rel="icon" href="/favicon.png" type="image/x-icon">


<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" style="display: none" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav>
<h2 class="book-brand">
  <a href="//localhost:1313/">Rust Lang - Compiler Team</a>
</h2>



    
  
  
  

  <style>
  nav ul a[href$="\2f docs\2fworking-groups\2ftraits\2fminutes\2ftriage-2019-03-04\2f "] {
      color: #004ed0;
  }
  </style>

<ul>
<li><strong>About</strong>

<ul>
<li><a href="/docs/about/chat-platform/">Chat Platform</a></li>
<li><a href="/docs/about/steering-meeting/">Steering Meeting</a></li>
<li><a href="/docs/about/triage-meeting/">Triage Meeting</a></li>
</ul></li>

<li><p><strong>Minutes</strong></p>

<ul>
<li><p><strong>Steering Meetings</strong></p>

<ul>
<li><a href="/docs/minutes/steering-meeting/2018-10-26/">2018-10-26</a></li>
<li><a href="/docs/minutes/steering-meeting/2018-11-16/">2018-11-16</a></li>
<li><a href="/docs/minutes/steering-meeting/2018-12-14/">2018-12-14</a></li>
<li><a href="/docs/minutes/steering-meeting/2019-01-04/">2019-01-04</a></li>
<li><a href="/docs/minutes/steering-meeting/2019-01-17/">2019-01-17</a></li>
<li><a href="/docs/minutes/steering-meeting/2019-03-01/">2019-03-01</a></li>
<li><a href="/docs/minutes/steering-meeting/2019-03-22/">2019-03-22</a></li>
<li><a href="/docs/minutes/steering-meeting/2019-04-12/">2019-04-12</a></li>
</ul></li>

<li><p><strong>Triage Meetings</strong></p>

<ul>
<li><a href="/docs/minutes/triage-meeting/2019-04-11/">2019-04-11</a></li>
<li><a href="/docs/minutes/triage-meeting/2019-04-18/">2019-04-18</a></li>
<li><a href="/docs/minutes/triage-meeting/2019-04-25/">2019-04-25</a></li>
<li><a href="/docs/minutes/triage-meeting/2019-05-02/">2019-05-02</a></li>
<li><a href="/docs/minutes/triage-meeting/2019-05-09/">2019-05-09</a></li>
<li><a href="/docs/minutes/triage-meeting/2019-05-23/">2019-05-23</a></li>
</ul></li>
</ul></li>

<li><p><a href="/docs/experts/"><strong>Experts</strong></a></p></li>

<li><p><strong>Procedures</strong></p>

<ul>
<li><a href="/docs/procedures/crates/">Crates</a></li>
<li><a href="/docs/procedures/steering-meeting/">Steering Meeting</a></li>
<li><a href="/docs/procedures/call-for-participation/">Call for participation</a></li>
<li><a href="/docs/procedures/form-new-working-group/">Form new working group</a></li>
<li><a href="/docs/proposals/">Proposals</a></li>
</ul></li>

<li><p><a href="/docs/working-groups/"><strong>Working Groups</strong></a></p>

<ul>
<li><a href="/docs/working-groups/async-await/">Async Await</a></li>
<li><a href="/docs/working-groups/diagnostics/">Diagnostics</a></li>
<li><a href="/docs/working-groups/learning/">Learning</a></li>
<li><a href="/docs/working-groups/llvm/">LLVM</a></li>
<li><a href="/docs/working-groups/meta/">Meta</a></li>
<li><a href="/docs/working-groups/mir-opt/">MIR-opt</a></li>
<li><a href="/docs/working-groups/nll/">NLL</a></li>
<li><a href="/docs/working-groups/parallel-rustc/">parallel rustc</a></li>
<li><a href="/docs/working-groups/pgo/">PGO</a></li>
<li><a href="/docs/working-groups/pipelining/">pipelining</a></li>
<li><a href="/docs/working-groups/polonius/">polonius</a></li>
<li><a href="/docs/working-groups/rfc-2229/">rfc-2229</a></li>
<li><a href="/docs/working-groups/rls-2.0/">rls-2.0</a></li>
<li><a href="/docs/working-groups/self-profile/">Self Profile</a></li>
<li><a href="/docs/working-groups/template/">Template</a></li>
<li><a href="/docs/working-groups/traits/">Traits</a></li>
</ul></li>
</ul>





</nav>



    </aside>

    <div class="book-page">
      <header class="align-center justify-between book-header">
  <label for="menu-control">
    <img src="/svg/menu.svg" alt="Menu" />
  </label>
  <strong>
  
    
    Triage 2019 03 04
  
</strong>
</header>

      
<article class="markdown">

<h1 id="triage-meeting-on-2019-03-04">Triage meeting on 2019-03-04</h1>

<h2 id="info">Info</h2>

<p><a href="https://rust-lang.zulipchat.com/#narrow/stream/144729-t-compiler.2Fwg-traits/topic/weekly.20meeting.202019-03-04">Zulip thread.</a></p>

<h2 id="summary">Summary</h2>

<p>We followed up on the goals from last time.</p>

<h3 id="lifetime-problems-around-async-await">Lifetime problems around async-await</h3>

<p>We
<a href="https://rust-lang.zulipchat.com/#narrow/stream/144729-t-compiler.2Fwg-traits/topic/weekly.20meeting.202019-03-04/near/159939976">discussed</a>
how we found a way to resolve the <code>async fn</code> complications by changing
the async fn desugaring, and hence don&rsquo;t need any deep trait
action. We are <a href="https://rust-lang.zulipchat.com/#narrow/stream/144729-t-compiler.2Fwg-traits/topic/weekly.20meeting.202019-03-04/near/159940028">still
interested</a>
in trying to find a way to solve the &ldquo;captures problem&rdquo; for impl
Trait, however, and alexreg and nikomatsakis may do some follow-up
there.</p>

<h3 id="explore-use-cases-for-lazy-normalization">Explore use cases for lazy normalization</h3>

<p>Some investigation occurred. <a href="https://rust-lang.zulipchat.com/#narrow/stream/144729-t-compiler.2Fwg-traits/topic/weekly.20meeting.202019-03-04/near/159940188">Current plan</a>
to continue documenting the way that the current normalization code
plays out and to hold some sort of meeting to document that and walk
through it. That meeting will hopefully happen this week and will be
recorded.</p>

<h3 id="explorse-use-cases-for-gats">Explorse use cases for GATs</h3>

<p><a href="https://rust-lang.zulipchat.com/#narrow/stream/144729-t-compiler.2Fwg-traits/topic/weekly.20meeting.202019-03-04/near/159940294">Not a lot of progress here.</a> (Yet!)</p>

<p>Once we <strong>do</strong> make progress, though, the <a href="https://rust-lang.zulipchat.com/#narrow/stream/144729-t-compiler.2Fwg-traits/topic/weekly.20meeting.202019-03-04/near/159940943">logical next
step</a>
is probably to try and model those use cases some in Chalk, as well as
to investigate more deeply how rustc could be extended to handle the
cases natively (without blocking on full chalk integration).</p>

<h3 id="dig-into-the-chalk-transition">Dig into the chalk transition</h3>

<p>We <a href="https://rust-lang.zulipchat.com/#narrow/stream/144729-t-compiler.2Fwg-traits/topic/weekly.20meeting.202019-03-04/near/159940496">have a meeting scheduled for tomorrow</a> with the RLS 2.0 folks, planning to talk about how the type checker is working in that context.</p>

<p><a href="https://rust-lang.zulipchat.com/#narrow/stream/144729-t-compiler.2Fwg-traits/topic/weekly.20meeting.202019-03-04/near/159940552"><strong>We are thinking that integrating Chalk first into the RLS 2.0
project may be a better idea than starting with
rustc</strong></a>,
particularly as it can help get RLS 2.0 to a &ldquo;working product&rdquo; faster,
but also because we may be able to use that to pursue the idea of
sharing more code between chalk + compiler than we could readily do
with rustc. Specifically, we should be able to have:</p>

<ul>
<li>a library to share the definition of types between chalk + RLS 2.0</li>
<li>shared code for lowering traits + impls into logical rules</li>
</ul>

<p>We also talked about other possible work on chalk, in particular the
idea of chalk-specific refactorings but also building a <a href="https://rust-lang.zulipchat.com/#narrow/stream/144729-t-compiler.2Fwg-traits/topic/weekly.20meeting.202019-03-04/near/159940894">benchmarking
harness</a>
for the <code>chalk-engine</code> crate.</p>

<h2 id="miscellaneous-discussion">Miscellaneous discussion</h2>

<p>There are a few other things we talked about this week:</p>

<ul>
<li><a href="https://rust-lang.zulipchat.com/#narrow/stream/144729-t-compiler.2Fwg-traits/topic/weekly.20meeting.202019-03-04/near/159941464">the idea of a research intern working on chalk and what they might
do</a></li>
<li><a href="https://rust-lang.zulipchat.com/#narrow/stream/144729-t-compiler.2Fwg-traits/topic/weekly.20meeting.202019-03-04/near/159942222">how we might support <code>async fn</code> in traits without full GAT support</a></li>
</ul>

<h2 id="plans-for-the-coming-week">Plans for the coming week</h2>

<p>We settled on the following plans for the coming week:</p>

<p>So plans for this week are:</p>

<ul>
<li>Describe how normalization works today and hold a (recorded) call to
try and explain it to others. Trace through some of the examples
where lazy norm would be helpful. (nikomatsakis)</li>
<li>Explore the use cases for GATs (aturon, centril)</li>
<li>Discuss RLS 2.0 type checker and contemplate how to integrate chalk
into it (nikomatsakis, scalexm)</li>
<li>Maybe discuss other chalk improvements? (e.g., benchmarking harness) (nikomatsakis)</li>
<li>Maybe discuss the &ldquo;lifetime capture&rdquo; problem in impl Trait? (nikomatsakis, alexreg)</li>
</ul>
</article>

      

      
    </div>

    
  

  <aside class="book-toc level-6 fixed">
    <nav id="TableOfContents">
<ul>
<li><a href="#triage-meeting-on-2019-03-04">Triage meeting on 2019-03-04</a>
<ul>
<li><a href="#info">Info</a></li>
<li><a href="#summary">Summary</a>
<ul>
<li><a href="#lifetime-problems-around-async-await">Lifetime problems around async-await</a></li>
<li><a href="#explore-use-cases-for-lazy-normalization">Explore use cases for lazy normalization</a></li>
<li><a href="#explorse-use-cases-for-gats">Explorse use cases for GATs</a></li>
<li><a href="#dig-into-the-chalk-transition">Dig into the chalk transition</a></li>
</ul></li>
<li><a href="#miscellaneous-discussion">Miscellaneous discussion</a></li>
<li><a href="#plans-for-the-coming-week">Plans for the coming week</a></li>
</ul></li>
</ul>
</nav>
  </aside>



  </main>
  
  
  
<script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10"></' + 'script>')</script></body>

</html>
