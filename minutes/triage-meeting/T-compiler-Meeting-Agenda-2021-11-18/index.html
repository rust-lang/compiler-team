<!doctype html><html lang=en><head><meta http-equiv=refresh content="0; url=https://forge.rust-lang.org/compiler/index.html"></head><body><input type=checkbox style=display:none id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav><h2 class=book-brand><a href=https://rust-lang.github.io/compiler-team/>Rust Lang - Compiler Team</a></h2><style>nav ul a[href$=\2f compiler-team\2fminutes\2ftriage-meeting\2fT-compiler-Meeting-Agenda-2021-11-18\2f ]{color:#004ed0}</style><ul><li><p><strong>About</strong></p><ul><li><a href=/compiler-team/about/CODE_OF_CONDUCT/>Code of Conduct</a></li><li><a href=/compiler-team/about/chat-platform/>Chat Platform</a></li><li><a href=/compiler-team/about/steering-meeting/>Steering Meeting</a></li><li><a href=/compiler-team/about/triage-meeting/>Triage Meeting</a></li></ul></li><li><p><strong>Minutes</strong></p><ul><li><a href=/compiler-team/minutes/design-meeting/>Design Meetings</a></li><li><a href=/compiler-team/minutes/steering-meeting/>Steering Meetings</a></li><li><a href=/compiler-team/minutes/triage-meeting/>Triage Meetings</a></li></ul></li><li><p><strong>Procedures</strong></p><ul><li><a href=/compiler-team/procedures/>Documentation</a></li><li><a href=/compiler-team/procedures/crates/>Crates</a></li><li><a href=/compiler-team/procedures/call-for-participation/>Call for participation</a></li><li><a href=/compiler-team/procedures/form-new-working-group/>Form new working group</a></li></ul></li><li><p><a href=/compiler-team/working-groups/><strong>Working Groups</strong></a></p><ul><li><a href=/compiler-team/working-groups/async-await/>Async Await</a></li><li><a href=/compiler-team/working-groups/debugging/>Debugging</a></li><li><a href=/compiler-team/working-groups/diagnostics/>Diagnostics</a></li><li><a href=/compiler-team/working-groups/rustc-dev-guide/>Rustc Dev Guide</a></li><li><a href=/compiler-team/working-groups/llvm/>LLVM</a></li><li><a href=/compiler-team/working-groups/meta/>Meta</a></li><li><a href=/compiler-team/working-groups/mir-opt/>MIR-opt</a></li><li><a href=/compiler-team/working-groups/nll/>NLL</a></li><li><a href=/compiler-team/working-groups/parallel-rustc/>parallel rustc</a></li><li><a href=/compiler-team/working-groups/pgo/>PGO</a></li><li><a href=/compiler-team/working-groups/pipelining/>pipelining</a></li><li><a href=/compiler-team/working-groups/polonius/>polonius</a></li><li><a href=/compiler-team/working-groups/polymorphization/>polymorphization</a></li><li><a href=/compiler-team/working-groups/prioritization/>Prioritization</a></li><li><a href=/compiler-team/working-groups/rfc-2229/>rfc-2229</a></li><li><a href=/compiler-team/working-groups/rls-2.0/>rls-2.0</a></li><li><a href=/compiler-team/working-groups/self-profile/>Self Profile</a></li><li><a href=/compiler-team/working-groups/traits/>Traits</a></li></ul></li></ul></nav></aside><div class=book-page><header class="align-center justify-between book-header"><label for=menu-control><img src=/compiler-team/svg/menu.svg alt=Menu>
</label><strong>T Compiler Meeting Agenda 2021 11 18</strong></header><article class=markdown><h1 id=t-compiler-meeting-agenda-2021-11-18>T-compiler Meeting Agenda 2021-11-18</h1><p><a href=https://github.com/rust-lang/rust/issues/54818>Tracking Issue</a></p><h2 id=announcements>Announcements</h2><ul><li>Tomorrow we have our monthly <a href=https://forge.rust-lang.org/compiler/steering-meeting.html>planning meeting</a> at <a href=time:2021-11-19T15:00:00-00:00>time:2021-11-19T15:00:00-00:00</a></li><li>Reminder: if you see a PR/issue that seems like there might be legal implications due to copywrite/IP/etc, please let the Core team know (or at least message @<em><strong>pnkfelix</strong> or @</em><strong>Wesley Wiser</strong> so we can pass it along).</li></ul><h2 id=mcpsfcps>MCPs/FCPs</h2><ul><li>New MCPs (take a look, see if you like them!)<ul><li>No new proposals this time.</li></ul></li><li>Old MCPs (not seconded, take a look)<ul><li>&ldquo;CI should exercise (subset of) tests under &ndash;stage 1&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/439>compiler-team#439</a> (last review activity: 3 months ago)</li><li>&ldquo;Accept <code>pc</code> in place of <code>unknown</code> and <code>unknown</code> in place of <code>pc</code> for <code>x86_64</code> and <code>i?86</code> targets&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/441>compiler-team#441</a> (last review activity: 4 months ago)</li><li>&ldquo;Make <code>-Z binary-dep-depinfo</code> the default behavior&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/464>compiler-team#464</a> (last review activity: about 48 days ago)</li><li>&ldquo;Unstable lints should be considered unknown&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/469>compiler-team#469</a> (last review activity: about 2 days ago)</li></ul></li><li>Pending FCP requests (check your boxes!)<ul><li>&ldquo;Tracking Issue for cargo report future-incompat&rdquo; <a href=https://github.com/rust-lang/rust/issues/71249>rust#71249</a></li><li>&ldquo;Tracking Issue for inline assembly (<code>asm!</code>)&rdquo; <a href=https://github.com/rust-lang/rust/issues/72016>rust#72016</a></li></ul></li><li>Things in FCP (make sure you&rsquo;re good with it)<ul><li>No FCP requests this time.</li></ul></li><li>Accepted MCPs<ul><li>&ldquo;Create a macos notification group&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/470>compiler-team#470</a></li></ul></li><li>Finalized FCPs (disposition merge)<ul><li>&ldquo;Tracking Issue for <code>destructuring_assignment</code>&rdquo; <a href=https://github.com/rust-lang/rust/issues/71126>rust#71126</a></li><li>&ldquo;Tracking Issue for relaxed struct unsizing rules&rdquo; <a href=https://github.com/rust-lang/rust/issues/81793>rust#81793</a></li><li>&ldquo;GATs: Decide whether to have defaults for <code>where Self: 'a</code>&rdquo; <a href=https://github.com/rust-lang/rust/issues/87479>rust#87479</a></li><li>&ldquo;Stabilize <code>const_raw_ptr_deref</code> for <code>*const T</code>&rdquo; <a href=https://github.com/rust-lang/rust/pull/89551>rust#89551</a></li><li>&ldquo;Stabilize -Z strip as -C strip&rdquo; <a href=https://github.com/rust-lang/rust/pull/90058>rust#90058</a></li><li>&ldquo;Stabilize -Z symbol-mangling-version=v0 as -C symbol-mangling-version=v0&rdquo; <a href=https://github.com/rust-lang/rust/pull/90128>rust#90128</a></li><li>&ldquo;stabilize format args capture&rdquo; <a href=https://github.com/rust-lang/rust/pull/90473>rust#90473</a></li></ul></li></ul><h3 id=wg-checkins>WG checkins</h3><ul><li><p>@<em>WG-async-foundations</em> by @<strong>nikomatsakis</strong> and @<strong>tmandry</strong> (<a href=https://hackmd.io/IGePuIQTQqGzdwqVrN1IlA?view#WG-checkins>previous checkin</a>)</p><blockquote><p>checkin text</p></blockquote></li><li><p>@<em>WG-traits</em> by @<strong>nikomatsakis</strong> and @<strong>Jack Huey</strong> (<a href=https://hackmd.io/IGePuIQTQqGzdwqVrN1IlA?view#WG-checkins>previous checkin</a>)</p><blockquote><p>Work continues on both GATs and TAITs. For GATs, the outlives lint landed, but needs a bit more work before stabilization. Whether or not to change the syntax of where clauses on GATs remains an open question. Some bug fixes for GATs/HRTBs have also landed, including normalizing predicates for closures. Negative impls for coherence also landed. (sorry for no links, on mobile! - Jack)</p></blockquote></li></ul><h2 id=backport-nominations>Backport nominations</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-compiler">T-compiler stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-compiler">T-compiler beta</a></p><ul><li>:beta: &ldquo;Android is not GNU&rdquo; <a href=https://github.com/rust-lang/rust/pull/90834>rust#90834</a><ul><li>nominated by @<strong>Vadim Petrochenkov</strong> <a href=https://github.com/rust-lang/rust/pull/90834#issuecomment-969664308>to reduce the versions window</a> with this incorrect behaviour</li></ul></li><li>:beta: &ldquo;relate lifetime in <code>TypeOutlives</code> bounds on drop impls&rdquo; <a href=https://github.com/rust-lang/rust/pull/90840>rust#90840</a><ul><li>Fixes <code>P-critical</code> <a href=https://github.com/rust-lang/rust/issues/90838>rust#90838</a></li><li>also nominated for stable backport</li></ul></li><li>:beta: &ldquo;Update llvm submodule&rdquo; <a href=https://github.com/rust-lang/rust/pull/90954>rust#90954</a><ul><li><a href=https://github.com/rust-lang/rust/pull/90954#issuecomment-972660123>Nomination details</a></li></ul></li><li>:stable: &ldquo;Add <code>deref_into_dyn_supertrait</code> lint.&rdquo; <a href=https://github.com/rust-lang/rust/pull/89461>rust#89461</a><ul><li>opened by @<strong>Charles Lew</strong>, fixes <code>P-high</code> <a href=https://github.com/rust-lang/rust/issues/89190>rust#89190</a></li><li>nominated by @<strong>pnkfelix</strong> (it&rsquo;s already in beta)</li></ul></li><li>:stable: &ldquo;relate lifetime in <code>TypeOutlives</code> bounds on drop impls&rdquo; <a href=https://github.com/rust-lang/rust/pull/90840>rust#90840</a><ul><li>see beta nomination</li></ul></li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-rustdoc">T-rustdoc stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-rustdoc">T-rustdoc beta</a></p><ul><li>:stable: &ldquo;rustdoc: Go back to loading all external crates unconditionally&rdquo; <a href=https://github.com/rust-lang/rust/pull/90489>rust#90489</a><ul><li>beta-backport <a href=https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-11-04.20.2354818/near/260278752>approved last week</a></li><li>stable-backport deferred to this week, could probably follow the release timeline</li></ul></li></ul><p>:back: / :shrug: / :hand:</p><h2 id=prs-s-waiting-on-team>PRs S-waiting-on-team</h2><p><a href="https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-compiler">T-compiler</a></p><ul><li>&ldquo;Make specifying repr optional for fieldless enums&rdquo; <a href=https://github.com/rust-lang/rust/pull/88203>rust#88203</a><ul><li>This is <code>T-lang-nominated</code>, T-lang <a href=https://github.com/rust-lang/rust/pull/88203#issuecomment-970574178>discussed the matter</a></li></ul></li><li>&ldquo;Make feature key optional for rustc_stable, rustc_const_stable attributes&rdquo; <a href=https://github.com/rust-lang/rust/pull/88588>rust#88588</a><ul><li>Waiting for <code>T-libs</code> feedback</li></ul></li></ul><h2 id=oldest-prs-waiting-for-review>Oldest PRs waiting for review</h2><p><a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-asc+label%3AS-waiting-on-review+draft%3Afalse+label%3AT-compiler">T-compiler</a></p><ul><li>&ldquo;Add codegen option for branch protection and pointer authentication on AArch64&rdquo; <a href=https://github.com/rust-lang/rust/pull/88354>rust#88354</a> (last review activity: 2 months ago)<ul><li>@<strong>nagisa</strong> will <a href=https://github.com/rust-lang/rust/pull/88354#issuecomment-966435875>try to have a look at this</a></li></ul></li><li>&ldquo;Suggest <code>i += 1</code> when we see <code>i++</code> or <code>++i</code>&rdquo; <a href=https://github.com/rust-lang/rust/pull/88672>rust#88672</a> (last review activity: 2 months ago)<ul><li>has been reviewed in September by @<strong>estebank</strong></li></ul></li><li>&ldquo;asm/arm: allow r9 when usable, make diagnostics more specific&rdquo; <a href=https://github.com/rust-lang/rust/pull/88879>rust#88879</a> (last review activity: 2 months ago)<ul><li>last comment is paging @<strong>Amanieu</strong></li></ul></li><li>&ldquo;[experiment] remove diverge_from in box expr building&rdquo; <a href=https://github.com/rust-lang/rust/pull/89332>rust#89332</a> (last review activity: about 50 days ago)<ul><li>PR author @<strong>Gary Guo</strong> <a href=https://github.com/rust-lang/rust/pull/89332#issuecomment-964545540>asks for a feedback</a> before deciding to turn it into a real PR</li></ul></li><li>&ldquo;Makes docs for references a little less confusing&rdquo; <a href=https://github.com/rust-lang/rust/pull/88361>rust#88361</a> (last review activity: none)<ul><li>rust-highfive assigned to @<strong>Josh Triplett</strong></li></ul></li></ul><h2 id=issues-of-note>Issues of Note</h2><h3 id=short-summary>Short Summary</h3><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical">2 T-compiler P-critical issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical+no%3Aassignee">1 of those are unassigned</a></li></ul></li><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high">81 T-compiler P-high issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high+no%3Aassignee">57 of those are unassigned</a></li></ul></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta>1 P-critical, 6 P-high, 3 P-medium, 0 P-low regression-from-stable-to-beta</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly>0 P-critical, 2 P-high, 3 P-medium, 1 P-low regression-from-stable-to-nightly</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-stable>3 P-critical, 49 P-high, 84 P-medium, 12 P-low regression-from-stable-to-stable</a></li></ul><h3 id=p-critical>P-critical</h3><p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-compiler">T-compiler</a></p><ul><li>&ldquo;Miscompilation where binding only some fields leaks the others&rdquo; <a href=https://github.com/rust-lang/rust/issues/90752>rust#90752</a></li><li>&ldquo;Unsound drop due to imperfect lifetime checks&rdquo; <a href=https://github.com/rust-lang/rust/issues/90838>rust#90838</a></li></ul><p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-rustdoc">T-rustdoc</a></p><ul><li>No <code>P-critical</code> issues for <code>T-rustdoc</code> this time.</li></ul><h3 id=p-high-regressions>P-high regressions</h3><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-beta+label%3AP-high+-label%3AT-infra+-label%3AT-libs+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">P-high beta regressions</a></p><ul><li>&ldquo;Compilation appears to loop indefinitely " <a href=https://github.com/rust-lang/rust/issues/89195>rust#89195</a></li><li>&ldquo;Incremental compilation fails in all cases on SystemZ (s390x)&rdquo; <a href=https://github.com/rust-lang/rust/issues/90123>rust#90123</a></li><li>&ldquo;regression: rustc suggests <code>.as_ref()</code> at incorrect location and other spans have regressed&rdquo; <a href=https://github.com/rust-lang/rust/issues/90286>rust#90286</a></li><li>&ldquo;DWARF info for <code>static</code> vars in lib crates has stopped being produced reliably in LTO builds&rdquo; <a href=https://github.com/rust-lang/rust/issues/90357>rust#90357</a></li><li>&ldquo;warn(must_not_suspend) started being raised incorrectly when moving from stable to nightly&rdquo; <a href=https://github.com/rust-lang/rust/issues/90459>rust#90459</a></li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-nightly+label%3AP-high+no%3Aassignee+-label%3AT-infra+-label%3AT-libs+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">Unassigned P-high nightly regressions</a></p><ul><li>&ldquo;Undefined reference to <code>getauxval</code> in function <code>init_have_lse_atomics</code> when compiling to nightly <code>aarch64-unknown-linux-musl</code>&rdquo; <a href=https://github.com/rust-lang/rust/issues/89626>rust#89626</a></li></ul><h2 id=performance-logs>Performance logs</h2><blockquote><p><a href=https://github.com/rust-lang/rustc-perf/blob/master/triage/2021-11-16.md>triage logs for 2021-11-16</a></p></blockquote><p>A large amount of noise in the comparisons this week, likely due to new
probabilistic query hash verification increasing likelihood of changes in each
benchmark; solutions are being tracked in <a href=https://github.com/rust-lang/rustc-perf/issues/1105>rustc-perf#1105</a>.</p><p>Otherwise, though, the week largely amounted to a neutral one for performance.
There were some regressions, particularly in doc builds, as a result of the
addition of portable SIMD. These are relatively speaking minor and primarily
impact small crates.</p><p>Triage done by <strong>@simulacrum</strong>.
Revision range: <a href="https://perf.rust-lang.org/?start=eee8b9c7bafade55981d155dae71657f1cc55a22&amp;end=934624fe5f66ce3fb8abf0597a6deb079783335f&amp;absolute=false&amp;stat=instructions%3Au">eee8b9c7bafade55981d155dae71657f1cc55a22..934624fe5f66ce3fb8abf0597a6deb079783335f</a></p><p>5 Regressions, 2 Improvements, 6 Mixed; 2 of them in rollups</p><p>41 comparisons made in total
30 Untriaged Pull Requests</p><h4 id=regressions>Regressions</h4><p>pub use core::simd; <a href=https://github.com/rust-lang/rust/issues/89167>#89167</a></p><ul><li>Very large regression in <a href="https://perf.rust-lang.org/compare.html?start=e90c5fbbc5df5c81267747daeb937d4e955ce6ad&amp;end=032dfe43605f4324966933078ffe6f717b77c7c8&amp;stat=instructions:u">instruction counts</a> (up to 11.8% on <code>full</code> builds of <code>helloworld</code>)</li><li>Expected regression due to expansion of libcore size; this continues to be a
pain point as we add features to the standard library. Largest regressions are
in rustdoc builds as it&rsquo;s more sensitive to the addition of new traits and
impls.</li></ul><p>proc_macro: Add an expand_expr method to TokenStream <a href=https://github.com/rust-lang/rust/issues/87264>#87264</a></p><ul><li>Very large regression in <a href="https://perf.rust-lang.org/compare.html?start=7594067b69eac2395f7b3b42d519a559dae2d9d9&amp;end=3e018ce194ab16125747220676dd8a20aecd5196&amp;stat=instructions:u">instruction counts</a> (up to 5.3% on <code>incr-unchanged</code> builds of <code>inflate</code>)</li><li>Incremental regressions are likely to be due to random hashing added for
incr-comp verification (which we may decide to disable during perf collection
to avoid this). Otherwise, the regression is minimal to TokenStream
processing.</li></ul><p>MIRI says <code>reverse</code> is UB, so replace it with something LLVM can vectorize <a href=https://github.com/rust-lang/rust/issues/90821>#90821</a></p><ul><li>Moderate regression in <a href="https://perf.rust-lang.org/compare.html?start=c26746af5a925bad66b7ed4f9e7c3018f00d4010&amp;end=891ca5f63c3b3cfe3939710a728671243e881ed6&amp;stat=instructions:u">instruction counts</a> (up to 0.8% on <code>full</code> builds of <code>deeply-nested</code>)</li><li>Unclear cause to these regressions, but they seem to larely be in doc builds.</li></ul><p>Rollup of 5 pull requests <a href=https://github.com/rust-lang/rust/issues/90769>#90769</a></p><ul><li>Very large regression in <a href="https://perf.rust-lang.org/compare.html?start=68ca579406f2fa9ec62710e4a4d5d3e07a168d3c&amp;end=82af160c2cb9c349a0373cba98d8ad7f911f0d34&amp;stat=instructions:u">instruction counts</a> (up to 84.9% on <code>full</code> builds of <code>webrender-wrench</code>)</li><li>Also has a small improvement, but that is likely to be the incremental
verification noise.</li></ul><p>Added the &ndash;temps-dir option <a href=https://github.com/rust-lang/rust/issues/83846>#83846</a></p><ul><li>Small regression in <a href="https://perf.rust-lang.org/compare.html?start=8e0293137f895a417fa043b9817c455150769406&amp;end=9dbbbb12c0b796f35cbf5a518ac12846c969a214&amp;stat=instructions:u">instruction counts</a> (up to 0.5% on <code>incr-unchanged</code> builds of <code>helloworld</code>)</li><li>Unclear what the cause of this is; we would not generally expect a regression
from such an introduction.</li></ul><h4 id=improvements>Improvements</h4><ul><li>Use Vec extend and collect instead of repeatedly calling push <a href=https://github.com/rust-lang/rust/issues/90813>#90813</a></li><li>Address performance regression introduced by #90218 <a href=https://github.com/rust-lang/rust/issues/90845>#90845</a></li></ul><h4 id=mixed>Mixed</h4><p>Replace Copy/Clone compiler magic on arrays with library impls <a href=https://github.com/rust-lang/rust/issues/86041>#86041</a></p><ul><li>Moderate improvement in <a href="https://perf.rust-lang.org/compare.html?start=07acdb48a0e0b22d08a45e3ced0378e0027b40eb&amp;end=d6082292a6f3207cbdacd6633a5b9d1476bb6772&amp;stat=instructions:u">instruction counts</a> (up to -1.2% on <code>incr-unchanged</code> builds of <code>deeply-nested</code>)</li><li>Moderate regression in <a href="https://perf.rust-lang.org/compare.html?start=07acdb48a0e0b22d08a45e3ced0378e0027b40eb&amp;end=d6082292a6f3207cbdacd6633a5b9d1476bb6772&amp;stat=instructions:u">instruction counts</a> (up to 1.0% on <code>full</code> builds of <code>cranelift-codegen</code>)</li><li>Limited regressions in codegen, mostly due to more complicated MIR for these
impls when done in library code vs. directly generated.</li></ul><p>Optimize pattern matching <a href=https://github.com/rust-lang/rust/issues/90746>#90746</a></p><ul><li>Very large improvement in <a href="https://perf.rust-lang.org/compare.html?start=3d29b6807740db74aeb9c2f626115e519dee4a62&amp;end=936238a92b2f9d6e7afe7dda69b4afd903f96399&amp;stat=instructions:u">instruction counts</a> (up to -5.3% on <code>full</code> builds of <code>match-stress-enum</code>)</li><li>Large regression in <a href="https://perf.rust-lang.org/compare.html?start=3d29b6807740db74aeb9c2f626115e519dee4a62&amp;end=936238a92b2f9d6e7afe7dda69b4afd903f96399&amp;stat=instructions:u">instruction counts</a> (up to 4.0% on <code>incr-unchanged</code> builds of <code>deep-vector</code>)</li></ul><p>rustdoc: Go back to loading all external crates unconditionally <a href=https://github.com/rust-lang/rust/issues/90489>#90489</a></p><ul><li>Large improvement in <a href="https://perf.rust-lang.org/compare.html?start=936238a92b2f9d6e7afe7dda69b4afd903f96399&amp;end=14a2fd640e0df9ee8cc1e04280b0c3aff93c42da&amp;stat=instructions:u">instruction counts</a> (up to -3.9% on <code>incr-unchanged</code> builds of <code>deep-vector</code>)</li><li>Large regression in <a href="https://perf.rust-lang.org/compare.html?start=936238a92b2f9d6e7afe7dda69b4afd903f96399&amp;end=14a2fd640e0df9ee8cc1e04280b0c3aff93c42da&amp;stat=instructions:u">instruction counts</a> (up to 2.8% on <code>full</code> builds of <code>cargo</code>)</li></ul><p>Make RawVec private to alloc <a href=https://github.com/rust-lang/rust/issues/90542>#90542</a></p><ul><li>Very large improvement in <a href="https://perf.rust-lang.org/compare.html?start=3e018ce194ab16125747220676dd8a20aecd5196&amp;end=1b12d01903293453dd94aa170c82caf94415629f&amp;stat=instructions:u">instruction counts</a> (up to -5.1% on <code>incr-unchanged</code> builds of <code>inflate</code>)</li><li>Large regression in <a href="https://perf.rust-lang.org/compare.html?start=3e018ce194ab16125747220676dd8a20aecd5196&amp;end=1b12d01903293453dd94aa170c82caf94415629f&amp;stat=instructions:u">instruction counts</a> (up to 4.0% on <code>incr-unchanged</code> builds of <code>deep-vector</code>)</li></ul><p>Optimize Eq and Hash for Path/PathBuf <a href=https://github.com/rust-lang/rust/issues/90596>#90596</a></p><ul><li>Very large improvement in <a href="https://perf.rust-lang.org/compare.html?start=3b2c45441d7eefed63f6658ff8becd5a51eaeae1&amp;end=c8e94975a6541e947a1bd4971e084c8ba637f2b6&amp;stat=instructions:u">instruction counts</a> (up to -6.0% on <code>incr-unchanged</code> builds of <code>coercions</code>)</li><li>Very large regression in <a href="https://perf.rust-lang.org/compare.html?start=3b2c45441d7eefed63f6658ff8becd5a51eaeae1&amp;end=c8e94975a6541e947a1bd4971e084c8ba637f2b6&amp;stat=instructions:u">instruction counts</a> (up to 12.9% on <code>incr-unchanged</code> builds of <code>tuple-stress</code>)</li></ul><p>Rollup of 8 pull requests <a href=https://github.com/rust-lang/rust/issues/90945>#90945</a></p><ul><li>Small improvement in <a href="https://perf.rust-lang.org/compare.html?start=a2a7683e8f321e3c0b9d648ae480827b5ab70e1d&amp;end=934624fe5f66ce3fb8abf0597a6deb079783335f&amp;stat=instructions:u">instruction counts</a> (up to -0.4% on <code>full</code> builds of <code>deeply-nested-async</code>)</li><li>Small regression in <a href="https://perf.rust-lang.org/compare.html?start=a2a7683e8f321e3c0b9d648ae480827b5ab70e1d&amp;end=934624fe5f66ce3fb8abf0597a6deb079783335f&amp;stat=instructions:u">instruction counts</a> (up to 0.3% on <code>incr-patched: println</code> builds of <code>clap-rs</code>)</li></ul><h2 id=nominated-issues>Nominated Issues</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-nominated+label%3AT-compiler">T-compiler</a></p><ul><li>&ldquo;Tracking issue for plugin stabilization (<code>plugin</code>, <code>plugin_registrar</code> features)&rdquo; <a href=https://github.com/rust-lang/rust/issues/29597>rust#29597</a><ul><li>nominated by @<strong>Josh Triplett</strong>, <a href=https://github.com/rust-lang/rust/issues/29597#issuecomment-965644083>asks in comment</a>: &ldquo;what&rsquo;s still using plugin support?&rdquo;</li><li>@<strong>wesley wiser</strong> comments <a href=https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-11-11.20.2354818/near/261151412>he&rsquo;s not be aware of anything</a></li></ul></li><li>&ldquo;Change <code>char</code> type in debuginfo to DW_ATE_UTF&rdquo; <a href=https://github.com/rust-lang/rust/pull/89887>rust#89887</a><ul><li>nominated by @<strong>wesley wiser</strong> <a href=https://github.com/rust-lang/rust/pull/89887#issuecomment-965530540>in comment</a></li></ul></li><li>&ldquo;sess: default to v0 symbol mangling&rdquo; <a href=https://github.com/rust-lang/rust/pull/89917>rust#89917</a><ul><li>@<strong>mw</strong> nominated to discuss Wesley&rsquo;s suggestion <a href=https://github.com/rust-lang/rust/pull/89917#issuecomment-951009529>in this comment</a></li></ul></li><li>&ldquo;implement aspect-oriented programming (AOP) for Rust&rdquo; <a href=https://github.com/rust-lang/rust/pull/90721>rust#90721</a><ul><li>@<strong>mw</strong> suggested to first file an MCP</li><li>@<strong>davidtwco</strong> is a colleague of the author at Huawei and can coordinate between the compiler team and the author where required.</li><li>Does this might be of interest for <code>T-lang</code>?</li></ul></li><li>&ldquo;Miscompilation where binding only some fields leaks the others&rdquo; <a href=https://github.com/rust-lang/rust/issues/90752>rust#90752</a><ul><li>@<strong>tmandry</strong> nominated</li><li><a href=https://github.com/rust-lang/rust/issues/90752#issuecomment-965822895>great writeup</a> from @<strong>Dylan MacKenzie (ecstatic-morse)</strong>, suggests a quick fix</li><li>Opened PR <a href=https://github.com/rust-lang/rust/pull/90788>rust#90788</a> that implements the quick fix suggested. PR is beiung reviewed.</li><li>wg-prio assigned <code>P-critical</code>, but being a regression from stable probably not a release blocker?</li></ul></li></ul><p><a href="https://github.com/rust-lang/rfcs/issues?q=is%3Aopen+label%3AI-nominated+label%3AT-compiler">RFC</a></p><ul><li>No nominated RFCs for <code>T-compiler</code> this time.</li></ul></article></div><aside class="book-toc level-6 fixed"><nav id=TableOfContents><ul><li><a href=#announcements>Announcements</a></li><li><a href=#mcpsfcps>MCPs/FCPs</a><ul><li><a href=#wg-checkins>WG checkins</a></li></ul></li><li><a href=#backport-nominations>Backport nominations</a></li><li><a href=#prs-s-waiting-on-team>PRs S-waiting-on-team</a></li><li><a href=#oldest-prs-waiting-for-review>Oldest PRs waiting for review</a></li><li><a href=#issues-of-note>Issues of Note</a><ul><li><a href=#short-summary>Short Summary</a></li><li><a href=#p-critical>P-critical</a></li><li><a href=#p-high-regressions>P-high regressions</a></li></ul></li><li><a href=#performance-logs>Performance logs</a><ul><li></li></ul></li><li><a href=#nominated-issues>Nominated Issues</a></li></ul></nav></aside></main></body></html>