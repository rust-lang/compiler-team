<!doctype html><html lang=en><head><meta http-equiv=refresh content="0; url=https://forge.rust-lang.org/compiler/index.html"></head><body><input type=checkbox style=display:none id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav><h2 class=book-brand><a href=https://rust-lang.github.io/compiler-team/>Rust Lang - Compiler Team</a></h2><style>nav ul a[href$=\2f compiler-team\2fminutes\2ftriage-meeting\2fT-compiler-Meeting-Agenda-2022-04-21\2f ]{color:#004ed0}</style><ul><li><p><strong>About</strong></p><ul><li><a href=/compiler-team/about/CODE_OF_CONDUCT/>Code of Conduct</a></li><li><a href=/compiler-team/about/chat-platform/>Chat Platform</a></li><li><a href=/compiler-team/about/steering-meeting/>Steering Meeting</a></li><li><a href=/compiler-team/about/triage-meeting/>Triage Meeting</a></li></ul></li><li><p><strong>Minutes</strong></p><ul><li><a href=/compiler-team/minutes/design-meeting/>Design Meetings</a></li><li><a href=/compiler-team/minutes/steering-meeting/>Steering Meetings</a></li><li><a href=/compiler-team/minutes/triage-meeting/>Triage Meetings</a></li></ul></li><li><p><strong>Procedures</strong></p><ul><li><a href=/compiler-team/procedures/>Documentation</a></li><li><a href=/compiler-team/procedures/crates/>Crates</a></li><li><a href=/compiler-team/procedures/call-for-participation/>Call for participation</a></li><li><a href=/compiler-team/procedures/form-new-working-group/>Form new working group</a></li></ul></li><li><p><a href=/compiler-team/working-groups/><strong>Working Groups</strong></a></p><ul><li><a href=/compiler-team/working-groups/async-await/>Async Await</a></li><li><a href=/compiler-team/working-groups/debugging/>Debugging</a></li><li><a href=/compiler-team/working-groups/diagnostics/>Diagnostics</a></li><li><a href=/compiler-team/working-groups/rustc-dev-guide/>Rustc Dev Guide</a></li><li><a href=/compiler-team/working-groups/llvm/>LLVM</a></li><li><a href=/compiler-team/working-groups/meta/>Meta</a></li><li><a href=/compiler-team/working-groups/mir-opt/>MIR-opt</a></li><li><a href=/compiler-team/working-groups/nll/>NLL</a></li><li><a href=/compiler-team/working-groups/parallel-rustc/>parallel rustc</a></li><li><a href=/compiler-team/working-groups/pgo/>PGO</a></li><li><a href=/compiler-team/working-groups/pipelining/>pipelining</a></li><li><a href=/compiler-team/working-groups/polonius/>polonius</a></li><li><a href=/compiler-team/working-groups/polymorphization/>polymorphization</a></li><li><a href=/compiler-team/working-groups/prioritization/>Prioritization</a></li><li><a href=/compiler-team/working-groups/rfc-2229/>rfc-2229</a></li><li><a href=/compiler-team/working-groups/rls-2.0/>rls-2.0</a></li><li><a href=/compiler-team/working-groups/self-profile/>Self Profile</a></li><li><a href=/compiler-team/working-groups/traits/>Traits</a></li></ul></li></ul></nav></aside><div class=book-page><header class="align-center justify-between book-header"><label for=menu-control><img src=/compiler-team/svg/menu.svg alt=Menu>
</label><strong>T Compiler Meeting Agenda 2022 04 21</strong></header><article class=markdown><h1 id=t-compiler-meeting-agenda-2022-04-21>T-compiler Meeting Agenda 2022-04-21</h1><h2 id=announcements>Announcements</h2><ul><li>Tomorrow <a href=time:2022-04-22T13:00:00+02:00>time:2022-04-22T13:00:00+02:00</a> Types Team: Deep-dive on Formality subtyping rules <a href="https://calendar.google.com/calendar/event?eid=M3JsYmdkN2F0cjdtYXE0Z2ljYzM4Nm42NTRfMjAyMjA0MjJUMTMwMDAwWiA2dTVycnRjZTZscnR2MDdwZmkzZGFtZ2p1c0Bn&amp;ctz=GMT+02:00">calendar link</a><ul><li>Topic of the meeting: <a href=https://github.com/rust-lang/wg-traits/issues/39>wg-traits#39</a></li></ul></li><li>Tomorrow <a href=time:2022-04-22T16:00:00+02:00>time:2022-04-22T16:00:00+02:00</a> Compiler Team: Compiler Leadership and Succession (<a href="https://calendar.google.com/calendar/event?eid=M21wYmo2bm1yYXYwcW43amZrNDg1dmhzOTIgNnU1cnJ0Y2U2bHJ0djA3cGZpM2RhbWdqdXNAZw&amp;ctz=GMT+02:00">calendar link</a>)<ul><li>Topic of the meeting <a href=https://github.com/rust-lang/compiler-team/issues/506>compiler-team#506</a> and (if time allows) <a href=https://github.com/rust-lang/compiler-team/issues/484>compiler-team#484</a></li></ul></li><li>Reminder: if you see a PR/issue that seems like there might be legal implications due to copyright/IP/etc, please let the Core team know (or at least message @<em><strong>pnkfelix</strong> or @</em><strong>Wesley Wiser</strong> so we can pass it along).</li></ul><h2 id=mcpsfcps>MCPs/FCPs</h2><ul><li>New MCPs (take a look, see if you like them!)<ul><li>&ldquo;Add attribute to run specific tests in an isolated process&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/508>compiler-team#508</a></li><li>&ldquo;Stabilize <code>-Zgcc-ld=lld</code>&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/510>compiler-team#510</a></li></ul></li><li>Old MCPs (not seconded, take a look)<ul><li>&ldquo;Accept <code>pc</code> in place of <code>unknown</code> and <code>unknown</code> in place of <code>pc</code> for <code>x86_64</code> and <code>i?86</code> targets&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/441>compiler-team#441</a> (last review activity: 9 months ago)</li><li>&ldquo;Make <code>-Z binary-dep-depinfo</code> the default behavior&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/464>compiler-team#464</a> (last review activity: 6 months ago)</li><li>&ldquo;Tier 3 target proposal: riscv64gc-linux-android (Android target for <code>riscv64gc</code>)&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/472>compiler-team#472</a> (last review activity: 4 months ago)</li><li>&ldquo;<code>-Dwarnings</code> to cover all warnings&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/473>compiler-team#473</a> (last review activity: 4 months ago)</li><li>&ldquo;Build-time execution sandboxing&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/475>compiler-team#475</a> (last review activity: 3 months ago)</li><li>&ldquo;Dealing with type/const ambiguities&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/480>compiler-team#480</a> (last review activity: 3 months ago)</li><li>&ldquo;Removing codegen logic for <code>nvptx-nvidia-cuda</code> (32-bit target)&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/496>compiler-team#496</a> (last review activity: about 34 days ago)</li><li>&ldquo;Add <code>yeet</code> experimentally&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/501>compiler-team#501</a> (last review activity: about 20 days ago)</li></ul></li><li>Pending FCP requests (check your boxes!)<ul><li>&ldquo;Tracking issue for Consistent no-prelude attribute (RFC 501)&rdquo; <a href=https://github.com/rust-lang/rust/issues/20561#issuecomment-1059258740>rust#20561</a></li><li>&ldquo;Tracking Issue for <code>-Z terminal-width</code>&rdquo; <a href=https://github.com/rust-lang/rust/issues/84673#issuecomment-1087141663>rust#84673</a></li><li>&ldquo;Increase the minimum linux-gnu versions&rdquo; <a href=https://github.com/rust-lang/rust/pull/95026#issuecomment-1077855006>rust#95026</a></li><li>&ldquo;Remove mutable_borrow_reservation_conflict lint and allow the code pattern&rdquo; <a href=https://github.com/rust-lang/rust/pull/96268#issuecomment-1104746486>rust#96268</a></li></ul></li><li>Things in FCP (make sure you&rsquo;re good with it)<ul><li>No FCP requests this time.</li></ul></li><li>Accepted MCPs<ul><li>&ldquo;Add support for MIR opt unit tests via a new <code>-Z</code> flag&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/502>compiler-team#502</a></li><li>&ldquo;Remove -Zast-json&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/503>compiler-team#503</a></li><li>&ldquo;Add TyKind::Alias to keep type alias information&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/504>compiler-team#504</a></li><li>&ldquo;try to not rely on attributes from extern crates&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/505>compiler-team#505</a></li></ul></li><li>Finalized FCPs (disposition merge)<ul><li>&ldquo;Check if call return type is visibly uninhabited when building MIR&rdquo; <a href=https://github.com/rust-lang/rust/pull/93313>rust#93313</a></li><li>&ldquo;Fix constants not getting dropped if part of a diverging expression&rdquo; <a href=https://github.com/rust-lang/rust/pull/94775>rust#94775</a></li><li>&ldquo;[<code>let_chains</code>] Forbid <code>let</code> inside parentheses&rdquo; <a href=https://github.com/rust-lang/rust/pull/95008>rust#95008</a></li></ul></li></ul><h3 id=wg-checkins>WG checkins</h3><ul><li>@_<em>WG-rustc-dev-guide</em> Rustc Dev Guide by @<strong>Santiago Pastorino</strong> and @<strong>Yuki Okushi|217081</strong> (<a href=https://hackmd.io/KW_vTfxFS2Ci4aLcQlF0mA#WG-checkins>previous checkin</a>):</li></ul><blockquote><h4 id=most-notable-changes>Most notable changes</h4><ul><li>sessiondiagnostic: translation <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1333>#1333</a></li><li>Add example how lints can be feature gated <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1332>#1332</a></li><li>update section for type system constants <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1329>#1329</a></li></ul><h4 id=most-notable-wips>Most notable WIPs</h4><ul><li>rewrite bootstrapping stages <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1327>#1327</a></li><li>Document ErrorGuaranteed <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1316>#1316</a></li><li>Edit &ldquo;What the compiler does to your code&rdquo; <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1306>#1306</a></li><li>Describe Type Alias Impl Trait (TAIT) Inference Algorithm <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1297>#1297</a></li><li>Added detail to codegen section <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1216>#1216</a></li><li>Update build instructions for rustdoc <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1117>#1117</a></li><li>Document inert vs active attributes <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1110>#1110</a></li><li>Explain the new valtree system for type level constants. <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1097>#1097</a></li></ul></blockquote><ul><li>@_<em>WG-traits</em> (impl trait) Traits (impl trait) by @<strong>nikomatsakis</strong> @<strong>oli</strong> (<a href=https://hackmd.io/KW_vTfxFS2Ci4aLcQlF0mA#WG-checkins>previous checkin</a>):</li></ul><blockquote><ul><li>type alias impl trait refactoring has landed</li><li>Implementationd PRs for all 3 remaining soundness bugs have been opened</li><li>next steps: review all open bugs and triage them to see if they are stabilization blockers
T-ypes deep dive meeting next week friday: the new scheme for determining hidden types of opaque types</li></ul></blockquote><h2 id=backport-nominations>Backport nominations</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-compiler">T-compiler beta</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-compiler">T-compiler stable</a></p><ul><li>:beta: &ldquo;Remove NodeIdHashingMode.&rdquo; <a href=https://github.com/rust-lang/rust/pull/95656>rust#95656</a><ul><li>nominated by @<strong>Wesley Wiser</strong></li><li>Should fix <a href=https://github.com/rust-lang/rust/issues/95945>rust#95945</a>, a ICE on incremental compilation</li></ul></li><li>No stable nominations for <code>T-compiler</code> this time.</li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-rustdoc">T-rustdoc beta</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-rustdoc">T-rustdoc stable</a></p><ul><li>No backport nominations for <code>T-rustdoc</code> this time.</li></ul><p>:back: / :shrug: / :hand:</p><h2 id=prs-s-waiting-on-team>PRs S-waiting-on-team</h2><p><a href="https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-compiler">T-compiler</a></p><ul><li>No PRs waiting on <code>T-compiler</code> this time.</li></ul><h2 id=oldest-prs-waiting-for-review>Oldest PRs waiting for review</h2><p><a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-asc+label%3AS-waiting-on-review+draft%3Afalse+label%3AT-compiler+-label%3AT-lang+-label%3AT-infra+-label%3AT-release+-label%3AT-libs+-label%3AT-libs-api">T-compiler</a></p><ul><li>&ldquo;Fix incorrect suggestion for trait bounds involving binary operators&rdquo; <a href=https://github.com/rust-lang/rust/pull/94034>rust#94034</a> (last review activity: 2 months ago)<ul><li>previously mentioned, @<strong>oli</strong> and @<strong>Esteban Küber</strong> could follow-up on this</li></ul></li><li>&ldquo;Handle generic bounds in a uniform way in HIR&rdquo; <a href=https://github.com/rust-lang/rust/pull/93803>rust#93803</a> (last review activity: about 58 days ago)<ul><li>cc: @<strong>Esteban Küber</strong></li></ul></li><li>&ldquo;Remove all json handling from rustc_serialize&rdquo; <a href=https://github.com/rust-lang/rust/pull/85993>rust#85993</a> (last review activity: about 54 days ago)<ul><li>update: PR depends on MCP <a href=https://github.com/rust-lang/compiler-team/issues/503>#503</a>, now closed</li><li>cc: @<strong>Aaron Hill</strong></li></ul></li><li>&ldquo;rustc_apfloat: Double::mul_add_r panic with specific values&rdquo; <a href=https://github.com/rust-lang/rust/pull/93225>rust#93225</a> (last review activity: about 47 days ago)<ul><li>@<strong>pnkfelix</strong> and @<strong>Wesley Wiser</strong> discussed licensing issue about the the LLVM&rsquo;s APFloat library <a href=https://github.com/rust-lang/rust/issues/55993>rust#55993</a></li><li>Wesley <a href=https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278170501>mentioned</a> a follow-up with Core team / Foundation (<a href=https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-04-07/near/278170501>comment</a>)</li></ul></li><li>&ldquo;Better error message for <code>_</code> in function signature in <code>impl Trait for Ty</code>&rdquo; <a href=https://github.com/rust-lang/rust/pull/95395>rust#95395</a> (last review activity: about 23 days ago)<ul><li>Bot assigned @<strong>Wesley Wiser</strong> as reviewer, reroll dice?</li></ul></li><li>&ldquo;Add Apple WatchOS compile targets&rdquo; <a href=https://github.com/rust-lang/rust/pull/95243>rust#95243</a> (last review activity: about 23 days ago)<ul><li>PR needs a reviewer</li></ul></li><li>&ldquo;Only output DepKind in dump-dep-graph.&rdquo; <a href=https://github.com/rust-lang/rust/pull/95434>rust#95434</a> (last review activity: about 22 days ago)<ul><li>PR needs a reviewer</li></ul></li></ul><h2 id=issues-of-note>Issues of Note</h2><h3 id=short-summary>Short Summary</h3><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical">0 T-compiler P-critical issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical+no%3Aassignee">0 of those are unassigned</a></li></ul></li><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high">62 T-compiler P-high issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high+no%3Aassignee">48 of those are unassigned</a></li></ul></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta>0 P-critical, 2 P-high, 2 P-medium, 0 P-low regression-from-stable-to-beta</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly>0 P-critical, 0 P-high, 1 P-medium, 0 P-low regression-from-stable-to-nightly</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-stable>0 P-critical, 40 P-high, 82 P-medium, 10 P-low regression-from-stable-to-stable</a></li></ul><h3 id=p-critical>P-critical</h3><p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-compiler">T-compiler</a></p><ul><li>No <code>P-critical</code> issues for <code>T-compiler</code> this time.</li></ul><p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-rustdoc">T-rustdoc</a></p><ul><li>No <code>P-critical</code> issues for <code>T-rustdoc</code> this time.</li></ul><h3 id=p-high-regressions>P-high regressions</h3><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-beta+label%3AP-high+-label%3AT-infra+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">P-high beta regressions</a></p><ul><li>&ldquo;Rust beta: &ldquo;cannot infer type&rdquo; when compiling <code>bottom</code> crate&rdquo; <a href=https://github.com/rust-lang/rust/issues/96074>rust#96074</a><ul><li>regression reportedly breaks at least compiling one real world crate (<a href=lib.rs/bottom>bottom</a>)</li><li>confirmed P-high?</li></ul></li><li>&ldquo;regression: TLS linker issues&rdquo; <a href=https://github.com/rust-lang/rust/issues/96132>rust#96132</a><ul><li>confirmed P-high?</li><li>Bisection points to <a href=https://github.com/rust-lang/rust/pull/94373>rust#94373</a> (cc: @<strong>erikdesjardins</strong>)</li><li>@<strong>simulacrum</strong> suggests to revert at least for 1.61</li></ul></li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-nightly+label%3AP-high+no%3Aassignee+-label%3AT-infra+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">Unassigned P-high nightly regressions</a></p><ul><li>No unassigned <code>P-high</code> nightly regressions this time.</li></ul><h2 id=performance-logs>Performance logs</h2><blockquote><p><a href=https://github.com/rust-lang/rustc-perf/blob/e90d5de068857d7f350f7e4604330e53fb611b94/triage/2022-04-19.md>triage logs for 2022-04-19</a></p></blockquote><p>A rough week, if only in terms of the sheer number of PRs that were flagged as regressions. Going through 31 regressive PR&rsquo;s, 13 of them rollups, is not fun.
There were some nice wins from e.g. <a href=https://github.com/rust-lang/rust/pull/95968>#95968</a> and <a href=https://github.com/rust-lang/rust/pull/95981>#95981</a>.
The main worrisome regression is a 1% compile-time from <a href=https://github.com/rust-lang/rust/pull/96010>#96010</a> that seems like it was not expected.</p><p>Triage done by <strong>@pnkfelix</strong>.
Revision range: <a href="https://perf.rust-lang.org/?start=4e1927db3c399fa34dc71992bd5dbec09f945c3d&amp;end=4ca19e09d302a4cbde14f9cb1bc109179dc824cd&amp;absolute=false&amp;stat=instructions%3Au">4e1927db..4ca19e09</a></p><p>7 Regressions, 12 Improvements, 24 Mixed; 13 of them in rollups
51 artifact comparisons made in total
30 Untriaged Pull Requests</p><h4 id=regressions>Regressions</h4><p>Rollup of 7 pull requests <a href=https://github.com/rust-lang/rust/pull/95966>#95966</a> <a href="https://perf.rust-lang.org/compare.html?start=4e1927db3c399fa34dc71992bd5dbec09f945c3d&amp;end=2a83fbc42a9bb6bfdb8d3fb4ecce83fb410d7642&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>2</td><td style=text-align:center>2</td><td style=text-align:center>0</td><td style=text-align:center>0</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>0.2%</td><td style=text-align:center>0.3%</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0.2%</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>0.2%</td><td style=text-align:center>0.4%</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0.2%</td></tr></tbody></table><ul><li>left comment: Unclear cause, fairly small regression, and rollup: not worth the time to investigate &ndash; benefit/cost tradeoff is not worth it.</li></ul><p>Rollup of 4 pull requests <a href=https://github.com/rust-lang/rust/pull/95999>#95999</a> <a href="https://perf.rust-lang.org/compare.html?start=1491e5cc148391f7679542b8e9b4e6d2430a7b69&amp;end=b768f248e99688a2d7649731a99b2f2ad962abf5&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>0</td><td style=text-align:center>3</td><td style=text-align:center>0</td><td style=text-align:center>0</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>N/A</td><td style=text-align:center>1.0%</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>N/A</td><td style=text-align:center>1.2%</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td></tr></tbody></table><ul><li>left comment: I don&rsquo;t see any reason why the PRs in this rollup would have anything to do with its associated regression.</li></ul><p>Use mir constant in thir instead of ty::Const <a href=https://github.com/rust-lang/rust/pull/94255>#94255</a> <a href="https://perf.rust-lang.org/compare.html?start=b768f248e99688a2d7649731a99b2f2ad962abf5&amp;end=e3c43e64eceb00e13b1932229aa9b2d774e6af96&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>2</td><td style=text-align:center>12</td><td style=text-align:center>0</td><td style=text-align:center>0</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>0.2%</td><td style=text-align:center>0.4%</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0.2%</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>0.2%</td><td style=text-align:center>0.5%</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0.2%</td></tr></tbody></table><ul><li>left comment: An earlier perf run, on I think the same commit series as what was eventually merged, showed no primary regressions at all.</li><li>A number of secondary benchmarks regressed, but they are all stress test microbenchmarks, and should not block landing work of this nature.</li><li>So, I&rsquo;m chalking the minor amount of regression that was observed up to noise.</li></ul><p>Update stdarch <a href=https://github.com/rust-lang/rust/pull/95958>#95958</a> <a href="https://perf.rust-lang.org/compare.html?start=0d13f6afeba4935499abe0c9a07426c94492c94e&amp;end=dc4bfcbdfff651c82eff4bdd311d28e54d1513c4&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>1</td><td style=text-align:center>8</td><td style=text-align:center>0</td><td style=text-align:center>0</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>1.1%</td><td style=text-align:center>0.7%</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>1.1%</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>1.1%</td><td style=text-align:center>1.2%</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>1.1%</td></tr></tbody></table><ul><li>left comments. Only one regression but it wasn&rsquo;t clear why this PR would cause it.</li><li>Subsequent attempt to cachegrind diff the two rustc&rsquo;s indicate that there may be some amount of noise at play here. Marked as triaged.</li></ul><p>Rollup of 7 pull requests <a href=https://github.com/rust-lang/rust/pull/96123>#96123</a> <a href="https://perf.rust-lang.org/compare.html?start=2fa9789f596dd7639e1a242d466637b53179f4d1&amp;end=878c7833f6c1ff10e2fd89074e5bd4ef5ff15936&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>0</td><td style=text-align:center>6</td><td style=text-align:center>0</td><td style=text-align:center>0</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>N/A</td><td style=text-align:center>0.4%</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>N/A</td><td style=text-align:center>0.5%</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td></tr></tbody></table><ul><li>six secondary regressions, all in variants of <code>match-stress</code> and all on the order of 0.48%.</li><li>left comment: narrow scope, secondary benchmark, small regression, and rollup: not worth investigating further.</li></ul><p>Rollup of 5 pull requests <a href=https://github.com/rust-lang/rust/pull/96178>#96178</a> <a href="https://perf.rust-lang.org/compare.html?start=0516711ab057d9731f55511f00f9d426bc9db724&amp;end=8305398d7ae6128811ec2b3223939bcd067530c2&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>1</td><td style=text-align:center>0</td><td style=text-align:center>0</td><td style=text-align:center>0</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>2.5%</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>2.5%</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>2.5%</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>2.5%</td></tr></tbody></table><ul><li>regressed syn-opt-1.0.89 opt full by 2.5%.</li><li>The only PR on the list in this rollup that I could imagine having any effect at all on performance is PR #96156.</li><li>looked at graph, seems like benchmark became more noisy recently, and this is part of the variance injected by that noise.</li></ul><p>Add slice::remainder <a href=https://github.com/rust-lang/rust/pull/92287>#92287</a> <a href="https://perf.rust-lang.org/compare.html?start=311e2683e1bad87715b1558f7900e294d24ce491&amp;end=d5ae66c12c6bdf1a5739ae1fce8057fd76ba0f47&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>0</td><td style=text-align:center>2</td><td style=text-align:center>0</td><td style=text-align:center>0</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>N/A</td><td style=text-align:center>1.2%</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>N/A</td><td style=text-align:center>1.2%</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td></tr></tbody></table><ul><li>regressed externs (a secondary benchmark) incr-full in debug and opt profiles by 1.2%.</li><li>left comment; based on cachegrind output and the perf graph, this does not seem to be a persistent regression. We do not need to worry about it.</li></ul><h4 id=improvements>Improvements</h4><ul><li>Rollup of 5 pull requests <a href=https://github.com/rust-lang/rust/pull/95974>#95974</a> <a href="https://perf.rust-lang.org/compare.html?start=2a83fbc42a9bb6bfdb8d3fb4ecce83fb410d7642&amp;end=327caac4d01aef74d6577b87c295270608be09fa&amp;stat=instructions:u">(Comparison Link)</a></li><li>errors: lazily load fallback fluent bundle <a href=https://github.com/rust-lang/rust/pull/95968>#95968</a> <a href="https://perf.rust-lang.org/compare.html?start=dc4bfcbdfff651c82eff4bdd311d28e54d1513c4&amp;end=34a6c9f26e2ce32cad0d71f5e342365b09f4d12c&amp;stat=instructions:u">(Comparison Link)</a></li><li>Optimize <code>&lt;SourceFile as Decodable>::decode</code> <a href=https://github.com/rust-lang/rust/pull/95981>#95981</a> <a href="https://perf.rust-lang.org/compare.html?start=34a6c9f26e2ce32cad0d71f5e342365b09f4d12c&amp;end=f387c930ee7c84357f8fa9f4c38903c00404ac46&amp;stat=instructions:u">(Comparison Link)</a></li><li>Remove <code>&lt;mbe::TokenTree as Clone></code> <a href=https://github.com/rust-lang/rust/pull/95928>#95928</a> <a href="https://perf.rust-lang.org/compare.html?start=f387c930ee7c84357f8fa9f4c38903c00404ac46&amp;end=f9d4d12b6ab97fae8b9a6f607473fe149f38f6bd&amp;stat=instructions:u">(Comparison Link)</a></li><li>Allow self-profiler to only record potentially costly arguments when argument recording is turned on <a href=https://github.com/rust-lang/rust/pull/95689>#95689</a> <a href="https://perf.rust-lang.org/compare.html?start=c8422403f775126c40d558838d321c063554c822&amp;end=febce1fc316f5618d5bb8f05d19e2e3ba868c007&amp;stat=instructions:u">(Comparison Link)</a></li><li>Fix <code>x test --doc --stage 0 library/std</code> <a href=https://github.com/rust-lang/rust/pull/95993>#95993</a> <a href="https://perf.rust-lang.org/compare.html?start=d9b3ff7d34335c5bc0b2afed640b65d64a85fe03&amp;end=2fa9789f596dd7639e1a242d466637b53179f4d1&amp;stat=instructions:u">(Comparison Link)</a></li><li>Rollup of 6 pull requests <a href=https://github.com/rust-lang/rust/pull/96134>#96134</a> <a href="https://perf.rust-lang.org/compare.html?start=563ef23529ae800b2b136cabdc71a81d86a75f58&amp;end=2c28b0eaf9843ec0f493fca2dba506fe4d9174fb&amp;stat=instructions:u">(Comparison Link)</a></li><li>Speed up Vec::clear(). <a href=https://github.com/rust-lang/rust/pull/96002>#96002</a> <a href="https://perf.rust-lang.org/compare.html?start=2c28b0eaf9843ec0f493fca2dba506fe4d9174fb&amp;end=43a71dc732af0f7cc5895cca8d001184c252426a&amp;stat=instructions:u">(Comparison Link)</a></li><li>fix error handling for pthread_sigmask(3) <a href=https://github.com/rust-lang/rust/pull/93530>#93530</a> <a href="https://perf.rust-lang.org/compare.html?start=ec77f252434a532fdb5699ae4f21a3072d211edd&amp;end=e27d9df4319bd822e64f620676543d31e9c7ae2c&amp;stat=instructions:u">(Comparison Link)</a></li><li>Respect ranlib specified for target during LLVM build <a href=https://github.com/rust-lang/rust/pull/96080>#96080</a> <a href="https://perf.rust-lang.org/compare.html?start=faecdc05abc997ba3be693024724ce205facb686&amp;end=491f619f564a4ff9ae4cc837e27bb919d04c31be&amp;stat=instructions:u">(Comparison Link)</a></li><li>Require all paths passed to <code>ShouldRun::paths</code> to exist on disk <a href=https://github.com/rust-lang/rust/pull/95906>#95906</a> <a href="https://perf.rust-lang.org/compare.html?start=6fd7e9010db6be7605241c39eab7c5078ee2d5bd&amp;end=0516711ab057d9731f55511f00f9d426bc9db724&amp;stat=instructions:u">(Comparison Link)</a></li><li>show suggestion to replace generic bounds with associated types in more cases <a href=https://github.com/rust-lang/rust/pull/95379>#95379</a> <a href="https://perf.rust-lang.org/compare.html?start=d5ae66c12c6bdf1a5739ae1fce8057fd76ba0f47&amp;end=e2661bac6d8ae6b9e2a26cd08e9c087ab59e1357&amp;stat=instructions:u">(Comparison Link)</a></li></ul><h4 id=mixed>Mixed</h4><p>Skip <code>Lazy</code> for some metadata tables <a href=https://github.com/rust-lang/rust/pull/95867>#95867</a> <a href="https://perf.rust-lang.org/compare.html?start=327caac4d01aef74d6577b87c295270608be09fa&amp;end=de56c295c394349a68f293039481c3aa6402f9c6&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>0</td><td style=text-align:center>5</td><td style=text-align:center>0</td><td style=text-align:center>1</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>N/A</td><td style=text-align:center>0.4%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.7%</td><td style=text-align:center>N/A</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>N/A</td><td style=text-align:center>0.5%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.7%</td><td style=text-align:center>N/A</td></tr></tbody></table><ul><li>already triaged by the PR author.</li></ul><p>Rollup of 4 pull requests <a href=https://github.com/rust-lang/rust/pull/95987>#95987</a> <a href="https://perf.rust-lang.org/compare.html?start=de56c295c394349a68f293039481c3aa6402f9c6&amp;end=52ca603da73ae9eaddf96f77953b33ad8c47cc8e&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>0</td><td style=text-align:center>13</td><td style=text-align:center>0</td><td style=text-align:center>7</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>N/A</td><td style=text-align:center>1.7%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.4%</td><td style=text-align:center>N/A</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>N/A</td><td style=text-align:center>3.0%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.6%</td><td style=text-align:center>N/A</td></tr></tbody></table><ul><li>the big hit here was to tt-muncher (a secondary benchmark), which regressed on 10 different configurations, by amounts varying from 1.4% up to 3.0%.</li><li>the cachegrind diff for the 3.0% hit is here: <a href=https://gist.github.com/7674ad03c8f72705eb5bd2651202f40a>https://gist.github.com/7674ad03c8f72705eb5bd2651202f40a</a></li><li>that cachegrind diff leads pnkfelix to think that PR #95794: &ldquo;parse_tt: a few more tweaks&rdquo; is the cause of the regression, specifically commit 4ba609601f1a99ddf3cf0cf70f57c4a045f0f23f</li><li>however, that PR went through multiple rounds of performance evaluation.</li><li>in any case, looking at the graph for tt-muncher indicates that whatever performance hit was suffered, it was subsequently resolved by PR #95928.</li></ul><p>rustdoc: Reduce allocations in a <code>markdown</code> function <a href=https://github.com/rust-lang/rust/pull/95905>#95905</a> <a href="https://perf.rust-lang.org/compare.html?start=52ca603da73ae9eaddf96f77953b33ad8c47cc8e&amp;end=f6cef572d6d75a3b7dea5f496d3bd981986e94ca&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>0</td><td style=text-align:center>2</td><td style=text-align:center>4</td><td style=text-align:center>4</td><td style=text-align:center>4</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>N/A</td><td style=text-align:center>1.2%</td><td style=text-align:center>-0.3%</td><td style=text-align:center>-0.3%</td><td style=text-align:center>-0.3%</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>N/A</td><td style=text-align:center>1.2%</td><td style=text-align:center>-0.4%</td><td style=text-align:center>-0.4%</td><td style=text-align:center>-0.4%</td></tr></tbody></table><ul><li>the primary regressions were to externs incr-full, debug and opt variants.</li><li>from looking at the graph, there may be a faint upward trend on externs as a whole, but pnkfelix does not think this PR caused any direct regression.</li></ul><p>Rollup of 7 pull requests <a href=https://github.com/rust-lang/rust/pull/95990>#95990</a> <a href="https://perf.rust-lang.org/compare.html?start=f6cef572d6d75a3b7dea5f496d3bd981986e94ca&amp;end=1491e5cc148391f7679542b8e9b4e6d2430a7b69&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>10</td><td style=text-align:center>8</td><td style=text-align:center>0</td><td style=text-align:center>5</td><td style=text-align:center>10</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>0.7%</td><td style=text-align:center>9.3%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.8%</td><td style=text-align:center>0.7%</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>4.1%</td><td style=text-align:center>71.7%</td><td style=text-align:center>N/A</td><td style=text-align:center>-1.2%</td><td style=text-align:center>4.1%</td></tr></tbody></table><ul><li>This PR regressed diesel doc by 4.1%, and associated-items doc by 71% (!). Seems important.</li><li>It seems likely that the rustdoc regression is due to PR #95316.</li><li>Left comment on PR #95316; not marking rollup as triaged for now.</li></ul><p>Remove NodeIdHashingMode. <a href=https://github.com/rust-lang/rust/pull/95656>#95656</a> <a href="https://perf.rust-lang.org/compare.html?start=e3c43e64eceb00e13b1932229aa9b2d774e6af96&amp;end=f38c5c8e5d76ea9a87fece143425ef7c703c706a&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>103</td><td style=text-align:center>75</td><td style=text-align:center>0</td><td style=text-align:center>8</td><td style=text-align:center>103</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>0.6%</td><td style=text-align:center>0.7%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.5%</td><td style=text-align:center>0.6%</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>1.1%</td><td style=text-align:center>1.7%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.8%</td><td style=text-align:center>1.1%</td></tr></tbody></table><ul><li>Already marked as triaged since it addressed significant footgun in incr-comp; see <a href=https://github.com/rust-lang/rust/pull/95656#issuecomment-1097694966>comment from mw</a></li></ul><p>Rollup of 6 pull requests <a href=https://github.com/rust-lang/rust/pull/96015>#96015</a> <a href="https://perf.rust-lang.org/compare.html?start=ab33f71a8be01a93d4d14ee5755beeefe38f1946&amp;end=0d13f6afeba4935499abe0c9a07426c94492c94e&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>0</td><td style=text-align:center>6</td><td style=text-align:center>0</td><td style=text-align:center>2</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>N/A</td><td style=text-align:center>0.7%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.3%</td><td style=text-align:center>N/A</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>N/A</td><td style=text-align:center>1.1%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.4%</td><td style=text-align:center>N/A</td></tr></tbody></table><ul><li>only secondary regressions, and majority are to ctfe-stress-5 incr-unchanged (on all of check,debug,opt), on the order of 1.1%.</li><li>did local cachegrind run on check build: <a href=https://gist.github.com/4be85f17d74ee6bf2c92efcd922a6fc9>https://gist.github.com/4be85f17d74ee6bf2c92efcd922a6fc9</a></li><li>regression seems to be blamed upon <code>rustc_data_structures::intern::Interned&lt;rustc_middle::mir::interpret::allocation::Allocation> as rustc_data_structures::stable_hasher::HashStable&lt;rustc_query_system::ich::hcx::StableHashingContext>>::hash_stable</code></li><li>but nothing in the rollup PR seems like it could possibly have had an impact there.</li><li>the graph of ctfe-stress-5-check does seem like there has been some gradual regression over time, starting around 2022-04-09.</li><li>pnkfelix would not blame that on this rollup PR, though.</li></ul><p>Update cargo <a href=https://github.com/rust-lang/rust/pull/96031>#96031</a> <a href="https://perf.rust-lang.org/compare.html?start=f9d4d12b6ab97fae8b9a6f607473fe149f38f6bd&amp;end=e371eeb778c293cc85ce396cec5d6372fe1ef8b7&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>0</td><td style=text-align:center>3</td><td style=text-align:center>0</td><td style=text-align:center>1</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>N/A</td><td style=text-align:center>1.1%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.4%</td><td style=text-align:center>N/A</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>N/A</td><td style=text-align:center>1.1%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.4%</td><td style=text-align:center>N/A</td></tr></tbody></table><ul><li>Regressions are just to secondary benchmarks and pnkfelix thinks benefits of a cargo update outweigh the costs presented here, such as they are.</li></ul><p>library: Move <code>CStr</code> to libcore, and <code>CString</code> to liballoc <a href=https://github.com/rust-lang/rust/pull/94079>#94079</a> <a href="https://perf.rust-lang.org/compare.html?start=69a5ae35fe5bb507ca5987e12392dce5186480b9&amp;end=1e6fe5855a115ef7f17f3e17205fab7340775701&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>1</td><td style=text-align:center>3</td><td style=text-align:center>0</td><td style=text-align:center>2</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>0.8%</td><td style=text-align:center>0.9%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.6%</td><td style=text-align:center>0.8%</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>0.8%</td><td style=text-align:center>1.2%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.7%</td><td style=text-align:center>0.8%</td></tr></tbody></table><ul><li>Report claims this Caused a 0.8% regression on primary benchmark unicode-normalization-0.1.19 (check full).</li><li>I was not able to reproduce the regression locally; all my runs showed an improvement.</li><li>This may be running afoul of rust-lang/rustc-perf#1299</li></ul><p>Rollup of 11 pull requests <a href=https://github.com/rust-lang/rust/pull/96087>#96087</a> <a href="https://perf.rust-lang.org/compare.html?start=1e6fe5855a115ef7f17f3e17205fab7340775701&amp;end=3f391b84552f210adec7893b50c5da74f9362ae4&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>1</td><td style=text-align:center>1</td><td style=text-align:center>1</td><td style=text-align:center>5</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>0.7%</td><td style=text-align:center>0.6%</td><td style=text-align:center>-0.8%</td><td style=text-align:center>-0.8%</td><td style=text-align:center>-0.1%</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>0.7%</td><td style=text-align:center>0.6%</td><td style=text-align:center>-0.8%</td><td style=text-align:center>-1.1%</td><td style=text-align:center>-0.8%</td></tr></tbody></table><ul><li>Report claims this Caused a 0.8% regression on primary benchmark unicode-normalization-0.1.19 (check full).</li><li>This, like other PR&rsquo;s this week, may be running afoul of rust-lang/rustc-perf#1299</li></ul><p>Optimize RcInnerPtr::inc_strong()/inc_weak() instruction count <a href=https://github.com/rust-lang/rust/pull/95224>#95224</a> <a href="https://perf.rust-lang.org/compare.html?start=3f391b84552f210adec7893b50c5da74f9362ae4&amp;end=bb1a03c4fcbe547168fab128fa39b08d1122a1c2&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>0</td><td style=text-align:center>4</td><td style=text-align:center>0</td><td style=text-align:center>1</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>N/A</td><td style=text-align:center>1.9%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.3%</td><td style=text-align:center>N/A</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>N/A</td><td style=text-align:center>3.9%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.3%</td><td style=text-align:center>N/A</td></tr></tbody></table><ul><li>The bulk of this regression is attached to secondary benchmark regression-31157 opt (incr-patched: println, incr-full, full), by up to 3.86%</li><li>the <a href="https://perf.rust-lang.org/detailed-query.html?commit=bb1a03c4fcbe547168fab128fa39b08d1122a1c2&amp;base_commit=3f391b84552f210adec7893b50c5da74f9362ae4&amp;benchmark=regression-31157-opt&amp;scenario=incr-patched:%20println">self-profile data</a> seems to indicate that the bulk of the cost here is spent in LLVM.</li><li>the cachegrind output seconds that: <a href=https://gist.github.com/4fa7403ee2e812e7712c5046e9eb4d72>https://gist.github.com/4fa7403ee2e812e7712c5046e9eb4d72</a></li><li>This PR is motivated by an improvement to the object code itself generated by the compiler. I guess that improvement did not result in a net win for the compiler itself.</li><li>regression-31157 (rust#31157) is encoding a case where we were seeing a 20x slowdown. So we should not be worrying about 2% or 4% performance losses there.</li></ul><p>Only check the compiler and standard library before documenting them (take 2) <a href=https://github.com/rust-lang/rust/pull/95450>#95450</a> <a href="https://perf.rust-lang.org/compare.html?start=bb1a03c4fcbe547168fab128fa39b08d1122a1c2&amp;end=27490eb4232ceebc4f5e1e11b529b55994cf0333&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>1</td><td style=text-align:center>1</td><td style=text-align:center>0</td><td style=text-align:center>2</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>0.9%</td><td style=text-align:center>0.4%</td><td style=text-align:center>N/A</td><td style=text-align:center>-1.2%</td><td style=text-align:center>0.9%</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>0.9%</td><td style=text-align:center>0.4%</td><td style=text-align:center>N/A</td><td style=text-align:center>-1.2%</td><td style=text-align:center>0.9%</td></tr></tbody></table><ul><li>hypothesized to be noise and pnkfelix doesn&rsquo;t have time to dig more deeply.</li><li>left comment, marked as triaged.</li></ul><p>Better method call error messages <a href=https://github.com/rust-lang/rust/pull/92364>#92364</a> <a href="https://perf.rust-lang.org/compare.html?start=080d5452e1bb6e18e12a073d4d0283fd9b6dac0b&amp;end=07bb916d44a66d2caba427c7ee132bbeb245977b&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>0</td><td style=text-align:center>4</td><td style=text-align:center>3</td><td style=text-align:center>0</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>N/A</td><td style=text-align:center>0.8%</td><td style=text-align:center>-1.1%</td><td style=text-align:center>N/A</td><td style=text-align:center>-1.1%</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>N/A</td><td style=text-align:center>1.2%</td><td style=text-align:center>-1.5%</td><td style=text-align:center>N/A</td><td style=text-align:center>-1.5%</td></tr></tbody></table><ul><li>The main regression here was to externs, but as previously noted, there&rsquo;s a lot of historical noise in the data for externs, and not trustworthy.</li></ul><p>Rollup of 9 pull requests <a href=https://github.com/rust-lang/rust/pull/96108>#96108</a> <a href="https://perf.rust-lang.org/compare.html?start=07bb916d44a66d2caba427c7ee132bbeb245977b&amp;end=c8422403f775126c40d558838d321c063554c822&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>0</td><td style=text-align:center>3</td><td style=text-align:center>0</td><td style=text-align:center>2</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>N/A</td><td style=text-align:center>1.1%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.5%</td><td style=text-align:center>N/A</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>N/A</td><td style=text-align:center>1.1%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.7%</td><td style=text-align:center>N/A</td></tr></tbody></table><ul><li>This observed 1% regression on ctfe-stress-5.</li><li>Much like PR #96015, I do not think I would put individual blame on this rollup PR for the problems we may be seeing over time in ctfe-stress-5.</li></ul><p>Rollup of 7 pull requests <a href=https://github.com/rust-lang/rust/pull/96117>#96117</a> <a href="https://perf.rust-lang.org/compare.html?start=febce1fc316f5618d5bb8f05d19e2e3ba868c007&amp;end=d9b3ff7d34335c5bc0b2afed640b65d64a85fe03&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>0</td><td style=text-align:center>3</td><td style=text-align:center>0</td><td style=text-align:center>1</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>N/A</td><td style=text-align:center>1.1%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.4%</td><td style=text-align:center>N/A</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>N/A</td><td style=text-align:center>1.1%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.4%</td><td style=text-align:center>N/A</td></tr></tbody></table><ul><li>This observed 1% regression on ctfe-stress-5.</li><li>Much like PR #96015 and PR #96108, I do not think I would put individual blame on this rollup PR for the problems we may be seeing over time in ctfe-stress-5.</li></ul><p>rustc_metadata: Do not encode unnecessary module children <a href=https://github.com/rust-lang/rust/pull/95899>#95899</a> <a href="https://perf.rust-lang.org/compare.html?start=878c7833f6c1ff10e2fd89074e5bd4ef5ff15936&amp;end=563ef23529ae800b2b136cabdc71a81d86a75f58&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>0</td><td style=text-align:center>4</td><td style=text-align:center>0</td><td style=text-align:center>10</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>N/A</td><td style=text-align:center>0.9%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.7%</td><td style=text-align:center>N/A</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>N/A</td><td style=text-align:center>1.1%</td><td style=text-align:center>N/A</td><td style=text-align:center>-1.4%</td><td style=text-align:center>N/A</td></tr></tbody></table><ul><li>This observed 1% regression on ctfe-stress-5.</li><li>Much like PR #96015, #96108, and #96117, I do not think I would put individual blame on this PR for the problems we may be seeing over time in ctfe-stress-5.</li></ul><p>Implement <code>core::ptr::Unique</code> on top of <code>NonNull</code> <a href=https://github.com/rust-lang/rust/pull/96010>#96010</a> <a href="https://perf.rust-lang.org/compare.html?start=43a71dc732af0f7cc5895cca8d001184c252426a&amp;end=ac8b11810f4a0def3596ee401feb9ef00015b555&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>20</td><td style=text-align:center>10</td><td style=text-align:center>0</td><td style=text-align:center>6</td><td style=text-align:center>20</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>0.6%</td><td style=text-align:center>1.3%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.4%</td><td style=text-align:center>0.6%</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>1.2%</td><td style=text-align:center>2.5%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.5%</td><td style=text-align:center>1.2%</td></tr></tbody></table><ul><li>This seems like it introduced a regression into the compilation times for a lot of important crates.</li><li>I&rsquo;m not clear on what its buying us, it seems like internal code cleanup? That doesn&rsquo;t justify a >=1% compile-time regression to webrender and syn.</li></ul><p>Refactor HIR item-like traversal (part 1) <a href=https://github.com/rust-lang/rust/pull/95655>#95655</a> <a href="https://perf.rust-lang.org/compare.html?start=ac8b11810f4a0def3596ee401feb9ef00015b555&amp;end=edba28277038f24ee80b88b66e054ec33facefa4&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>33</td><td style=text-align:center>32</td><td style=text-align:center>0</td><td style=text-align:center>3</td><td style=text-align:center>33</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>0.3%</td><td style=text-align:center>0.7%</td><td style=text-align:center>N/A</td><td style=text-align:center>-1.0%</td><td style=text-align:center>0.3%</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>0.4%</td><td style=text-align:center>1.6%</td><td style=text-align:center>N/A</td><td style=text-align:center>-1.0%</td><td style=text-align:center>0.4%</td></tr></tbody></table><ul><li>This is an expected regression and has already been marked as triaged.</li></ul><p>Remove last vestiges of skippng ident span hashing <a href=https://github.com/rust-lang/rust/pull/96016>#96016</a> <a href="https://perf.rust-lang.org/compare.html?start=edba28277038f24ee80b88b66e054ec33facefa4&amp;end=af68f7182e11de7eced78078313e9ba0436db84e&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>1</td><td style=text-align:center>0</td><td style=text-align:center>0</td><td style=text-align:center>7</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>2.6%</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.4%</td><td style=text-align:center>2.6%</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>2.6%</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.5%</td><td style=text-align:center>2.6%</td></tr></tbody></table><ul><li>This was already marked as triaged, but at the time it was marked, the only regressions were to secondary benchmarks.</li><li>The version that landed flagged a 2.6% regression to primary benchmark syn-1.0.89</li><li>(self-profile says its due to extra time spent in LLVM).</li><li>anyway the historical data makes me think this is just noise.</li></ul><p>Report undeclared lifetimes during late resolution. <a href=https://github.com/rust-lang/rust/pull/95779>#95779</a> <a href="https://perf.rust-lang.org/compare.html?start=af68f7182e11de7eced78078313e9ba0436db84e&amp;end=1ec2c136b35bd4660cba778346f8df7daf2ab173&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>58</td><td style=text-align:center>39</td><td style=text-align:center>1</td><td style=text-align:center>2</td><td style=text-align:center>59</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>0.5%</td><td style=text-align:center>0.5%</td><td style=text-align:center>-2.5%</td><td style=text-align:center>-1.0%</td><td style=text-align:center>0.5%</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>0.8%</td><td style=text-align:center>1.1%</td><td style=text-align:center>-2.5%</td><td style=text-align:center>-1.0%</td><td style=text-align:center>-2.5%</td></tr></tbody></table><ul><li>These performance regressions were anticipated (via measurement) during review of the PR and effectively already triaged.</li></ul><p>Fix rustdoc duplicated blanket impls <a href=https://github.com/rust-lang/rust/pull/96091>#96091</a> <a href="https://perf.rust-lang.org/compare.html?start=1ec2c136b35bd4660cba778346f8df7daf2ab173&amp;end=ad4e98ed7dc535d161886b17f7792501baa82c9b&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>0</td><td style=text-align:center>3</td><td style=text-align:center>0</td><td style=text-align:center>3</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>N/A</td><td style=text-align:center>1.1%</td><td style=text-align:center>N/A</td><td style=text-align:center>-1.1%</td><td style=text-align:center>N/A</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>N/A</td><td style=text-align:center>1.2%</td><td style=text-align:center>N/A</td><td style=text-align:center>-1.1%</td><td style=text-align:center>N/A</td></tr></tbody></table><ul><li>The main hit is to externs, which I&rsquo;m rejecting as ignorable this week due to extant noise.</li></ul><p>Revert: Make TLS __getit #[inline(always)] on non-Windows <a href=https://github.com/rust-lang/rust/pull/96139>#96139</a> <a href="https://perf.rust-lang.org/compare.html?start=ad4e98ed7dc535d161886b17f7792501baa82c9b&amp;end=ec77f252434a532fdb5699ae4f21a3072d211edd&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>1</td><td style=text-align:center>3</td><td style=text-align:center>0</td><td style=text-align:center>1</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>3.3%</td><td style=text-align:center>1.1%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.7%</td><td style=text-align:center>3.3%</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>3.3%</td><td style=text-align:center>1.1%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.7%</td><td style=text-align:center>3.3%</td></tr></tbody></table><ul><li>Unfortunately this injected a 3.3% hit to syn-1.0.89, &mldr;</li><li>&mldr; but it is also fixing a beta-regression, which takes priority here.</li><li>anyway its already marked as triaged by simulacrum.</li></ul><p>Make <code>x test --stage 2 compiler/rustc_XXX</code> faster to run <a href=https://github.com/rust-lang/rust/pull/96000>#96000</a> <a href="https://perf.rust-lang.org/compare.html?start=7b5408d3fbfc4bcb7c5b2b2f08369156406dc03b&amp;end=74582acd3b49c0f44d53cfafa20d26595a1ae278&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>1</td><td style=text-align:center>0</td><td style=text-align:center>0</td><td style=text-align:center>1</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>1.5%</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.7%</td><td style=text-align:center>1.5%</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>1.5%</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.7%</td><td style=text-align:center>1.5%</td></tr></tbody></table><ul><li>This was flagged as injecting a 1.5% regression on syn-1.0.89.</li><li>It seems like syn-1.0.89 opt full suddenly became much noisier around 2022-04-17, and I do not know why.</li></ul><p>Micro-optimize <code>ty::relate::relate_substs</code> by avoiding <code>match</code> <a href=https://github.com/rust-lang/rust/pull/96020>#96020</a> <a href="https://perf.rust-lang.org/compare.html?start=e2661bac6d8ae6b9e2a26cd08e9c087ab59e1357&amp;end=c102c5cfc60203c82460bdde2eecd19ccd8c125b&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>0</td><td style=text-align:center>6</td><td style=text-align:center>0</td><td style=text-align:center>8</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>N/A</td><td style=text-align:center>1.8%</td><td style=text-align:center>N/A</td><td style=text-align:center>-0.6%</td><td style=text-align:center>N/A</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>N/A</td><td style=text-align:center>2.3%</td><td style=text-align:center>N/A</td><td style=text-align:center>-1.2%</td><td style=text-align:center>N/A</td></tr></tbody></table><ul><li>Already triaged by nnethercote.</li></ul><p>Rollup of 6 pull requests <a href=https://github.com/rust-lang/rust/pull/96214>#96214</a> <a href="https://perf.rust-lang.org/compare.html?start=c102c5cfc60203c82460bdde2eecd19ccd8c125b&amp;end=4ca19e09d302a4cbde14f9cb1bc109179dc824cd&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>Regressions (primary)</th><th style=text-align:center>Regressions (secondary)</th><th style=text-align:center>Improvements (primary)</th><th style=text-align:center>Improvements (secondary)</th><th style=text-align:center>All (primary)</th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>0</td><td style=text-align:center>5</td><td style=text-align:center>1</td><td style=text-align:center>1</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>mean</td><td style=text-align:center>N/A</td><td style=text-align:center>0.9%</td><td style=text-align:center>-0.2%</td><td style=text-align:center>-0.2%</td><td style=text-align:center>-0.2%</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>N/A</td><td style=text-align:center>1.5%</td><td style=text-align:center>-0.2%</td><td style=text-align:center>-0.2%</td><td style=text-align:center>-0.2%</td></tr></tbody></table><ul><li>regressed deeply-nested-multi incr-unchanged by 1% to 1.5%.</li><li>the bulk of the regression here seems to already be blamable on PR #96020. Why is this rollup PR getting flagged separately? (filed a bug against rustc-perf for this.)</li></ul><h2 id=nominated-issues>Nominated Issues</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-compiler-nominated+label%3AT-compiler">T-compiler</a></p><ul><li>&ldquo;Disable unwinding for emscripten again&rdquo; <a href=https://github.com/rust-lang/rust/pull/95950>rust#95950</a><ul><li>nominated by @<strong>nagisa</strong> (<a href=https://github.com/rust-lang/rust/pull/95950#issuecomment-1100664309>comment</a>), suggests a write-up to take a decision and try to stick with it (<a href=https://github.com/rust-lang/rust/pull/95950#issuecomment-1095691392>comment</a>)</li><li>cc: PR author @<strong>Jules Bertholet</strong>, suggests adding a feature-gate (<a href=https://github.com/rust-lang/rust/pull/95950#issuecomment-1100749266>comment</a>)</li></ul></li></ul><p><a href="https://github.com/rust-lang/rfcs/issues?q=is%3Aopen+label%3AI-compiler-nominated">RFC</a></p><ul><li>No I-compiler-nominated RFCs this time.</li></ul></article></div><aside class="book-toc level-6 fixed"><nav id=TableOfContents><ul><li><a href=#announcements>Announcements</a></li><li><a href=#mcpsfcps>MCPs/FCPs</a><ul><li><a href=#wg-checkins>WG checkins</a></li></ul></li><li><a href=#backport-nominations>Backport nominations</a></li><li><a href=#prs-s-waiting-on-team>PRs S-waiting-on-team</a></li><li><a href=#oldest-prs-waiting-for-review>Oldest PRs waiting for review</a></li><li><a href=#issues-of-note>Issues of Note</a><ul><li><a href=#short-summary>Short Summary</a></li><li><a href=#p-critical>P-critical</a></li><li><a href=#p-high-regressions>P-high regressions</a></li></ul></li><li><a href=#performance-logs>Performance logs</a><ul><li></li></ul></li><li><a href=#nominated-issues>Nominated Issues</a></li></ul></nav></aside></main></body></html>