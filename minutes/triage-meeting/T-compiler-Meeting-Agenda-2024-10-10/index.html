<!doctype html><html lang=en><head><meta http-equiv=refresh content="0; url=https://forge.rust-lang.org/compiler/index.html"></head><body><input type=checkbox style=display:none id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav><h2 class=book-brand><a href=https://rust-lang.github.io/compiler-team/>Rust Lang - Compiler Team</a></h2><style>nav ul a[href$=\2f compiler-team\2fminutes\2ftriage-meeting\2fT-compiler-Meeting-Agenda-2024-10-10\2f ]{color:#004ed0}</style><ul><li><p><strong>About</strong></p><ul><li><a href=/compiler-team/about/CODE_OF_CONDUCT/>Code of Conduct</a></li><li><a href=/compiler-team/about/chat-platform/>Chat Platform</a></li><li><a href=/compiler-team/about/steering-meeting/>Steering Meeting</a></li><li><a href=/compiler-team/about/triage-meeting/>Triage Meeting</a></li></ul></li><li><p><strong>Minutes</strong></p><ul><li><a href=/compiler-team/minutes/design-meeting/>Design Meetings</a></li><li><a href=/compiler-team/minutes/steering-meeting/>Steering Meetings</a></li><li><a href=/compiler-team/minutes/triage-meeting/>Triage Meetings</a></li></ul></li><li><p><strong>Procedures</strong></p><ul><li><a href=/compiler-team/procedures/>Documentation</a></li><li><a href=/compiler-team/procedures/crates/>Crates</a></li><li><a href=/compiler-team/procedures/call-for-participation/>Call for participation</a></li><li><a href=/compiler-team/procedures/form-new-working-group/>Form new working group</a></li></ul></li><li><p><a href=/compiler-team/working-groups/><strong>Working Groups</strong></a></p><ul><li><a href=/compiler-team/working-groups/async-await/>Async Await</a></li><li><a href=/compiler-team/working-groups/debugging/>Debugging</a></li><li><a href=/compiler-team/working-groups/diagnostics/>Diagnostics</a></li><li><a href=/compiler-team/working-groups/rustc-dev-guide/>Rustc Dev Guide</a></li><li><a href=/compiler-team/working-groups/llvm/>LLVM</a></li><li><a href=/compiler-team/working-groups/meta/>Meta</a></li><li><a href=/compiler-team/working-groups/mir-opt/>MIR-opt</a></li><li><a href=/compiler-team/working-groups/nll/>NLL</a></li><li><a href=/compiler-team/working-groups/parallel-rustc/>parallel rustc</a></li><li><a href=/compiler-team/working-groups/pgo/>PGO</a></li><li><a href=/compiler-team/working-groups/pipelining/>pipelining</a></li><li><a href=/compiler-team/working-groups/polonius/>polonius</a></li><li><a href=/compiler-team/working-groups/polymorphization/>polymorphization</a></li><li><a href=/compiler-team/working-groups/prioritization/>Prioritization</a></li><li><a href=/compiler-team/working-groups/rfc-2229/>rfc-2229</a></li><li><a href=/compiler-team/working-groups/rls-2.0/>rls-2.0</a></li><li><a href=/compiler-team/working-groups/self-profile/>Self Profile</a></li><li><a href=/compiler-team/working-groups/traits/>Traits</a></li></ul></li></ul></nav></aside><div class=book-page><header class="align-center justify-between book-header"><label for=menu-control><img src=/compiler-team/svg/menu.svg alt=Menu>
</label><strong>T Compiler Meeting Agenda 2024 10 10</strong></header><article class=markdown><h1 id=t-compiler-meeting-agenda-2024-10-10>T-compiler Meeting Agenda 2024-10-10</h1><h2 id=announcements>Announcements</h2><ul><li>Next week Rust 1.82 is out</li><li>Reminder: if you see a PR/issue that seems like there might be legal implications due to copyright/IP/etc, please let us know (or at least message @<em><strong>davidtwco</strong> or @</em><strong>Wesley Wiser</strong> so we can pass it along).</li></ul><h3 id=other-wg-meetings>Other WG meetings</h3><ul><li>Types Team: ITE (Impl Trait Everywhere) Triage <a href=time:2024-10-10T22:00:00+01:00>time:2024-10-10T22:00:00+01:00</a></li><li>wg-rust-analyzer steering meeting on Zulip (<a href=https://rust-lang.zulipchat.com/#narrow/stream/185405-t-compiler.2Fwg-rls-2.2E0/topic/Steering.20meeting>https://rust-lang.zulipchat.com/#narrow/stream/185405-t-compiler.2Fwg-rls-2.2E0/topic/Steering.20meeting</a>) <a href=time:2024-10-11T17:00:00+01:00>time:2024-10-11T17:00:00+01:00</a></li><li>wg-macros triage meeting Zulip (<a href=https://rust-lang.zulipchat.com/#narrow/stream/410876-wg-macros.2Ftriage>https://rust-lang.zulipchat.com/#narrow/stream/410876-wg-macros.2Ftriage</a>) <a href=time:2024-10-11T18:00:00+01:00>time:2024-10-11T18:00:00+01:00</a></li></ul><h2 id=mcpsfcps>MCPs/FCPs</h2><ul><li>New MCPs (take a look, see if you like them!)<ul><li>&ldquo;Make the test cfg a userspace check-cfg&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/785>compiler-team#785</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Make.20the.20test.20cfg.20a.20userspace.20check-cfg.20compiler-team.23785>Zulip</a>)</li><li>&ldquo;Policy change around adding new unstable flags&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/787>compiler-team#787</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Policy.20change.20around.20adding.20new.20unstable.20.E2.80.A6.20compiler-team.23787>Zulip</a>)</li><li>&ldquo;Normalize FileCheck directives&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/789>compiler-team#789</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Normalize.20FileCheck.20directives.20compiler-team.23789>Zulip</a>)</li><li>&ldquo;Relink, don&rsquo;t rebuild&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/790>compiler-team#790</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Relink.2C.20don.27t.20rebuild.20compiler-team.23790>Zulip</a>)</li><li>&ldquo;Promote tier 3 <code>arm64e-apple-ios</code> target to tier 2&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/793>compiler-team#793</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Promote.20tier.203.20.60arm64e-apple-ios.60.20target.20.E2.80.A6.20compiler-team.23793>Zulip</a>)</li></ul></li><li>Old MCPs (stale MCP might be closed as per <a href=https://forge.rust-lang.org/compiler/mcp.html#when-should-major-change-proposals-be-closed>MCP procedure</a>)<ul><li>None at this time</li></ul></li><li>Old MCPs (not seconded, take a look)<ul><li>&ldquo;Add hygiene attributes to compile expanded source code&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/692>compiler-team#692</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Add.20option.20to.20compile.20expanded.20ASTs.20for.20h.E2.80.A6.20compiler-team.23692>Zulip</a>) (last review activity: about 21 days ago)</li><li>&ldquo;Add Hotpatch flag&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/745>compiler-team#745</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Add.20Hotpatch.20flag.20compiler-team.23745>Zulip</a>) (last review activity: about 9 days ago)</li><li>&ldquo;Add <code>evex512</code> target feature for AVX10&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/778>compiler-team#778</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Add.20.60evex512.60.20target.20feature.20for.20AVX10.20compiler-team.23778>Zulip</a>) (last review activity: about 34 days ago)</li></ul></li><li>Pending FCP requests (check your boxes!)<ul><li>&ldquo;sanitizers: Stabilize AddressSanitizer and LeakSanitizer for the Tier 1 targets&rdquo; <a href=https://github.com/rust-lang/rust/pull/123617>rust#123617</a></li><li>&ldquo;Add <code>--print host-triple</code> to print host target triple&rdquo; <a href=https://github.com/rust-lang/rust/pull/125579>rust#125579</a></li><li>&ldquo;make unsupported_calling_conventions a hard error&rdquo; <a href=https://github.com/rust-lang/rust/pull/129935>rust#129935</a></li><li>&ldquo;Stabilize WebAssembly <code>multivalue</code>, <code>reference-types</code>, and <code>tail-call</code> target features&rdquo; <a href=https://github.com/rust-lang/rust/pull/131080>rust#131080</a></li></ul></li><li>Things in FCP (make sure you&rsquo;re good with it)<ul><li>&ldquo;Wasm minimal features target&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/791>compiler-team#791</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Wasm.20minimal.20features.20target.20compiler-team.23791>Zulip</a>)</li><li>&ldquo;Check ABI target compatibility for function pointers&rdquo; <a href=https://github.com/rust-lang/rust/pull/128784>rust#128784</a></li><li>&ldquo;Implement edition 2024 match ergonomics restrictions&rdquo; <a href=https://github.com/rust-lang/rust/pull/131381>rust#131381</a></li></ul></li><li>Accepted MCPs<ul><li>&ldquo;Add a new <code>--orchestrator-id</code> flag to rustc&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/635>compiler-team#635</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Add.20a.20new.20.60--build-id.60.20flag.20to.20rustc.20compiler-team.23635>Zulip</a>)</li><li>&ldquo;Target families for executable format&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/716>compiler-team#716</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Target.20families.20for.20executable.20format.20compiler-team.23716>Zulip</a>)</li><li>&ldquo;Don&rsquo;t track <code>--emit=</code> options as part of crate SVH&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/769>compiler-team#769</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Don.27t.20track.20.60--emit.3D.60.20options.20as.20part.20of.20.E2.80.A6.20compiler-team.23769>Zulip</a>)</li><li>&ldquo;<code>--hint-msrv=version</code> option so the compiler can take MSRV into account when linting&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/772>compiler-team#772</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/.60-C.20msrv.3Dversion.60.20option.20so.20the.20compiler.20.E2.80.A6.20compiler-team.23772>Zulip</a>)</li><li>&ldquo;mark some target features as &lsquo;forbidden&rsquo; so they cannot be (un)set with -Ctarget-feature&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/780>compiler-team#780</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/mark.20some.20target.20features.20as.20.27forbidden.27.20.E2.80.A6.20compiler-team.23780>Zulip</a>)</li><li>&ldquo;-Z default-visibility option&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/782>compiler-team#782</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/-Z.20default-visibility.20option.20compiler-team.23782>Zulip</a>)</li><li>&ldquo;Test rule annotations&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/783>compiler-team#783</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Test.20rule.20annotations.20compiler-team.23783>Zulip</a>)</li><li>&ldquo;New Tier-3 target for OpenHarmony on LoongArch64&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/784>compiler-team#784</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/New.20Tier-3.20target.20for.20OpenHarmony.20on.20Loon.E2.80.A6.20compiler-team.23784>Zulip</a>)</li><li>&ldquo;Support tests to use <code>minicore</code> std/core prelude stubs&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/786>compiler-team#786</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Support.20tests.20to.20use.20.60minicore.60.20std.2Fcore.20.E2.80.A6.20compiler-team.23786>Zulip</a>)</li><li>&ldquo;Remove the <code>run-pass-valgrind</code> test suite&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/792>compiler-team#792</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Remove.20the.20.60run-pass-valgrind.60.20test.20suite.20compiler-team.23792>Zulip</a>)</li></ul></li><li>MCPs blocked on unresolved concerns<ul><li>&ldquo;Retire the mailing list and make all decisions on zulip&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/649>compiler-team#649</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Retire.20the.20mailing.20list.20and.20make.20all.20deci.E2.80.A6.20compiler-team.23649>Zulip</a>)<ul><li>concern: <a href=https://github.com/rust-lang/compiler-team/issues/649#issuecomment-1618902660>automatic-sync</a></li></ul></li></ul></li><li>Finalized FCPs (disposition merge)<ul><li>None</li></ul></li><li>Other teams finalized FCPs<ul><li>&ldquo;Allow dropping <code>dyn Trait</code> principal&rdquo; <a href=https://github.com/rust-lang/rust/pull/126660>rust#126660</a></li><li>&ldquo;atomics: allow atomic and non-atomic reads to race&rdquo; <a href=https://github.com/rust-lang/rust/pull/128778>rust#128778</a></li><li>&ldquo;Do not consider match/let/ref of place that evaluates to <code>!</code> to diverge, disallow coercions from them too&rdquo; <a href=https://github.com/rust-lang/rust/pull/129392>rust#129392</a></li><li>&ldquo;Make deprecated_cfg_attr_crate_type_name a hard error&rdquo; <a href=https://github.com/rust-lang/rust/pull/129670>rust#129670</a></li><li>&ldquo;Stabilize expr_2021 fragment specifier in all editions&rdquo; <a href=https://github.com/rust-lang/rust/pull/129972>rust#129972</a></li><li>&ldquo;Check elaborated projections from dyn don&rsquo;t mention unconstrained late bound lifetimes&rdquo; <a href=https://github.com/rust-lang/rust/pull/130367>rust#130367</a></li></ul></li></ul><h3 id=wg-checkins>WG checkins</h3><p>None</p><h2 id=backport-nominations>Backport nominations</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-compiler">T-compiler beta</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-compiler">T-compiler stable</a></p><ul><li>:beta:&ldquo;Disable jump threading <code>UnOp::Not</code> for non-bool&rdquo; <a href=https://github.com/rust-lang/rust/pull/131201>rust#131201</a><ul><li>Authored by compiler-errors</li><li>Fixes an unsoundness #131195 (<code>-Zmir-opt-level=2</code> miscompiles) and maybe also #131419</li><li>assuming the issue reproduces on beta and stable since this patch is labelled with both backport requests (didn&rsquo;t find a clear indication of that in #131195) cc @<strong>Michael Goulet (compiler-errors)</strong></li></ul></li></ul><ul><li>:beta:&ldquo;Update LLVM submodule&rdquo; <a href=https://github.com/rust-lang/rust/pull/131448>rust#131448</a><ul><li>Authored by DianQK</li><li>on target <code>thumbv7em-none-eabihf</code> (Tier 2 w/o host tools, see #131164), the <code>defmt</code> crate (supposedly widely used on that target) does not compile anymore.</li><li>But context seems to be a little less common that that (see <a href=https://rust-lang.zulipchat.com/#narrow/stream/245100-t-compiler.2Fwg-prioritization.2Falerts/topic/.23131164.20non-pub.20function.20no.20longer.20compiled.20in.20debug.20profil.E2.80.A6/near/475868602>comment</a> on Zulip)</li><li>Patchset upstream is <a href=https://github.com/rust-lang/llvm-project/compare/dd46457da782554454106d48ecd4f6b4c2f9af73...3a17f74904a74565c54cfac0d67026362d038698>here</a>, also contains a few other changes</li><li>This fix is still being worked on (some CI issues).</li></ul></li></ul><ul><li>:stable:&ldquo;Disable jump threading <code>UnOp::Not</code> for non-bool&rdquo; <a href=https://github.com/rust-lang/rust/pull/131201>rust#131201</a><ul><li>Authored by compiler-errors</li><li>see above</li></ul></li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-types">T-types stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-types">T-types beta</a></p><ul><li>No beta nominations for <code>T-types</code> this time.</li><li>No stable nominations for <code>T-types</code> this time.</li></ul><h2 id=prs-s-waiting-on-team>PRs S-waiting-on-team</h2><p><a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-compiler">T-compiler</a></p><ul><li>&ldquo;Add x86 specific hotpatch flag to rustc&rdquo; <a href=https://github.com/rust-lang/rust/pull/124966>rust#124966</a><ul><li>This is waiting on <a href=https://github.com/rust-lang/compiler-team/issues/745>MCP#745</a>, in case anyone has time to look at that (Zulip discussion<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Add.20Hotpatch.20flag.20compiler-team.23745>https://rust-lang.zulipchat.com/#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Add.20Hotpatch.20flag.20compiler-team.23745</a>)</li></ul></li><li>&ldquo;Stabilize WebAssembly <code>multivalue</code>, <code>reference-types</code>, and <code>tail-call</code> target features&rdquo; <a href=https://github.com/rust-lang/rust/pull/131080>rust#131080</a><ul><li>@_<em>petrochenkov</em> opened RFC to merge this (<a href=https://github.com/rust-lang/rust/pull/131080#issuecomment-2403261016>link</a>)</li></ul></li><li><a href=https://hackmd.io/XYr1BrOWSiqCrl8RCWXRaQ>Issues in progress or waiting on other teams</a></li></ul><h2 id=issues-of-note>Issues of Note</h2><h3 id=short-summary>Short Summary</h3><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical">0 T-compiler P-critical issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical+no%3Aassignee">0 of those are unassigned</a></li></ul></li><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high">71 T-compiler P-high issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high+no%3Aassignee">43 of those are unassigned</a></li></ul></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta>0 P-critical, 3 P-high, 5 P-medium, 0 P-low regression-from-stable-to-beta</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly>0 P-critical, 1 P-high, 5 P-medium, 3 P-low regression-from-stable-to-nightly</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-stable>0 P-critical, 36 P-high, 100 P-medium, 17 P-low regression-from-stable-to-stable</a></li></ul><h3 id=p-critical>P-critical</h3><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AP-critical+label%3AT-compiler">T-compiler</a></p><ul><li>No <code>P-critical</code> issues for <code>T-compiler</code> this time.</li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AP-critical+label%3AT-types">T-types</a></p><ul><li>No <code>P-critical</code> issues for <code>T-types</code> this time.</li></ul><h3 id=p-high-regressions>P-high regressions</h3><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-beta+label%3AP-high+-label%3AT-infra+-label%3AT-libs+-label%3AT-libs-api+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">P-high beta regressions</a></p><ul><li>&ldquo;non-pub function no longer compiled in debug profile, causing link errors on thumbv7em-none-eabihf with defmt&rdquo; <a href=https://github.com/rust-lang/rust/issues/131164>rust#131164</a><ul><li>See backport of #131448</li></ul></li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-nightly+label%3AP-high+no%3Aassignee+-label%3AT-infra+-label%3AT-libs+-label%3AT-libs-api+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core+">Unassigned P-high nightly regressions</a></p><ul><li>No unassigned <code>P-high</code> nightly regressions this time.</li></ul><h2 id=performance-logs>Performance logs</h2><blockquote><p><a href=https://github.com/rust-lang/rustc-perf/blob/master/triage/2024-10-08.md>triage logs for 2024-10-08</a></p></blockquote><p>One regression dominated this week (dealing with a correctness fix around type system caching that was deemed necessary), but it luckily did not produce large regressions in any benchmarks. Overall, performance still ended up relatively in the same place as the beginning of the week.</p><p>Triage done by <strong>@rylev</strong>.
Revision range: <a href="https://perf.rust-lang.org/?start=c87004a1f5be671e3f03f69fb13d8915bdbb6a52&amp;end=e6c46db4e9fd11e3183c397a59d946731034ede6&amp;absolute=false&amp;stat=instructions%3Au">c87004a1..e6c46db4</a></p><p><strong>Summary</strong>:</p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.1%, 1.0%]</td><td style=text-align:center>63</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>1.1%</td><td style=text-align:center>[0.1%, 3.4%]</td><td style=text-align:center>81</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.5%</td><td style=text-align:center>[-3.0%, -0.1%]</td><td style=text-align:center>19</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.5%</td><td style=text-align:center>[-1.5%, -0.1%]</td><td style=text-align:center>46</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.1%</td><td style=text-align:center>[-3.0%, 1.0%]</td><td style=text-align:center>82</td></tr></tbody></table><p>2 Regressions, 3 Improvements, 7 Mixed; 3 of them in rollups
57 artifact comparisons made in total</p><h4 id=regressions>Regressions</h4><p>Rollup of 4 pull requests <a href=https://github.com/rust-lang/rust/pull/131111>#131111</a> <a href="https://perf.rust-lang.org/compare.html?start=c817d5dc2050ec443516f9700c19b1419593a83d&amp;end=06bb8364aaffefb0ce67e5f5445e66ec99c1f66e&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.2%</td><td style=text-align:center>[0.2%, 0.2%]</td><td style=text-align:center>4</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.2%</td><td style=text-align:center>[0.2%, 0.2%]</td><td style=text-align:center>4</td></tr></tbody></table><ul><li>It seems like <a href=https://github.com/rust-lang/rust/pull/130005>https://github.com/rust-lang/rust/pull/130005</a> would be the only PR that could possibly have introduced any perf variation here though it&rsquo;s not clear to me why.</li></ul><p>add caching to most type folders, rm region uniquification <a href=https://github.com/rust-lang/rust/pull/130821>#130821</a> <a href="https://perf.rust-lang.org/compare.html?start=5384697e9e73709301850a414e1cc40324e6460b&amp;end=18b1161ec9eeab8927f91405bca0ddf59a4a26c9&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.1%, 0.5%]</td><td style=text-align:center>44</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.7%</td><td style=text-align:center>[0.2%, 2.1%]</td><td style=text-align:center>44</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.1%, 0.5%]</td><td style=text-align:center>44</td></tr></tbody></table><ul><li>Perf regressions were seen before merge and deemed acceptable <a href=https://github.com/rust-lang/rust/pull/130821#issuecomment-2386298339>here</a>.</li></ul><h4 id=improvements>Improvements</h4><p>Update hashbrown to 0.15 and adjust some methods <a href=https://github.com/rust-lang/rust/pull/131148>#131148</a> <a href="https://perf.rust-lang.org/compare.html?start=9c7013c15c189a6978ac8b9dac638581495527de&amp;end=ad9c494835e746fb7c8a26eeed0ad90e4e834058&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-0.2%, -0.1%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-2.3%, -0.1%]</td><td style=text-align:center>14</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-0.2%, -0.1%]</td><td style=text-align:center>2</td></tr></tbody></table><p>Make opaque types regular HIR nodes <a href=https://github.com/rust-lang/rust/pull/129244>#129244</a> <a href="https://perf.rust-lang.org/compare.html?start=d30c3924a4ef6ab4f331134562c145d5cec0179a&amp;end=5a4ee43c387110736440cecc375cb5aedc441dbc&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.1%</td><td style=text-align:center>[0.1%, 0.1%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-0.3%, -0.1%]</td><td style=text-align:center>13</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.6%</td><td style=text-align:center>[-1.4%, -0.2%]</td><td style=text-align:center>23</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-0.3%, -0.1%]</td><td style=text-align:center>13</td></tr></tbody></table><p>Rollup of 7 pull requests <a href=https://github.com/rust-lang/rust/pull/131372>#131372</a> <a href="https://perf.rust-lang.org/compare.html?start=7caad6925314911eefe54b040d4bc5be940e8f92&amp;end=baaf3e65abab5a281715230bcb1785610629ae7d&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.3%, -0.2%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-0.3%, -0.1%]</td><td style=text-align:center>9</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.3%, -0.2%]</td><td style=text-align:center>3</td></tr></tbody></table><h4 id=mixed>Mixed</h4><p>rustdoc: rewrite stability inheritance as a doc pass <a href=https://github.com/rust-lang/rust/pull/131076>#131076</a> <a href="https://perf.rust-lang.org/compare.html?start=f79ef02e4bc87eb6dc8374cd4bde8e86f9695cf9&amp;end=07f08ffb2dbc864d2127abedf7a5917b965c0a4b&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.5%</td><td style=text-align:center>[0.2%, 0.8%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.2%</td><td style=text-align:center>[0.1%, 0.2%]</td><td style=text-align:center>7</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.5%</td><td style=text-align:center>[-0.9%, -0.2%]</td><td style=text-align:center>4</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-0.2%, -0.2%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.1%</td><td style=text-align:center>[-0.9%, 0.8%]</td><td style=text-align:center>6</td></tr></tbody></table><ul><li>Documentation correctness fix, but the results are a wash anyway, especially on primary benchmarks.</li></ul><p>Rollup of 5 pull requests <a href=https://github.com/rust-lang/rust/pull/131098>#131098</a> <a href="https://perf.rust-lang.org/compare.html?start=8dd5cd0bc1d683c30805e1dc831cac546b621a75&amp;end=c817d5dc2050ec443516f9700c19b1419593a83d&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.2%, 0.3%]</td><td style=text-align:center>5</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.2%</td><td style=text-align:center>[0.2%, 0.2%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.3%, -0.2%]</td><td style=text-align:center>6</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.2%, 0.3%]</td><td style=text-align:center>5</td></tr></tbody></table><ul><li>The regressions are small and largely a jump back to a previous baseline so I don&rsquo;t think this merits investigation.</li></ul><p>interpret: always enable write_immediate sanity checks <a href=https://github.com/rust-lang/rust/pull/131006>#131006</a> <a href="https://perf.rust-lang.org/compare.html?start=18b1161ec9eeab8927f91405bca0ddf59a4a26c9&amp;end=9c7013c15c189a6978ac8b9dac638581495527de&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.5%</td><td style=text-align:center>[0.2%, 2.3%]</td><td style=text-align:center>15</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-2.0%</td><td style=text-align:center>[-2.0%, -2.0%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr></tbody></table><ul><li>The perf regressions were deemed acceptable <a href=https://github.com/rust-lang/rust/pull/131006#issuecomment-2383332832>here</a>.</li></ul><p>Handle <code>librustdoc</code> cases of <code>rustc::potential_query_instability</code> lint <a href=https://github.com/rust-lang/rust/pull/131259>#131259</a> <a href="https://perf.rust-lang.org/compare.html?start=96d9d8aa7de9396fe22702ff6df33816ae4d01b6&amp;end=373971abe48287f47ead6304b19279f34b6fcce5&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.5%</td><td style=text-align:center>[0.2%, 1.4%]</td><td style=text-align:center>9</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.5%</td><td style=text-align:center>[-0.6%, -0.4%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.5%</td><td style=text-align:center>[0.2%, 1.4%]</td><td style=text-align:center>9</td></tr></tbody></table><ul><li>1% regression in exchange for a reproducible build improvement. If we want to claw it back, we need to iterate over hash maps less.</li></ul><p><code>rustc_infer</code> cleanups <a href=https://github.com/rust-lang/rust/pull/131226>#131226</a> <a href="https://perf.rust-lang.org/compare.html?start=a964a9227787447016894268152bff79ee76a36b&amp;end=8841a3daddd4013c52e8b6de0407fd9b5902583c&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.8%</td><td style=text-align:center>[0.4%, 1.0%]</td><td style=text-align:center>8</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.5%, -0.2%]</td><td style=text-align:center>40</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.5%, -0.2%]</td><td style=text-align:center>15</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.5%, -0.2%]</td><td style=text-align:center>40</td></tr></tbody></table><ul><li>Perf improvements outweigh the regressions so marking this as triaged</li></ul><p>Remove <code>CombineFields</code> <a href=https://github.com/rust-lang/rust/pull/131343>#131343</a> <a href="https://perf.rust-lang.org/compare.html?start=baaf3e65abab5a281715230bcb1785610629ae7d&amp;end=3ae715c8c63f9aeac47cbf7d8d9dadb3fa32c638&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.2%</td><td style=text-align:center>[0.2%, 0.2%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.2%, 0.3%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-0.2%, -0.2%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.2%</td><td style=text-align:center>[0.2%, 0.2%]</td><td style=text-align:center>3</td></tr></tbody></table><ul><li>Regressions were determined as acceptable <a href=https://github.com/rust-lang/rust/pull/131343#issuecomment-2396836003>here</a>.</li></ul><p>Add precondition checks to ptr::offset, ptr::add, ptr::sub <a href=https://github.com/rust-lang/rust/pull/130251>#130251</a> <a href="https://perf.rust-lang.org/compare.html?start=3ae715c8c63f9aeac47cbf7d8d9dadb3fa32c638&amp;end=b8495e5dd22fa16fc86d6871b34c7891a6a3ee27&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>[0.3%, 0.5%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-3.2%</td><td style=text-align:center>[-3.2%, -3.2%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-0.2%, -0.2%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-3.2%</td><td style=text-align:center>[-3.2%, -3.2%]</td><td style=text-align:center>1</td></tr></tbody></table><ul><li>Results are net neutral and not significant enough to worry about. Alternatively, the slowdown is justified by finding bugs in real code.</li></ul><h2 id=nominated-issues>Nominated Issues</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-compiler-nominated">T-compiler</a></p><ul><li>No I-compiler-nominated issues this time.</li></ul><p><a href="https://github.com/rust-lang/rfcs/issues?q=is%3Aopen+label%3AI-compiler-nominated">RFC</a></p><ul><li>No I-compiler-nominated RFCs this time.</li></ul><h3 id=oldest-prs-waiting-for-review>Oldest PRs waiting for review</h3><p><a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-asc+label%3AS-waiting-on-review+draft%3Afalse+label%3AT-compiler">T-compiler</a></p><ul><li>&ldquo;add error message for c# style named arguments&rdquo; <a href=https://github.com/rust-lang/rust/pull/118733>rust#118733</a><ul><li>cc: @<strong>Esteban Küber</strong></li></ul></li><li>&ldquo;Fix bug where <code>option_env!</code> would return <code>None</code> when env var is present but not valid Unicode&rdquo; <a href=https://github.com/rust-lang/rust/pull/122670>rust#122670</a><ul><li>cc: @_<strong>Michael Goulet (compiler-errors)</strong></li></ul></li><li>&ldquo;Suggest cloning <code>Arc</code> moved into closure&rdquo; <a href=https://github.com/rust-lang/rust/pull/124595>rust#124595</a> (last review activity: 4 months ago)<ul><li>cc: @<strong>pnkfelix</strong></li></ul></li><li>&ldquo;Silence errors in expressions caused by bare traits in paths in 2021 edition&rdquo; <a href=https://github.com/rust-lang/rust/pull/125784>rust#125784</a><ul><li>cc: @<strong>León Orell Liehr (fmease)</strong> but also author cc @<strong>Esteban Küber</strong></li><li>this is pretty big diff and needs a rebase. I&rsquo;m not sure about the best way to proceed</li></ul></li></ul><h2 id=next-weeks-wg-checkins>Next week&rsquo;s WG checkins</h2><p>None</p><p>Next meetings&rsquo; agenda draft: <a href=https://hackmd.io/SM8ZkqI7Q26ZMuJ67YXC-A>hackmd link</a></p></article></div><aside class="book-toc level-6 fixed"><nav id=TableOfContents><ul><li><a href=#announcements>Announcements</a><ul><li><a href=#other-wg-meetings>Other WG meetings</a></li></ul></li><li><a href=#mcpsfcps>MCPs/FCPs</a><ul><li><a href=#wg-checkins>WG checkins</a></li></ul></li><li><a href=#backport-nominations>Backport nominations</a></li><li><a href=#prs-s-waiting-on-team>PRs S-waiting-on-team</a></li><li><a href=#issues-of-note>Issues of Note</a><ul><li><a href=#short-summary>Short Summary</a></li><li><a href=#p-critical>P-critical</a></li><li><a href=#p-high-regressions>P-high regressions</a></li></ul></li><li><a href=#performance-logs>Performance logs</a><ul><li></li></ul></li><li><a href=#nominated-issues>Nominated Issues</a><ul><li><a href=#oldest-prs-waiting-for-review>Oldest PRs waiting for review</a></li></ul></li><li><a href=#next-weeks-wg-checkins>Next week&rsquo;s WG checkins</a></li></ul></nav></aside></main></body></html>