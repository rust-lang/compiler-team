<!doctype html><html lang=en><head><meta http-equiv=refresh content="0; url=https://forge.rust-lang.org/compiler/index.html"></head><body><input type=checkbox style=display:none id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav><h2 class=book-brand><a href=https://rust-lang.github.io/compiler-team/>Rust Lang - Compiler Team</a></h2><style>nav ul a[href$=\2f compiler-team\2fminutes\2ftriage-meeting\2fT-compiler-Meeting-Agenda-2024-09-26\2f ]{color:#004ed0}</style><ul><li><p><strong>About</strong></p><ul><li><a href=/compiler-team/about/CODE_OF_CONDUCT/>Code of Conduct</a></li><li><a href=/compiler-team/about/chat-platform/>Chat Platform</a></li><li><a href=/compiler-team/about/steering-meeting/>Steering Meeting</a></li><li><a href=/compiler-team/about/triage-meeting/>Triage Meeting</a></li></ul></li><li><p><strong>Minutes</strong></p><ul><li><a href=/compiler-team/minutes/design-meeting/>Design Meetings</a></li><li><a href=/compiler-team/minutes/steering-meeting/>Steering Meetings</a></li><li><a href=/compiler-team/minutes/triage-meeting/>Triage Meetings</a></li></ul></li><li><p><strong>Procedures</strong></p><ul><li><a href=/compiler-team/procedures/>Documentation</a></li><li><a href=/compiler-team/procedures/crates/>Crates</a></li><li><a href=/compiler-team/procedures/call-for-participation/>Call for participation</a></li><li><a href=/compiler-team/procedures/form-new-working-group/>Form new working group</a></li></ul></li><li><p><a href=/compiler-team/working-groups/><strong>Working Groups</strong></a></p><ul><li><a href=/compiler-team/working-groups/async-await/>Async Await</a></li><li><a href=/compiler-team/working-groups/debugging/>Debugging</a></li><li><a href=/compiler-team/working-groups/diagnostics/>Diagnostics</a></li><li><a href=/compiler-team/working-groups/rustc-dev-guide/>Rustc Dev Guide</a></li><li><a href=/compiler-team/working-groups/llvm/>LLVM</a></li><li><a href=/compiler-team/working-groups/meta/>Meta</a></li><li><a href=/compiler-team/working-groups/mir-opt/>MIR-opt</a></li><li><a href=/compiler-team/working-groups/nll/>NLL</a></li><li><a href=/compiler-team/working-groups/parallel-rustc/>parallel rustc</a></li><li><a href=/compiler-team/working-groups/pgo/>PGO</a></li><li><a href=/compiler-team/working-groups/pipelining/>pipelining</a></li><li><a href=/compiler-team/working-groups/polonius/>polonius</a></li><li><a href=/compiler-team/working-groups/polymorphization/>polymorphization</a></li><li><a href=/compiler-team/working-groups/prioritization/>Prioritization</a></li><li><a href=/compiler-team/working-groups/rfc-2229/>rfc-2229</a></li><li><a href=/compiler-team/working-groups/rls-2.0/>rls-2.0</a></li><li><a href=/compiler-team/working-groups/self-profile/>Self Profile</a></li><li><a href=/compiler-team/working-groups/traits/>Traits</a></li></ul></li></ul></nav></aside><div class=book-page><header class="align-center justify-between book-header"><label for=menu-control><img src=/compiler-team/svg/menu.svg alt=Menu>
</label><strong>T Compiler Meeting Agenda 2024 09 26</strong></header><article class=markdown><h1 id=t-compiler-meeting-agenda-2024-09-26>T-compiler Meeting Agenda 2024-09-26</h1><h2 id=announcements>Announcements</h2><ul><li>Reminder: if you see a PR/issue that seems like there might be legal implications due to copyright/IP/etc, please let us know (or at least message @<em><strong>davidtwco</strong> or @</em><strong>Wesley Wiser</strong> so we can pass it along).</li></ul><h3 id=other-wg-meetings>Other WG meetings</h3><ul><li>Types Team: ITE (Impl Trait Everywhere) Triage <a href=time:2024-09-26T22:00:00+01:00>time:2024-09-26T22:00:00+01:00</a></li><li>wg-rust-analyzer steering meeting on Zulip (<a href=https://rust-lang.zulipchat.com/#narrow/stream/185405-t-compiler.2Fwg-rls-2.2E0/topic/Steering.20meeting>https://rust-lang.zulipchat.com/#narrow/stream/185405-t-compiler.2Fwg-rls-2.2E0/topic/Steering.20meeting</a>) <a href=time:2024-09-27T17:00:00+01:00>time:2024-09-27T17:00:00+01:00</a></li><li>wg-macros triage meeting Zulip (<a href=https://rust-lang.zulipchat.com/#narrow/stream/410876-wg-macros.2Ftriage>https://rust-lang.zulipchat.com/#narrow/stream/410876-wg-macros.2Ftriage</a>) <a href=time:2024-09-27T18:00:00+01:00>time:2024-09-27T18:00:00+01:00</a></li></ul><h2 id=mcpsfcps>MCPs/FCPs</h2><ul><li>New MCPs (take a look, see if you like them!)<ul><li>&ldquo;Make the test cfg a userspace check-cfg&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/785>compiler-team#785</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Make.20the.20test.20cfg.20a.20userspace.20check-cfg.20compiler-team.23785>Zulip</a>)</li></ul></li><li>Old MCPs (not seconded, take a look)<ul><li>&ldquo;Add hygiene attributes to compile expanded source code&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/692>compiler-team#692</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Add.20option.20to.20compile.20expanded.20ASTs.20for.20h.E2.80.A6.20compiler-team.23692>Zulip</a>) (last review activity: about 7 days ago)</li><li>&ldquo;Target families for executable format&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/716>compiler-team#716</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Target.20families.20for.20executable.20format.20compiler-team.23716>Zulip</a>) (last review activity: 7 months ago)</li><li>&ldquo;Add Hotpatch flag&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/745>compiler-team#745</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Add.20Hotpatch.20flag.20compiler-team.23745>Zulip</a>) (last review activity: about 20 days ago)</li><li>&ldquo;Opt-in flag for absolute paths in diagnostics&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/770>compiler-team#770</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Opt-in.20flag.20for.20absolute.20paths.20in.20diagnos.E2.80.A6.20compiler-team.23770>Zulip</a>) (last review activity: about 41 days ago)</li><li>&ldquo;Add <code>evex512</code> target feature for AVX10&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/778>compiler-team#778</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Add.20.60evex512.60.20target.20feature.20for.20AVX10.20compiler-team.23778>Zulip</a>) (last review activity: about 20 days ago)</li></ul></li><li>Pending FCP requests (check your boxes!)<ul><li>&ldquo;Add a new <code>--orchestrator-id</code> flag to rustc&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/635>compiler-team#635</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Add.20a.20new.20.60--build-id.60.20flag.20to.20rustc.20compiler-team.23635>Zulip</a>)</li><li>&ldquo;sanitizers: Stabilize AddressSanitizer and LeakSanitizer for the Tier 1 targets&rdquo; <a href=https://github.com/rust-lang/rust/pull/123617>rust#123617</a></li><li>&ldquo;Add <code>--print host-triple</code> to print host target triple&rdquo; <a href=https://github.com/rust-lang/rust/pull/125579>rust#125579</a></li><li>&ldquo;Check ABI target compatibility for function pointers&rdquo; <a href=https://github.com/rust-lang/rust/pull/128784>rust#128784</a></li><li>&ldquo;make unsupported_calling_conventions a hard error&rdquo; <a href=https://github.com/rust-lang/rust/pull/129935>rust#129935</a></li></ul></li><li>Things in FCP (make sure you&rsquo;re good with it)<ul><li>&ldquo;-Z default-visibility option&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/782>compiler-team#782</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/-Z.20default-visibility.20option.20compiler-team.23782>Zulip</a>)</li><li>&ldquo;Support tests to use <code>minicore</code> std/core prelude stubs&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/786>compiler-team#786</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Support.20tests.20to.20use.20.60minicore.60.20std.2Fcore.20.E2.80.A6.20compiler-team.23786>Zulip</a>)</li></ul></li><li>Accepted MCPs<ul><li>&ldquo;Test rule annotations&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/783>compiler-team#783</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Test.20rule.20annotations.20compiler-team.23783>Zulip</a>)</li><li>&ldquo;Don&rsquo;t track <code>--emit=</code> options as part of crate SVH&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/769>compiler-team#769</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Don.27t.20track.20.60--emit.3D.60.20options.20as.20part.20of.20.E2.80.A6.20compiler-team.23769>Zulip</a>)</li><li>&ldquo;<code>--hint-msrv=version</code> option so the compiler can take MSRV into account when linting&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/772>compiler-team#772</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/.60-C.20msrv.3Dversion.60.20option.20so.20the.20compiler.20.E2.80.A6.20compiler-team.23772>Zulip</a>)</li><li>&ldquo;mark some target features as &lsquo;forbidden&rsquo; so they cannot be (un)set with -Ctarget-feature&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/780>compiler-team#780</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/mark.20some.20target.20features.20as.20.27forbidden.27.20.E2.80.A6.20compiler-team.23780>Zulip</a>)</li><li>&ldquo;New Tier-3 target for OpenHarmony on LoongArch64&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/784>compiler-team#784</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/New.20Tier-3.20target.20for.20OpenHarmony.20on.20Loon.E2.80.A6.20compiler-team.23784>Zulip</a>)</li></ul></li><li>MCPs blocked on unresolved concerns<ul><li>&ldquo;Retire the mailing list and make all decisions on zulip&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/649>compiler-team#649</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Retire.20the.20mailing.20list.20and.20make.20all.20deci.E2.80.A6.20compiler-team.23649>Zulip</a>)<ul><li>concern: <a href=https://github.com/rust-lang/compiler-team/issues/649#issuecomment-1618902660>automatic-sync</a></li></ul></li></ul></li><li>Finalized FCPs (disposition merge)<ul><li>None</li></ul></li><li>Other teams finalized FCPs<ul><li>&ldquo;Check WF of source type&rsquo;s signature on fn pointer cast&rdquo; <a href=https://github.com/rust-lang/rust/pull/129021>rust#129021</a></li><li>&ldquo;Relate receiver invariantly in method probe for <code>Mode::Path</code>&rdquo; <a href=https://github.com/rust-lang/rust/pull/129073>rust#129073</a></li><li>&ldquo;Stabilize <code>&amp;mut</code> (and <code>*mut</code>) as well as <code>&amp;Cell</code> (and <code>*const Cell</code>) in const&rdquo; <a href=https://github.com/rust-lang/rust/pull/129195>rust#129195</a></li><li>&ldquo;Make destructors on <code>extern "C"</code> frames to be executed&rdquo; <a href=https://github.com/rust-lang/rust/pull/129582>rust#129582</a></li><li>&ldquo;stabilize <code>const_extern_fn</code>&rdquo; <a href=https://github.com/rust-lang/rust/pull/129753>rust#129753</a></li></ul></li></ul><h3 id=wg-checkins>WG checkins</h3><p>None</p><h2 id=backport-nominations>Backport nominations</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-compiler">T-compiler beta</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-compiler">T-compiler stable</a></p><ul><li>:beta:&ldquo;Use equality when relating formal and expected type in arg checking&rdquo; <a href=https://github.com/rust-lang/rust/pull/129317>rust#129317</a><ul><li>Authored by compiler-errors</li><li>Fixes #129286 a P-medium regression on nightly (regressed in #129059)</li></ul></li></ul><ul><li>:beta:&ldquo;Don&rsquo;t call <code>extern_crate</code> when local crate name is the same as a dependency and we have a trait error&rdquo; <a href=https://github.com/rust-lang/rust/pull/130275>rust#130275</a><ul><li>Authored by compiler-errors</li><li>Fixes P-high (more likely P-critical) beta regression #130573 and #130272 and #129184 (all leading to the same root cause)</li></ul></li></ul><ul><li>No stable nominations for <code>T-compiler</code> this time.</li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-types">T-types stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-types">T-types beta</a></p><ul><li>No beta nominations for <code>T-types</code> this time.</li><li>No stable nominations for <code>T-types</code> this time.</li></ul><h2 id=prs-s-waiting-on-team>PRs S-waiting-on-team</h2><p><a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-compiler">T-compiler</a></p><ul><li><a href=https://hackmd.io/XYr1BrOWSiqCrl8RCWXRaQ>Issues in progress or waiting on other teams</a></li></ul><h2 id=issues-of-note>Issues of Note</h2><h3 id=short-summary>Short Summary</h3><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical">2 T-compiler P-critical issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical+no%3Aassignee">1 of those are unassigned</a></li></ul></li><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high">68 T-compiler P-high issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high+no%3Aassignee">40 of those are unassigned</a></li></ul></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta>0 P-critical, 3 P-high, 3 P-medium, 0 P-low regression-from-stable-to-beta</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly>1 P-critical, 0 P-high, 6 P-medium, 3 P-low regression-from-stable-to-nightly</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-stable>1 P-critical, 36 P-high, 100 P-medium, 17 P-low regression-from-stable-to-stable</a></li></ul><h3 id=p-critical>P-critical</h3><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AP-critical+label%3AT-compiler">T-compiler</a></p><ul><li>&ldquo;Unsoundness: Patterns in function parameters are not checked for union access&rdquo; <a href=https://github.com/rust-lang/rust/issues/130528>rust#130528</a><ul><li>Fixed by @<strong>Michael Goulet (compiler-errors)</strong> in #130531 (beta accepted last week, open just to track the backport)</li></ul></li><li>&ldquo;Panic while compiling http-body v0.4.6 with rustc 1.83.0-nightly (7042c269c 2024-09-23)&rdquo; <a href=https://github.com/rust-lang/rust/issues/130769>rust#130769</a><ul><li>regressed on recent nightly and already fixed by @_<strong>Quentin Dian (dianqk)</strong> in #130786 should fix this</li></ul></li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AP-critical+label%3AT-types">T-types</a></p><ul><li>No <code>P-critical</code> issues for <code>T-types</code> this time.</li></ul><h3 id=p-high-regressions>P-high regressions</h3><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-beta+label%3AP-high+-label%3AT-infra+-label%3AT-libs+-label%3AT-libs-api+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">P-high beta regressions</a></p><ul><li>&ldquo;regression: overflow evaluating the requirement&rdquo; <a href=https://github.com/rust-lang/rust/issues/128887>rust#128887</a><ul><li>Already fixed in #129073, just needs a regression test</li></ul></li><li>&ldquo;regression: ICE is not supported for this key&rdquo; <a href=https://github.com/rust-lang/rust/issues/130573>rust#130573</a><ul><li>Solved by #130275, beta-nominated</li></ul></li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-nightly+label%3AP-high+no%3Aassignee+-label%3AT-infra+-label%3AT-libs+-label%3AT-libs-api+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core+">Unassigned P-high nightly regressions</a></p><ul><li>No unassigned <code>P-high</code> nightly regressions this time.</li></ul><h2 id=performance-logs>Performance logs</h2><blockquote><p><a href=https://github.com/rust-lang/rustc-perf/blob/44fe248ab62545a5ee7a1cd710451ca16073ea62/triage/2024-09-23.md>triage logs 2024-09-23</a></p></blockquote><p>Not too much happened this week. Most regressions of note were readily
justified as removing sources of unpredictable/inconsistent behavior
from code-generation. There was one notable improvement, from PR
#130561: avoiding redoing a redundant normalization of the param-env
ended up improving compile times for 93 primary benchmarks by -1.0% on
average.</p><p>Triage done by <strong>@pnkfelix</strong>.
Revision range: <a href="https://perf.rust-lang.org/?start=170d6cb845c8c3f0dcec5cdd4210df9ecf990244&amp;end=749f80ab051aa0b3724b464130440b0e70a975ac&amp;absolute=false&amp;stat=instructions%3Au">170d6cb8..749f80ab</a>
Revision range: <a href="https://perf.rust-lang.org/?start=506f22b4663f3e756e1e6a4f66c6309fdc00819c&amp;end=4cadeda932d5c261a9a0b1bbd25c4486e4e0a4c6&amp;absolute=false&amp;stat=instructions%3Au">506f22b4..4cadeda9</a></p><p><strong>Summary</strong>:</p><p>Note: Due to issues in how the perf website generates its output and
fails to deal with certain git histories, we have two different base
summaries.</p><p>Base Revision range: <a href="https://perf.rust-lang.org/?start=170d6cb845c8c3f0dcec5cdd4210df9ecf990244&amp;end=749f80ab051aa0b3724b464130440b0e70a975ac&amp;absolute=false&amp;stat=instructions%3Au">170d6cb8..749f80ab</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.7%</td><td style=text-align:center>[0.2%, 2.5%]</td><td style=text-align:center>8</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>1.2%</td><td style=text-align:center>[0.1%, 3.2%]</td><td style=text-align:center>4</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.4%, -0.3%]</td><td style=text-align:center>9</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.9%</td><td style=text-align:center>[-1.7%, -0.2%]</td><td style=text-align:center>23</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.2%</td><td style=text-align:center>[-0.4%, 2.5%]</td><td style=text-align:center>17</td></tr></tbody></table><p>Base Revision range: <a href="https://perf.rust-lang.org/?start=506f22b4663f3e756e1e6a4f66c6309fdc00819c&amp;end=4cadeda932d5c261a9a0b1bbd25c4486e4e0a4c6&amp;absolute=false&amp;stat=instructions%3Au">506f22b4..4cadeda9</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>2.7%</td><td style=text-align:center>[0.1%, 6.7%]</td><td style=text-align:center>16</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.2%</td><td style=text-align:center>[0.2%, 0.2%]</td><td style=text-align:center>6</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-1.1%</td><td style=text-align:center>[-5.1%, -0.2%]</td><td style=text-align:center>80</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-2.4%</td><td style=text-align:center>[-5.2%, -0.2%]</td><td style=text-align:center>54</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.5%</td><td style=text-align:center>[-5.1%, 6.7%]</td><td style=text-align:center>96</td></tr></tbody></table><p>Total:</p><p>2 Regression, 2 Improvements, 7 Mixed; 4 of them in rollups
62 artifact comparisons made in total</p><h4 id=regressions>Regressions</h4><p>Remove semi-nondeterminism of <code>DefPathHash</code> ordering from inliner <a href=https://github.com/rust-lang/rust/pull/130455>#130455</a> <a href="https://perf.rust-lang.org/compare.html?start=2e367d94f05f3c6170f4d49f5e387cfaa0c42c32&amp;end=46b0f8bafcf11fa1d6b6c172f4f5c1b95c11ebdb&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.8%</td><td style=text-align:center>[0.3%, 2.5%]</td><td style=text-align:center>5</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.6%</td><td style=text-align:center>[0.1%, 1.0%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.8%</td><td style=text-align:center>[0.3%, 2.5%]</td><td style=text-align:center>5</td></tr></tbody></table><ul><li>primary regressions are all to opt-full for hyper (-2.54%), clap (-0.69%), html5ever (-0.36%), image (-0.31%), cargo (-0.27%)</li><li>from detailed results on hyper, looks like <code>mir_callgraph_reachable</code> doubled in instr-count; if I&rsquo;m reading the table right,
it seems like it is being called nearly twice as often as before? But this outcome seems like it might be expected, since
this PR is deliberately removing some code that would bail out early from that call.</li><li>it looks like @<strong>Ben Kimock (Saethlin)</strong> had already
<a href=https://github.com/rust-lang/rust/pull/130455#issuecomment-2354849189>attempted to mark</a> this as triaged (due to it being
acceptable overhead for the benefit of better de</li></ul><p>Rollup of 6 pull requests <a href=https://github.com/rust-lang/rust/pull/130649>#130649</a> <a href="https://perf.rust-lang.org/compare.html?start=c0838c8ebec23fb87855bb6de3a287981cb1df98&amp;end=74fd001cdae0321144a20133f2216ea8a97da476&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.1%, 0.4%]</td><td style=text-align:center>13</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr></tbody></table><ul><li>This was flagged solely because of the <em>number</em> of secondary benchmarks that were affected.</li><li>Marking as triaged.</li></ul><h4 id=improvements>Improvements</h4><p>[perf] skip normalizing param env if it is already normalized <a href=https://github.com/rust-lang/rust/pull/130561>#130561</a> <a href="https://perf.rust-lang.org/compare.html?start=506f22b4663f3e756e1e6a4f66c6309fdc00819c&amp;end=5793a9e90289382e447f5bc411cab2bc01c5836f&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-1.0%</td><td style=text-align:center>[-5.5%, -0.1%]</td><td style=text-align:center>93</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-2.7%</td><td style=text-align:center>[-6.5%, -0.2%]</td><td style=text-align:center>59</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-1.0%</td><td style=text-align:center>[-5.5%, -0.1%]</td><td style=text-align:center>93</td></tr></tbody></table><ul><li>This is awesome. :)</li></ul><p>Rollup of 7 pull requests <a href=https://github.com/rust-lang/rust/pull/130768>#130768</a> <a href="https://perf.rust-lang.org/compare.html?start=f5cd2c5888011d4d80311e5b771c6da507d860dd&amp;end=4cadeda932d5c261a9a0b1bbd25c4486e4e0a4c6&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.7%, -0.1%]</td><td style=text-align:center>14</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr></tbody></table><ul><li>This was flagged because of the <em>number</em> of secondary benchmarks that were affected.</li></ul><h4 id=mixed>Mixed</h4><p>read_volatile __rust_no_alloc_shim_is_unstable in alloc_zeroed <a href=https://github.com/rust-lang/rust/pull/130497>#130497</a> <a href="https://perf.rust-lang.org/compare.html?start=aaed38b2a631dfc593454abf471d75d84033773e&amp;end=7fc70f870a1d11c3b104274d3a18112996cdec9a&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.5%</td><td style=text-align:center>[0.5%, 0.5%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.5%</td><td style=text-align:center>[-0.7%, -0.3%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-0.7%, 0.5%]</td><td style=text-align:center>3</td></tr></tbody></table><ul><li>cranelift-codegen opt-full-llvm regressed by -0.48%.</li><li>marking as triaged; this is bringing the two allocator paths into consistency with eachother (the question of whether we want these volatile reads at all, and how to otherwise achieve their effect on the end-to-end developer experience, is an <a href=https://rust-lang.zulipchat.com/#narrow/stream/131828-t-compiler/topic/Different.20mechanism.20for.20__rust_no_alloc_shim_is_unstable/near/462025387>entirely separate question</a>).</li></ul><p>Rollup of 9 pull requests <a href=https://github.com/rust-lang/rust/pull/130534>#130534</a> <a href="https://perf.rust-lang.org/compare.html?start=f79a912d9edc3ad4db910c0e93672ed5c65133fa&amp;end=a5cf8bbd4e1c8edeae08778c85c6f806dd00e853&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.2%, 0.3%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-1.1%</td><td style=text-align:center>[-1.2%, -0.6%]</td><td style=text-align:center>4</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.2%, 0.3%]</td><td style=text-align:center>3</td></tr></tbody></table><ul><li>syn regressed on three variant profiles: check incr-unchanged (-0.28%), check incr-patched:println (-0.27%), and debug incr-unchanged (-0.23%)</li><li><a href="https://perf.rust-lang.org/detailed-query.html?commit=a5cf8bbd4e1c8edeae08778c85c6f806dd00e853&amp;benchmark=syn-1.0.89-check&amp;scenario=incr-unchanged&amp;base_commit=f79a912d9edc3ad4db910c0e93672ed5c65133fa&amp;sort_idx=-11">detailed perf results</a> indicates that incr_comp_persist_dep_graph went from 0.002 seconds to 0.14 seconds; a delta that accounts for the vast bulk of the difference here&mldr;</li><li>but from examining the PR&rsquo;s that follow, it doesn&rsquo;t seem like that result persists into the future. (Also, I&rsquo;m realizing that the detailed results are presenting seconds, not instruction-counts, and therefore they are probably wildly unstable between runs&mldr;)</li><li>marking as triaged; this isn&rsquo;t worth investigating further.</li></ul><p>Support <code>char::encode_utf8</code> in const scenarios. <a href=https://github.com/rust-lang/rust/pull/130511>#130511</a> <a href="https://perf.rust-lang.org/compare.html?start=df7f77811c8806f85522a38878c57fde221138c9&amp;end=f8192ba0d00bbbc58a10c45823ba010e98ea4474&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.3%, 0.4%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.4%</td><td style=text-align:center>[-0.5%, -0.3%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.0%</td><td style=text-align:center>[-0.5%, 0.4%]</td><td style=text-align:center>5</td></tr></tbody></table><ul><li>primary regressions to opt-full on clap (-0.38%), image (-0.33%), and webrender (-0.31%).</li><li>from inspection, it seems like this may just be a natural (and small, acceptable) artifact of the changes to which things get const-eval&rsquo;ed.</li><li>marking as triaged</li></ul><p>Get rid of niche selection&rsquo;s dependence on fields&rsquo;s order <a href=https://github.com/rust-lang/rust/pull/130508>#130508</a> <a href="https://perf.rust-lang.org/compare.html?start=749f80ab051aa0b3724b464130440b0e70a975ac&amp;end=902f2956a627bd1bd44557b7fe6427a099bf8c48&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.2%</td><td style=text-align:center>[0.2%, 0.2%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.5%</td><td style=text-align:center>[0.2%, 0.9%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.6%</td><td style=text-align:center>[-0.6%, -0.6%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-0.6%, 0.2%]</td><td style=text-align:center>2</td></tr></tbody></table><ul><li>primary regression to typenum doc-full (-0.23%)</li><li>marking as triaged; this is a very small (and probably semi-random) cost for a clear win IMO in terms of overall consistency of behavior.</li></ul><p>Rollup of 7 pull requests <a href=https://github.com/rust-lang/rust/pull/130631>#130631</a> <a href="https://perf.rust-lang.org/compare.html?start=5ba6db1b648d93fbbab4ae0466e40db682fa45fc&amp;end=da889684c80508036ff036db8c159ffdcf27648a&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.6%</td><td style=text-align:center>[0.6%, 0.6%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.2%, 0.4%]</td><td style=text-align:center>5</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.3%, -0.3%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.1%</td><td style=text-align:center>[-0.3%, 0.6%]</td><td style=text-align:center>2</td></tr></tbody></table><ul><li>sole primary regression is to cargo opt-full by 0.6%.</li><li>no obvious smoking guns in the PR list for this rollup.</li><li>marking as triaged as &ldquo;not being worth further investigation&rdquo;</li></ul><p>add unqualified_local_imports lint <a href=https://github.com/rust-lang/rust/pull/125645>#125645</a> <a href="https://perf.rust-lang.org/compare.html?start=9d6039ccae68a2f1930ed9c1542d387b2c0c0ba6&amp;end=7042c269c166191cd5d8daf0409890903df7af57&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>1.5%</td><td style=text-align:center>[0.4%, 2.0%]</td><td style=text-align:center>11</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.4%, -0.2%]</td><td style=text-align:center>6</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr></tbody></table><ul><li>There was some surprise here for the PR author because this was an allow-by-default lint and so they didn&rsquo;t expect it to have any actual perf impact,
because they assumed that allowed-linted could be skipped (which is not actually the way they work today, but there are PR&rsquo;s in process that try
to get that effect).</li><li>In any case, this PR was flagged solely because of the <em>number</em> of secondary benchmarks that were affected.</li><li>Marking as triaged.</li></ul><p>Rework <code>non_local_definitions</code> lint to only use a syntactic heuristic <a href=https://github.com/rust-lang/rust/pull/127117>#127117</a> <a href="https://perf.rust-lang.org/compare.html?start=35daf8b8aa95dee4296bad117c4cb7ecaea7bf4f&amp;end=f5cd2c5888011d4d80311e5b771c6da507d860dd&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>3.3%</td><td style=text-align:center>[0.6%, 6.6%]</td><td style=text-align:center>13</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.1%, 0.4%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.7%</td><td style=text-align:center>[-1.0%, -0.2%]</td><td style=text-align:center>8</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.3%, -0.3%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>1.8%</td><td style=text-align:center>[-1.0%, 6.6%]</td><td style=text-align:center>21</td></tr></tbody></table><ul><li>as noted by Urgau: &ldquo;the version of diesel used by <code>rustc-perf</code> is too old and use named <code>const AA</code> items instead of un-named <code>const _</code> items, making the lint trigger many times (more than 150 times last time). We ruled in the past that given the regression where located in one benchmark only, and only a pathological case that the regressions where fine.&rdquo;</li><li>already marked as triaged.</li></ul><h2 id=nominated-issues>Nominated Issues</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-compiler-nominated">T-compiler</a></p><ul><li>No I-compiler-nominated issues this time.</li></ul><p><a href="https://github.com/rust-lang/rfcs/issues?q=is%3Aopen+label%3AI-compiler-nominated">RFC</a></p><ul><li>No I-compiler-nominated RFCs this time.</li></ul><h3 id=oldest-prs-waiting-for-review>Oldest PRs waiting for review</h3><p><a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-asc+label%3AS-waiting-on-review+draft%3Afalse+label%3AT-compiler">T-compiler</a></p><ul><li>&ldquo;Consistently use the highest bit of vector masks when converting to i1 vectors&rdquo; <a href=https://github.com/rust-lang/rust/pull/104693>rust#104693</a> (last review activity: 14 months ago)<ul><li>cc @<strong>Wesley Wiser</strong> (self-assigned last year, PR has bounced a bit looking for a reviewer)</li></ul></li><li>&ldquo;add error message for c# style named arguments&rdquo; <a href=https://github.com/rust-lang/rust/pull/118733>rust#118733</a> (last review activity: 9 months ago)<ul><li>cc @<strong>Esteban Küber</strong></li></ul></li><li>&ldquo;Fix bug where <code>option_env!</code> would return <code>None</code> when env var is present but not valid Unicode&rdquo; <a href=https://github.com/rust-lang/rust/pull/122670>rust#122670</a><ul><li>cc: @<em>lcnr</em> (or reroll?)</li></ul></li><li>&ldquo;Issue 83060 fix&rdquo; <a href=https://github.com/rust-lang/rust/pull/119798>rust#119798</a><ul><li>Can anyone assist the author? :) @<strong>Michael Goulet (compiler-errors)</strong> can you reply to the author&rsquo;s <a href=https://github.com/rust-lang/rust/pull/119798#discussion_r1573980900>comment</a>?</li></ul></li></ul><p>Next meeting&rsquo;s agenda draft: <a href=https://hackmd.io/szi5IXJzROqRtix7BOJjZQ>hackmd link</a></p></article></div><aside class="book-toc level-6 fixed"><nav id=TableOfContents><ul><li><a href=#announcements>Announcements</a><ul><li><a href=#other-wg-meetings>Other WG meetings</a></li></ul></li><li><a href=#mcpsfcps>MCPs/FCPs</a><ul><li><a href=#wg-checkins>WG checkins</a></li></ul></li><li><a href=#backport-nominations>Backport nominations</a></li><li><a href=#prs-s-waiting-on-team>PRs S-waiting-on-team</a></li><li><a href=#issues-of-note>Issues of Note</a><ul><li><a href=#short-summary>Short Summary</a></li><li><a href=#p-critical>P-critical</a></li><li><a href=#p-high-regressions>P-high regressions</a></li></ul></li><li><a href=#performance-logs>Performance logs</a><ul><li></li></ul></li><li><a href=#nominated-issues>Nominated Issues</a><ul><li><a href=#oldest-prs-waiting-for-review>Oldest PRs waiting for review</a></li></ul></li></ul></nav></aside></main></body></html>