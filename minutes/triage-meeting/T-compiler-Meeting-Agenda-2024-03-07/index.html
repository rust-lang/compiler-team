<!doctype html><html lang=en><head><meta http-equiv=refresh content="0; url=https://forge.rust-lang.org/compiler/index.html"></head><body><input type=checkbox style=display:none id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav><h2 class=book-brand><a href=https://rust-lang.github.io/compiler-team/>Rust Lang - Compiler Team</a></h2><style>nav ul a[href$=\2f compiler-team\2fminutes\2ftriage-meeting\2fT-compiler-Meeting-Agenda-2024-03-07\2f ]{color:#004ed0}</style><ul><li><p><strong>About</strong></p><ul><li><a href=/compiler-team/about/CODE_OF_CONDUCT/>Code of Conduct</a></li><li><a href=/compiler-team/about/chat-platform/>Chat Platform</a></li><li><a href=/compiler-team/about/steering-meeting/>Steering Meeting</a></li><li><a href=/compiler-team/about/triage-meeting/>Triage Meeting</a></li></ul></li><li><p><strong>Minutes</strong></p><ul><li><a href=/compiler-team/minutes/design-meeting/>Design Meetings</a></li><li><a href=/compiler-team/minutes/steering-meeting/>Steering Meetings</a></li><li><a href=/compiler-team/minutes/triage-meeting/>Triage Meetings</a></li></ul></li><li><p><strong>Procedures</strong></p><ul><li><a href=/compiler-team/procedures/>Documentation</a></li><li><a href=/compiler-team/procedures/crates/>Crates</a></li><li><a href=/compiler-team/procedures/call-for-participation/>Call for participation</a></li><li><a href=/compiler-team/procedures/form-new-working-group/>Form new working group</a></li></ul></li><li><p><a href=/compiler-team/working-groups/><strong>Working Groups</strong></a></p><ul><li><a href=/compiler-team/working-groups/async-await/>Async Await</a></li><li><a href=/compiler-team/working-groups/debugging/>Debugging</a></li><li><a href=/compiler-team/working-groups/diagnostics/>Diagnostics</a></li><li><a href=/compiler-team/working-groups/rustc-dev-guide/>Rustc Dev Guide</a></li><li><a href=/compiler-team/working-groups/llvm/>LLVM</a></li><li><a href=/compiler-team/working-groups/meta/>Meta</a></li><li><a href=/compiler-team/working-groups/mir-opt/>MIR-opt</a></li><li><a href=/compiler-team/working-groups/nll/>NLL</a></li><li><a href=/compiler-team/working-groups/parallel-rustc/>parallel rustc</a></li><li><a href=/compiler-team/working-groups/pgo/>PGO</a></li><li><a href=/compiler-team/working-groups/pipelining/>pipelining</a></li><li><a href=/compiler-team/working-groups/polonius/>polonius</a></li><li><a href=/compiler-team/working-groups/polymorphization/>polymorphization</a></li><li><a href=/compiler-team/working-groups/prioritization/>Prioritization</a></li><li><a href=/compiler-team/working-groups/rfc-2229/>rfc-2229</a></li><li><a href=/compiler-team/working-groups/rls-2.0/>rls-2.0</a></li><li><a href=/compiler-team/working-groups/self-profile/>Self Profile</a></li><li><a href=/compiler-team/working-groups/traits/>Traits</a></li></ul></li></ul></nav></aside><div class=book-page><header class="align-center justify-between book-header"><label for=menu-control><img src=/compiler-team/svg/menu.svg alt=Menu>
</label><strong>T Compiler Meeting Agenda 2024 03 07</strong></header><article class=markdown><h1 id=t-compiler-meeting-agenda-2024-03-07>T-compiler Meeting Agenda 2024-03-07</h1><h2 id=announcements>Announcements</h2><ul><li>Reminder: if you see a PR/issue that seems like there might be legal implications due to copyright/IP/etc, please let us know (or at least message @<em><strong>davidtwco</strong> or @</em><strong>Wesley Wiser</strong> so we can pass it along).</li></ul><h3 id=other-wg-meetings>Other WG meetings</h3><ul><li>Types Team: ITE (Impl Trait Everywhere) Triage <a href=time:2024-03-07T22:00:00+01:00>time:2024-03-07T22:00:00+01:00</a></li></ul><h2 id=mcpsfcps>MCPs/FCPs</h2><ul><li>New MCPs (take a look, see if you like them!)<ul><li>&ldquo;Promote riscv64gc-unknown-linux-musl to tier 2&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/728>compiler-team#728</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Promote.20riscv64gc-unknown-linux-gnu.20to.20ti.E2.80.A6.20compiler-team.23728>Zulip</a>)</li></ul></li><li>MCPs (not seconded, take a look)<ul><li>&ldquo;Support patchable-function-entry&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/704>compiler-team#704</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Support.20patchable-function-entry.20compiler-team.23704>Zulip</a>) (last review activity: 2 months ago)</li><li>&ldquo;Target families for executable format&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/716>compiler-team#716</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Target.20families.20for.20executable.20format.20compiler-team.23716>Zulip</a>) (last review activity: about 34 days ago)</li><li>&ldquo;Add <code>--emit=</code> to emit nothing&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/718>compiler-team#718</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Add.20.60--emit.3D.60.20to.20emit.20nothing.20compiler-team.23718>Zulip</a>) (last review activity: about 34 days ago)</li><li>&ldquo;Dist rustc with overflow checks&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/724>compiler-team#724</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Dist.20rustc.20with.20overflow.20checks.20compiler-team.23724>Zulip</a>) (last review activity: about 13 days ago)</li></ul></li><li>Pending FCP requests (check your boxes!)<ul><li>&ldquo;Tracking Issue for RFC 3013: Checking conditional compilation at compile time&rdquo; <a href=https://github.com/rust-lang/rust/issues/82450>rust#82450</a></li><li>&ldquo;Stabilize Wasm target features that are in phase 4 and 5&rdquo; <a href=https://github.com/rust-lang/rust/pull/117457>rust#117457</a></li><li>&ldquo;Stabilize <code>--env-set</code> option&rdquo; <a href=https://github.com/rust-lang/rust/pull/119926>rust#119926</a></li><li>&ldquo;Make casts of pointers to trait objects stricter&rdquo; <a href=https://github.com/rust-lang/rust/pull/120248>rust#120248</a></li><li>&ldquo;debuginfo: Stabilize <code>-Z debug-macros</code>, <code>-Z collapse-macro-debuginfo</code> and <code>#[collapse_debuginfo]</code>&rdquo; <a href=https://github.com/rust-lang/rust/pull/120845>rust#120845</a></li><li>&ldquo;Add encoding for <code>f16</code> and <code>f128</code>&rdquo; <a href=https://github.com/rust-lang/rust/pull/122106>rust#122106</a></li></ul></li><li>Things in FCP (make sure you&rsquo;re good with it)<ul><li>&ldquo;Introduce perma-unstable <code>wasm-c-abi</code> flag&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/703>compiler-team#703</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Introduce.20perma-unstable.20.60wasm-c-abi.60.20flag.20compiler-team.23703>Zulip</a>)</li><li>&ldquo;Support debug fission using -Csplit-debuginfo=post-link&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/721>compiler-team#721</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Use.20debug.20fission.20instead.20of.20dwarf.20split.20.E2.80.A6.20compiler-team.23721>Zulip</a>)</li><li>&ldquo;Put &ldquo;checks that detect UB&rdquo; under their own flag below <code>debug_assertions</code>&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/725>compiler-team#725</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Put.20.22checks.20that.20detect.20UB.22.20under.20their.20o.E2.80.A6.20compiler-team.23725>Zulip</a>)</li><li>&ldquo;Separate incremental crate identity&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/726>compiler-team#726</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Separate.20incremental.20crate.20identity.20compiler-team.23726>Zulip</a>)</li><li>&ldquo;MCP: Low level components for async drop&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/727>compiler-team#727</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/MCP.3A.20Low.20level.20components.20for.20async.20drop.20compiler-team.23727>Zulip</a>)</li><li>&ldquo;Update Windows platform support&rdquo; <a href=https://github.com/rust-lang/rust/pull/115141>rust#115141</a></li><li>&ldquo;Add <code>wasm_c_abi</code> <code>future-incompat</code> lint&rdquo; <a href=https://github.com/rust-lang/rust/pull/117918>rust#117918</a></li></ul></li><li>MCPs blocked on unresolved concerns<ul><li>&ldquo;Add hygiene attributes to compile expanded source code&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/692>compiler-team#692</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Add.20option.20to.20compile.20expanded.20ASTs.20for.20h.E2.80.A6.20compiler-team.23692>Zulip</a>) (last review activity: about 50 days ago)<ul><li>concern: <a href=https://github.com/rust-lang/compiler-team/issues/692#issuecomment-1845169318>added-complexity-to-frontend</a></li></ul></li><li>&ldquo;Add a new <code>--build-id</code> flag to rustc&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/635>compiler-team#635</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Add.20a.20new.20.60--build-id.60.20flag.20to.20rustc.20compiler-team.23635>Zulip</a>)<ul><li>concern: <a href=https://github.com/rust-lang/compiler-team/issues/635#issuecomment-1779597156>other-existing-options</a></li><li>concern: <a href=https://github.com/rust-lang/compiler-team/issues/635#issuecomment-1785349936>option-name</a></li></ul></li><li>&ldquo;Retire the mailing list and make all decisions on zulip&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/649>compiler-team#649</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Retire.20the.20mailing.20list.20and.20make.20all.20deci.E2.80.A6.20compiler-team.23649>Zulip</a>)<ul><li>concern: <a href=https://github.com/rust-lang/compiler-team/issues/649#issuecomment-1618902660>automatic-sync</a></li><li>concern: <a href=https://github.com/rust-lang/compiler-team/issues/649#issuecomment-1664056989>single-point-of-failure-via-stream-archival</a></li></ul></li></ul></li><li>Accepted MCPs<ul><li>No new accepted proposals this time.</li></ul></li><li>Finalized FCPs (disposition merge)<ul><li>No new finished FCP (disposition merge) this time.</li></ul></li></ul><h3 id=wg-checkins>WG checkins</h3><p>Skipping this week</p><h2 id=backport-nominations>Backport nominations</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-compiler">T-compiler beta</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-compiler">T-compiler stable</a></p><ul><li>:beta: [1.77] &ldquo;AST validation: Improve handling of inherent impls nested within functions and anon consts&rdquo; <a href=https://github.com/rust-lang/rust/pull/122004>rust#122004</a><ul><li>Fixes #121607, #89342 and partially #119924</li><li>Still WIP (maybe wait until r+&lsquo;ed?)</li></ul></li></ul><ul><li>No stable nominations for <code>T-compiler</code> this time.</li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-types">T-types stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-types">T-types beta</a></p><ul><li>No beta nominations for <code>T-types</code> this time.</li><li>No stable nominations for <code>T-types</code> this time.</li></ul><h2 id=prs-s-waiting-on-team>PRs S-waiting-on-team</h2><p><a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-compiler">T-compiler</a></p><ul><li>Other issues <a href=https://hackmd.io/XYr1BrOWSiqCrl8RCWXRaQ>in progress or waiting on other teams</a></li></ul><h2 id=issues-of-note>Issues of Note</h2><h3 id=short-summary>Short Summary</h3><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical">1 T-compiler P-critical issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical+no%3Aassignee">0 of those are unassigned</a></li></ul></li><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high">64 T-compiler P-high issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high+no%3Aassignee">36 of those are unassigned</a></li></ul></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta>0 P-critical, 3 P-high, 2 P-medium, 0 P-low regression-from-stable-to-beta</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly>0 P-critical, 1 P-high, 5 P-medium, 2 P-low regression-from-stable-to-nightly</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-stable>0 P-critical, 36 P-high, 100 P-medium, 15 P-low regression-from-stable-to-stable</a></li></ul><h3 id=p-critical>P-critical</h3><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AP-critical+label%3AT-compiler">T-compiler</a></p><ul><li>&ldquo;Accessing large static global behaves incorrectly&rdquo; <a href=https://github.com/rust-lang/rust/issues/121868>rust#121868</a><ul><li>Unsoundness on nightly when accessing global static variables</li><li>Cause is in LLLVM (<a href=https://github.com/rust-lang/rust/issues/121868#issuecomment-1975815578>comment</a>)</li><li>Fix being worked in #122000 (author will probably upstream the fix, <a href=https://github.com/rust-lang/rust/pull/122000#issuecomment-1979658792>comment</a>)</li></ul></li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AP-critical+label%3AT-types">T-types</a></p><ul><li>No <code>P-critical</code> issues for <code>T-types</code> this time.</li></ul><h3 id=p-high-regressions>P-high regressions</h3><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-beta+label%3AP-high+-label%3AT-infra+-label%3AT-libs+-label%3AT-libs-api+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">P-high beta regressions</a></p><ul><li>&ldquo;rust-1.75.0 fails to compile with ICE on aarch64 and various ppc arches with LTO enabled - error: could not compile memchr&rdquo; <a href=https://github.com/rust-lang/rust/issues/121124>rust#121124</a><ul><li>Waiting on feedback from Gentoo folks if this reproduces also with LLVM 18 (<a href=https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202024-02-22/near/422842465>comment</a>) (<a href="https://bugs.gentoo.org/show_bug.cgi?id=924301#c13">gentoo issue</a>)</li></ul></li><li>&ldquo;regression: visibility qualifiers are not permitted&rdquo; <a href=https://github.com/rust-lang/rust/issues/121607>rust#121607</a><ul><li>should be fixed by #122004 (nominated for beta backport)</li></ul></li><li>&ldquo;regression: encountered mutable pointer in final value&rdquo; <a href=https://github.com/rust-lang/rust/issues/121610>rust#121610</a><ul><li>#119044 accidentally caused a breaking change (<a href=https://github.com/rust-lang/rust/issues/121610#issuecomment-1972874015>comment</a>)</li><li>Will be discussed by T-lang whether to revert that or accept it</li></ul></li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-nightly+label%3AP-high+no%3Aassignee+-label%3AT-infra+-label%3AT-libs+-label%3AT-libs-api+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core+">Unassigned P-high nightly regressions</a></p><ul><li>None</li></ul><h2 id=performance-logs>Performance logs</h2><blockquote><p><a href=https://github.com/rust-lang/rustc-perf/blob/master/triage/2024-03-05.md>triage logs for 2023-03-05</a></p></blockquote><p>A bunch of noise this week which has been dropped from the report (but may be
present in the summary figures). As a result, the week is pretty busy in amount
of changes, but the net effect is nearly neutral to a slight regression for
most workloads.</p><p>Triage done by <strong>@simulacrum</strong>.
Revision range: <a href="https://perf.rust-lang.org/?start=71ffdf7ff7ac6df5f9f64de7e780b8345797e8a0&amp;end=41d97c8a5dea2731b0e56fe97cd7cb79e21cff79&amp;absolute=false&amp;stat=instructions%3Au">71ffdf7ff7ac6df5f9f64de7e780b8345797e8a0..41d97c8a5dea2731b0e56fe97cd7cb79e21cff79</a></p><p><strong>Summary</strong>:</p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.6%</td><td style=text-align:center>[0.1%, 2.0%]</td><td style=text-align:center>136</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.8%</td><td style=text-align:center>[0.2%, 2.6%]</td><td style=text-align:center>78</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.6%</td><td style=text-align:center>[-1.2%, -0.3%]</td><td style=text-align:center>9</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.6%</td><td style=text-align:center>[-1.0%, -0.2%]</td><td style=text-align:center>14</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.6%</td><td style=text-align:center>[-1.2%, 2.0%]</td><td style=text-align:center>145</td></tr></tbody></table><p>2 Regressions, 0 Improvements, 10 Mixed; 4 of them in rollups
51 artifact comparisons made in total</p><h4 id=regressions>Regressions</h4><p>Weekly <code>cargo update</code> <a href=https://github.com/rust-lang/rust/pull/112865>#112865</a> <a href="https://perf.rust-lang.org/compare.html?start=0decdac390cfeedcd7f2f44c45f72c59c70d8143&amp;end=da02fff3b6e4e27156054dcdda6675fe2a2591a6&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>1.1%</td><td style=text-align:center>[0.2%, 2.9%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>1.1%</td><td style=text-align:center>[0.2%, 1.9%]</td><td style=text-align:center>7</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>1.1%</td><td style=text-align:center>[0.2%, 2.9%]</td><td style=text-align:center>3</td></tr></tbody></table><p>Doesn&rsquo;t appear to be entirely noise (though some of the delta is likely due to
bimodality). However marking this regression as triaged since investigating is
likely to be painful and the regressions are predominantly in secondary
benchmarks.</p><p>Add a scheme for moving away from <code>extern "rust-intrinsic"</code> entirely <a href=https://github.com/rust-lang/rust/pull/120675>#120675</a> <a href="https://perf.rust-lang.org/compare.html?start=50e77f133f8eb1f745e05681163a0143d6c4dd7d&amp;end=2eeff462b762ed00f9d557d8c6ad7a3d562f692a&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.6%</td><td style=text-align:center>[0.2%, 1.0%]</td><td style=text-align:center>93</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.8%</td><td style=text-align:center>[0.2%, 2.4%]</td><td style=text-align:center>28</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.6%</td><td style=text-align:center>[0.2%, 1.0%]</td><td style=text-align:center>93</td></tr></tbody></table><p>This regression is being addressed in a followup PR:
<a href=https://github.com/rust-lang/rust/pull/122010>https://github.com/rust-lang/rust/pull/122010</a></p><h4 id=mixed>Mixed</h4><p>syms for legacy numeric constants diag items <a href=https://github.com/rust-lang/rust/pull/121667>#121667</a> <a href="https://perf.rust-lang.org/compare.html?start=91cae1dcdcf1a31bd8a92e4a63793d65cfe289bb&amp;end=1c28a2c1b0b82b525262e6ccc7675cab61ed040c&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.5%</td><td style=text-align:center>[0.3%, 1.1%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.3%, -0.2%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.8%</td><td style=text-align:center>[-1.5%, -0.2%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.3%, -0.2%]</td><td style=text-align:center>2</td></tr></tbody></table><p>Regression seems likely to be noise (bimodality) or not significant enough to
investigate further. Marking as triaged. Some of the improvements seem genuine.</p><p>Diagnostic renaming <a href=https://github.com/rust-lang/rust/pull/121489>#121489</a> <a href="https://perf.rust-lang.org/compare.html?start=bf9c7a64ad222b85397573668b39e6d1ab9f4a72&amp;end=c475e2303b551d726307c646181e0677af1e0069&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>1.2%</td><td style=text-align:center>[1.2%, 1.2%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.9%</td><td style=text-align:center>[-0.9%, -0.8%]</td><td style=text-align:center>4</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.5%</td><td style=text-align:center>[-0.8%, -0.4%]</td><td style=text-align:center>9</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.9%</td><td style=text-align:center>[-0.9%, -0.8%]</td><td style=text-align:center>4</td></tr></tbody></table><p>Regression is essentially guaranteed to be bimodality, not a real change. Marking as triaged.</p><p>Rollup of 10 pull requests <a href=https://github.com/rust-lang/rust/pull/121790>#121790</a> <a href="https://perf.rust-lang.org/compare.html?start=d3d145ea1cae47ad392173f890577788117da3d9&amp;end=71a7b66f20c551f640f2f382bc7e7923ba0a5dab&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.6%</td><td style=text-align:center>[0.6%, 0.6%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.4%</td><td style=text-align:center>[-0.6%, -0.3%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-1.9%</td><td style=text-align:center>[-2.4%, -1.5%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.1%</td><td style=text-align:center>[-0.6%, 0.6%]</td><td style=text-align:center>3</td></tr></tbody></table><p>The single primary benchmark regression (Cargo) change looks to be both above
any noise floor and does not show signs of reverting. However, it&rsquo;s not
significant enough (given limit to just Cargo) to investigate further.</p><p>Rollup of 7 pull requests <a href=https://github.com/rust-lang/rust/pull/121804>#121804</a> <a href="https://perf.rust-lang.org/compare.html?start=384d26fc7e3bdd7687cc17b2662b091f6017ec2a&amp;end=1a1876c9790f168fb51afa335a7ba3e6fc267d75&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.2%, 0.6%]</td><td style=text-align:center>7</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>1.8%</td><td style=text-align:center>[1.7%, 1.9%]</td><td style=text-align:center>6</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.8%</td><td style=text-align:center>[-0.9%, -0.8%]</td><td style=text-align:center>4</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.5%</td><td style=text-align:center>[-0.8%, -0.2%]</td><td style=text-align:center>8</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.1%</td><td style=text-align:center>[-0.9%, 0.6%]</td><td style=text-align:center>11</td></tr></tbody></table><p>Trying to track down the cause of the regression. Suspecting #121000 based on
the regressed benchmarks.</p><p>Combine <code>Sub</code> and <code>Equate</code> <a href=https://github.com/rust-lang/rust/pull/121462>#121462</a> <a href="https://perf.rust-lang.org/compare.html?start=6cbf0926d54c80ea6d15df333be9281f65bbeb36&amp;end=b0696a5160711c068cb1f01b7437db7990d15750&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.5%</td><td style=text-align:center>[0.2%, 0.9%]</td><td style=text-align:center>13</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.5%</td><td style=text-align:center>[0.3%, 0.8%]</td><td style=text-align:center>17</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.5%</td><td style=text-align:center>[-0.9%, -0.4%]</td><td style=text-align:center>7</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.5%</td><td style=text-align:center>[0.2%, 0.9%]</td><td style=text-align:center>13</td></tr></tbody></table><p>Future PRs may improve perf here, but this is targeting clean up and preparing for other refactoring first:</p><blockquote><p>Some ideas how to reduce the perf impact. Even if they don&rsquo;t completely
remove it, this will allow significant improvements and cleanups going
forward and generally simplifies the core type system. I would merge this
even with these regressions.</p></blockquote><p>(<a href=https://github.com/rust-lang/rust/pull/121462#issuecomment-1973282815>https://github.com/rust-lang/rust/pull/121462#issuecomment-1973282815</a>)</p><p>Rollup of 12 pull requests <a href=https://github.com/rust-lang/rust/pull/121859>#121859</a> <a href="https://perf.rust-lang.org/compare.html?start=17edacef07e8afc3b580ed8feead6c5e90d24a56&amp;end=2dceda4f32b97f60b122f2b32491e0267ef5cc0c&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>1.9%</td><td style=text-align:center>[0.5%, 3.3%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.8%</td><td style=text-align:center>[-1.1%, -0.5%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.6%</td><td style=text-align:center>[-1.1%, 3.3%]</td><td style=text-align:center>4</td></tr></tbody></table><p>Cargo regression looks real but otherwise this looks like noise to me. I&rsquo;m
going to mark as triaged, I don&rsquo;t think it merits digging through individual
PRs to try and isolate it.</p><p>Don&rsquo;t grab variances in <code>TypeRelating</code> relation if we&rsquo;re invariant <a href=https://github.com/rust-lang/rust/pull/121864>#121864</a> <a href="https://perf.rust-lang.org/compare.html?start=4cdd20584ccb75890d7d9bfae266054abfae5d46&amp;end=2e3581bca93fdcce474e17cd43430b594a7955a0&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.2%</td><td style=text-align:center>[0.2%, 0.2%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.6%</td><td style=text-align:center>[-0.8%, -0.2%]</td><td style=text-align:center>11</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.5%</td><td style=text-align:center>[-0.6%, -0.4%]</td><td style=text-align:center>8</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.6%</td><td style=text-align:center>[-0.8%, -0.2%]</td><td style=text-align:center>11</td></tr></tbody></table><p>Regression is likely real, but is in a secondary benchmark and incr-unchanged
scenario. Not worth further investigation, particularly given the improvements.</p><p>Always generate GEP i8 / ptradd for struct offsets <a href=https://github.com/rust-lang/rust/pull/121665>#121665</a> <a href="https://perf.rust-lang.org/compare.html?start=516b6162a2ea8e66678c09e8243ebd83e4b8eeea&amp;end=70aa0b86c066e721012852a9851fdf8586117823&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.2%, 0.4%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.5%</td><td style=text-align:center>[0.2%, 1.0%]</td><td style=text-align:center>12</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.7%</td><td style=text-align:center>[-1.6%, -0.3%]</td><td style=text-align:center>14</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.5%</td><td style=text-align:center>[-1.0%, -0.3%]</td><td style=text-align:center>12</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.5%</td><td style=text-align:center>[-1.6%, 0.4%]</td><td style=text-align:center>17</td></tr></tbody></table><p>Changes are expected since this changed a lot of our codegen. In practice
though mostly not meaningful (i.e., some improvements, some regressions).</p><p>Rollup of 5 pull requests <a href=https://github.com/rust-lang/rust/pull/121955>#121955</a> <a href="https://perf.rust-lang.org/compare.html?start=70aa0b86c066e721012852a9851fdf8586117823&amp;end=89b78304e82dc5114e3b2faa0fbec747a28a2b37&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.7%</td><td style=text-align:center>[0.2%, 3.7%]</td><td style=text-align:center>17</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.4%</td><td style=text-align:center>[-0.8%, -0.2%]</td><td style=text-align:center>10</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[-0.8%, 3.7%]</td><td style=text-align:center>27</td></tr></tbody></table><p>Likely to be caused by a correctness fix: <a href=https://github.com/rust-lang/rust/pull/121955#issuecomment-1975993842>https://github.com/rust-lang/rust/pull/121955#issuecomment-1975993842</a></p><p>perf: improve write_fmt to handle simple strings <a href=https://github.com/rust-lang/rust/pull/121001>#121001</a> <a href="https://perf.rust-lang.org/compare.html?start=1547c076bfec8abb819d6a81e1e4095d267bd5b4&amp;end=5a1e5449c8f4cb6b12b4f64238e3c058767ebf02&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>1.7%</td><td style=text-align:center>[0.5%, 3.6%]</td><td style=text-align:center>4</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.3%, 0.3%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-1.3%</td><td style=text-align:center>[-1.3%, -1.3%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>1.7%</td><td style=text-align:center>[0.5%, 3.6%]</td><td style=text-align:center>4</td></tr></tbody></table><p>Improvements to runtime (or at least assembly quality), at the cost of a bit
more time in LLVM.</p><h2 id=nominated-issues>Nominated Issues</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-compiler-nominated">T-compiler</a></p><ul><li>&ldquo;Stabilize <code>extended_varargs_abi_support</code>&rdquo; <a href=https://github.com/rust-lang/rust/pull/116161>rust#116161</a><ul><li>Tracking issue #100189</li><li>T-lang or T-compiler should have a say for stabilization - which one?</li></ul></li><li>&ldquo;<code>#![crate_name = EXPR]</code> semantically allows <code>EXPR</code> to be a macro call but otherwise mostly ignores it&rdquo; <a href=https://github.com/rust-lang/rust/issues/122001>rust#122001</a><ul><li>nominated by @<strong>León Orell Liehr (fmease)</strong> (<a href=https://github.com/rust-lang/rust/issues/122001#issuecomment-1978925024>comment</a>)</li><li>The question is if supporting macro was ever intentional</li></ul></li></ul><p><a href="https://github.com/rust-lang/rfcs/issues?q=is%3Aopen+label%3AI-compiler-nominated">RFC</a></p><ul><li>No I-compiler-nominated RFCs this time.</li></ul><h3 id=oldest-prs-waiting-for-review>Oldest PRs waiting for review</h3><p><a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-asc+label%3AS-waiting-on-review+draft%3Afalse+label%3AT-compiler">T-compiler</a></p><ul><li>&ldquo;Allow codegen backends to opt-out of parallel codegen&rdquo; <a href=https://github.com/rust-lang/rust/pull/116791>rust#116791</a> (last review activity: 4 months ago)<ul><li>cc: @<strong>Wesley Wiser</strong></li></ul></li><li>&ldquo;[AIX] Remove AixLinker&rsquo;s debuginfo() implementation&rdquo; <a href=https://github.com/rust-lang/rust/pull/117118>rust#117118</a> (last review activity: 4 months ago)<ul><li>Do we need an AIX expert or just anyone is fine? Seems quite straightforwarded?</li></ul></li><li>&ldquo;tidy watcher&rdquo; <a href=https://github.com/rust-lang/rust/pull/114209>rust#114209</a><ul><li>cc: @<strong>Wesley Wiser</strong> (or re-roll?)</li></ul></li></ul><h2 id=next-weeks-wg-checkins>Next week&rsquo;s WG checkins</h2><ul><li>@_<em>WG-async-foundations</em> by @<strong>nikomatsakis</strong> and @<strong>tmandry</strong></li><li>@_<em>WG-diagnostics</em> by @<strong>Esteban Küber</strong> and @<strong>oli</strong></li></ul><p>Next meetings&rsquo; agenda draft: <a href=https://hackmd.io/HcDfU1v8SAiAWtLQPIJkJw>hackmd link</a></p></article></div><aside class="book-toc level-6 fixed"><nav id=TableOfContents><ul><li><a href=#announcements>Announcements</a><ul><li><a href=#other-wg-meetings>Other WG meetings</a></li></ul></li><li><a href=#mcpsfcps>MCPs/FCPs</a><ul><li><a href=#wg-checkins>WG checkins</a></li></ul></li><li><a href=#backport-nominations>Backport nominations</a></li><li><a href=#prs-s-waiting-on-team>PRs S-waiting-on-team</a></li><li><a href=#issues-of-note>Issues of Note</a><ul><li><a href=#short-summary>Short Summary</a></li><li><a href=#p-critical>P-critical</a></li><li><a href=#p-high-regressions>P-high regressions</a></li></ul></li><li><a href=#performance-logs>Performance logs</a><ul><li></li></ul></li><li><a href=#nominated-issues>Nominated Issues</a><ul><li><a href=#oldest-prs-waiting-for-review>Oldest PRs waiting for review</a></li></ul></li><li><a href=#next-weeks-wg-checkins>Next week&rsquo;s WG checkins</a></li></ul></nav></aside></main></body></html>