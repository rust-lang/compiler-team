<!doctype html><html lang=en><head><meta http-equiv=refresh content="0; url=https://forge.rust-lang.org/compiler/index.html"></head><body><input type=checkbox style=display:none id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav><h2 class=book-brand><a href=https://rust-lang.github.io/compiler-team/>Rust Lang - Compiler Team</a></h2><style>nav ul a[href$=\2f compiler-team\2fminutes\2ftriage-meeting\2fT-compiler-Meeting-Agenda-2021-11-11\2f ]{color:#004ed0}</style><ul><li><p><strong>About</strong></p><ul><li><a href=/compiler-team/about/CODE_OF_CONDUCT/>Code of Conduct</a></li><li><a href=/compiler-team/about/chat-platform/>Chat Platform</a></li><li><a href=/compiler-team/about/steering-meeting/>Steering Meeting</a></li><li><a href=/compiler-team/about/triage-meeting/>Triage Meeting</a></li></ul></li><li><p><strong>Minutes</strong></p><ul><li><a href=/compiler-team/minutes/design-meeting/>Design Meetings</a></li><li><a href=/compiler-team/minutes/steering-meeting/>Steering Meetings</a></li><li><a href=/compiler-team/minutes/triage-meeting/>Triage Meetings</a></li></ul></li><li><p><strong>Procedures</strong></p><ul><li><a href=/compiler-team/procedures/>Documentation</a></li><li><a href=/compiler-team/procedures/crates/>Crates</a></li><li><a href=/compiler-team/procedures/call-for-participation/>Call for participation</a></li><li><a href=/compiler-team/procedures/form-new-working-group/>Form new working group</a></li></ul></li><li><p><a href=/compiler-team/working-groups/><strong>Working Groups</strong></a></p><ul><li><a href=/compiler-team/working-groups/async-await/>Async Await</a></li><li><a href=/compiler-team/working-groups/debugging/>Debugging</a></li><li><a href=/compiler-team/working-groups/diagnostics/>Diagnostics</a></li><li><a href=/compiler-team/working-groups/rustc-dev-guide/>Rustc Dev Guide</a></li><li><a href=/compiler-team/working-groups/llvm/>LLVM</a></li><li><a href=/compiler-team/working-groups/meta/>Meta</a></li><li><a href=/compiler-team/working-groups/mir-opt/>MIR-opt</a></li><li><a href=/compiler-team/working-groups/nll/>NLL</a></li><li><a href=/compiler-team/working-groups/parallel-rustc/>parallel rustc</a></li><li><a href=/compiler-team/working-groups/pgo/>PGO</a></li><li><a href=/compiler-team/working-groups/pipelining/>pipelining</a></li><li><a href=/compiler-team/working-groups/polonius/>polonius</a></li><li><a href=/compiler-team/working-groups/polymorphization/>polymorphization</a></li><li><a href=/compiler-team/working-groups/prioritization/>Prioritization</a></li><li><a href=/compiler-team/working-groups/rfc-2229/>rfc-2229</a></li><li><a href=/compiler-team/working-groups/rls-2.0/>rls-2.0</a></li><li><a href=/compiler-team/working-groups/self-profile/>Self Profile</a></li><li><a href=/compiler-team/working-groups/traits/>Traits</a></li></ul></li></ul></nav></aside><div class=book-page><header class="align-center justify-between book-header"><label for=menu-control><img src=/compiler-team/svg/menu.svg alt=Menu>
</label><strong>T Compiler Meeting Agenda 2021 11 11</strong></header><article class=markdown><h1 id=t-compiler-meeting-agenda-2021-11-11>T-compiler Meeting Agenda 2021-11-11</h1><p><a href=https://github.com/rust-lang/rust/issues/54818>Tracking Issue</a></p><h2 id=announcements>Announcements</h2><ul><li>Reminder: if you see a PR/issue that seems like there might be legal implications due to copywrite/IP/etc, please let the Core team know (or at least message @<em><strong>pnkfelix</strong> or @</em><strong>Wesley Wiser</strong> so we can pass it along).<ul><li>A new PR has been filed to include the Playstation Vita as tier 3 target. <a href=https://github.com/rust-lang/rust/pull/90584#issuecomment-963675057>This comment</a> suggests the situation could be similar to other end-of-life proprietary platforms. @<strong>Josh Triplett</strong> provided tips for an MCP</li></ul></li><li>@<strong>Hans Kratz</strong> is gathering interest around the macOS target platform and build a notification group who can respond to issues, <a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-t-compiler.2Fmajor-changes/topic/Create.20a.20macos.20notification.20group.20compiler-team.23470>see Zulip thread</a>.</li></ul><h2 id=mcpsfcps>MCPs/FCPs</h2><ul><li>New MCPs (take a look, see if you like them!)<ul><li>&ldquo;Unstable lints should be considered unknown&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/469>compiler-team#469</a></li></ul></li><li>Old MCPs (not seconded, take a look)<ul><li>&ldquo;CI should exercise (subset of) tests under &ndash;stage 1&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/439>compiler-team#439</a> (last review activity: GH 2 months ago, zulip 1 month ago)</li><li>&ldquo;Accept <code>pc</code> in place of <code>unknown</code> and <code>unknown</code> in place of <code>pc</code> for <code>x86_64</code> and <code>i?86</code> targets&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/441>compiler-team#441</a> (last review activity: GH 4 months ago, zulip 40 days)</li><li>&ldquo;Make <code>-Z binary-dep-depinfo</code> the default behavior&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/464>compiler-team#464</a> (last review activity: about 41 days ago)</li></ul></li><li>Pending FCP requests (check your boxes!)<ul><li>&ldquo;Tracking Issue for cargo report future-incompat&rdquo; <a href=https://github.com/rust-lang/rust/issues/71249>rust#71249</a></li><li>&ldquo;Tracking Issue for inline assembly (<code>asm!</code>)&rdquo; <a href=https://github.com/rust-lang/rust/issues/72016>rust#72016</a></li><li>&ldquo;Tracking issue for <code>#![feature(const_precise_live_drops)]</code>&rdquo; <a href=https://github.com/rust-lang/rust/issues/73255>rust#73255</a></li></ul></li><li>Things in FCP (make sure you&rsquo;re good with it)<ul><li>&ldquo;Create a macos notification group&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/470>compiler-team#470</a></li><li>&ldquo;Stabilize -Z strip as -C strip&rdquo; <a href=https://github.com/rust-lang/rust/pull/90058>rust#90058</a></li><li>&ldquo;Stabilize -Z symbol-mangling-version=v0 as -C symbol-mangling-version=v0&rdquo; <a href=https://github.com/rust-lang/rust/pull/90128>rust#90128</a></li></ul></li><li>Accepted MCPs<ul><li>&ldquo;Tier 3 target proposal: x86_64-unknown-none (freestanding/bare-metal x86-64)&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/462>compiler-team#462</a></li></ul></li><li>Finalized FCPs (disposition merge)<ul><li>&ldquo;Write text output files to stdout if options like <code>-o -</code> or <code>--emit asm=-</code> are provided&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/431>compiler-team#431</a></li><li>&ldquo;Tracking Issue for <code>destructuring_assignment</code>&rdquo; <a href=https://github.com/rust-lang/rust/issues/71126>rust#71126</a></li><li>&ldquo;Tracking Issue for relaxed struct unsizing rules&rdquo; <a href=https://github.com/rust-lang/rust/issues/81793>rust#81793</a></li><li>&ldquo;GATs: Decide whether to have defaults for <code>where Self: 'a</code>&rdquo; <a href=https://github.com/rust-lang/rust/issues/87479>rust#87479</a></li><li>&ldquo;Stabilize <code>const_raw_ptr_deref</code> for <code>*const T</code>&rdquo; <a href=https://github.com/rust-lang/rust/pull/89551>rust#89551</a></li></ul></li></ul><h3 id=wg-checkins>WG checkins</h3><p>@<em>WG-self-profile</em> from @<strong>mw</strong> and @<strong>Wesley Wiser</strong> (<a href=https://hackmd.io/eviBs_qISRC9mlDve0cSRQ?view#WG-checkins>previous checkin</a>):</p><blockquote><p>The compiler can record artifact sizes (e.g. size of object files, rlibs, incr. comp. cache, etc) now and will do so by default when invoking it with -Zself-profile. The summarize tool will display these artifact sizes in a separate table. @rylev is working hard on also showing them on perf.rlo &ndash; which turned out to be a little more tricky than expected but we&rsquo;ll get there <code>:)</code>This will be very useful for gauging the impact a PR might have on binary sizes and the like.</p></blockquote><h2 id=backport-nominations>Backport nominations</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-compiler">T-compiler stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-compiler">T-compiler beta</a></p><ul><li>:beta: &ldquo;Apply adjustments for field expression even if inaccessible&rdquo; <a href=https://github.com/rust-lang/rust/pull/90508>rust#90508</a><ul><li>fixes a <code>P-medium</code> <a href=https://github.com/rust-lang/rust/issues/90483>rust#90483</a></li><li>nominated by @<strong>davidtwco</strong> since it&rsquo;s a regression on stable (<a href=https://github.com/rust-lang/rust/pull/90508#issuecomment-962547437>comment</a>)</li></ul></li><li>:beta: &ldquo;Properly register text_direction_codepoint_in_comment lint.&rdquo; <a href=https://github.com/rust-lang/rust/pull/90626>rust#90626</a><ul><li>Fixes <a href=https://github.com/rust-lang/rust/issues/90614>rust#90614</a></li><li>nominated by @<strong>Esteban KÃ¼ber</strong></li></ul></li><li>:beta: &ldquo;Warn for variables that are no longer captured&rdquo; <a href=https://github.com/rust-lang/rust/pull/90597>rust#90597</a><ul><li><a href=https://github.com/rust-lang/rust/pull/90597#issuecomment-961557867>nominated by @<strong>nikomatsakis</strong> </a>, fixes incorrect migration that can cause subtle changes in execution order</li></ul></li><li>:stable: &ldquo;Warn for variables that are no longer captured&rdquo; <a href=https://github.com/rust-lang/rust/pull/90597>rust#90597</a><ul><li>see beta nomination</li></ul></li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-rustdoc">T-rustdoc stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-rustdoc">T-rustdoc beta</a></p><ul><li>:beta: &ldquo;Show all Deref implementations recursively&rdquo; <a href=https://github.com/rust-lang/rust/pull/90183>rust#90183</a><ul><li>discussed <a href=https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-11-04.20.2354818/near/260277835>last week</a></li><li>waiting for feedback from T-rustdoc</li></ul></li><li>:beta: &ldquo;rustdoc: Go back to loading all external crates unconditionally&rdquo; <a href=https://github.com/rust-lang/rust/pull/90489>rust#90489</a><ul><li>backport decision is waiting for <a href=https://github.com/rust-lang/rust/issues/90489>rust#90489</a></li></ul></li><li>:stable: &ldquo;rustdoc: Go back to loading all external crates unconditionally&rdquo; <a href=https://github.com/rust-lang/rust/pull/90489>rust#90489</a><ul><li>same as above</li></ul></li></ul><p>:back: / :shrug: / :hand:</p><h2 id=prs-s-waiting-on-team>PRs S-waiting-on-team</h2><p><a href="https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-compiler">T-compiler</a></p><ul><li>&ldquo;Wrap libraries in linker groups, allowing backwards/circular references&rdquo; <a href=https://github.com/rust-lang/rust/pull/85805>rust#85805</a><ul><li><a href=https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-08-05.20.2354818/near/248486248>Discussed a while ago</a></li><li>@<strong>Josh Triplett</strong> will rework this patch to provide a separate option that enables linker groups (<a href=https://github.com/rust-lang/rust/pull/85805#issuecomment-959876580>comment</a>)</li><li>Can <code>S-waiting-on-team</code> be removed?</li></ul></li><li>&ldquo;Change default panic strategy to abort for wasm32-unknown-emscripten&rdquo; <a href=https://github.com/rust-lang/rust/pull/89762>rust#89762</a><ul><li>mentioned in a <a href=https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-10-28.20.2354818/near/259395704>previous meeting</a>, seems it can move forward?</li><li>Can <code>S-waiting-on-team</code> be removed?</li></ul></li></ul><h2 id=oldest-prs-waiting-for-review>Oldest PRs waiting for review</h2><p><a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-asc+label%3AS-waiting-on-review+draft%3Afalse+label%3AT-compiler">T-compiler</a></p><ul><li>&ldquo;Add codegen option for branch protection and pointer authentication on AArch64&rdquo; <a href=https://github.com/rust-lang/rust/pull/88354>rust#88354</a> (last review activity: 2 months ago)<ul><li>last comment is paging @<strong>nagisa</strong></li></ul></li><li>&ldquo;Check for duplicate attributes.&rdquo; <a href=https://github.com/rust-lang/rust/pull/88681>rust#88681</a> (last review activity: about 59 days ago)<ul><li>last comment is paging @<strong>Vadim Petrochenkov</strong> but review can be reassigned</li></ul></li><li>&ldquo;Makes docs for references a little less confusing&rdquo; <a href=https://github.com/rust-lang/rust/pull/88361>rust#88361</a> (last review activity: none)<ul><li>rust-highfive assigned to @<strong>Josh Triplett</strong> but review can be reassigned</li></ul></li><li>&ldquo;Suggest <code>i += 1</code> when we see <code>i++</code> or <code>++i</code>&rdquo; <a href=https://github.com/rust-lang/rust/pull/88672>rust#88672</a> (last review activity: 2 months ago)</li><li>&ldquo;asm/arm: allow r9 when usable, make diagnostics more specific&rdquo; <a href=https://github.com/rust-lang/rust/pull/88879>rust#88879</a> (last review activity: about 57 days ago)<ul><li>last comment is paging @<strong>Amanieu</strong></li></ul></li></ul><h2 id=issues-of-note>Issues of Note</h2><h3 id=short-summary>Short Summary</h3><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical">0 T-compiler P-critical issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical+no%3Aassignee">0 of those are unassigned</a></li></ul></li><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high">79 T-compiler P-high issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high+no%3Aassignee">55 of those are unassigned</a></li></ul></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta>1 P-critical, 5 P-high, 3 P-medium, 0 P-low regression-from-stable-to-beta</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly>0 P-critical, 2 P-high, 2 P-medium, 1 P-low regression-from-stable-to-nightly</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-stable>2 P-critical, 48 P-high, 84 P-medium, 11 P-low regression-from-stable-to-stable</a></li></ul><h3 id=p-critical>P-critical</h3><p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-compiler">T-compiler</a></p><ul><li>No <code>P-critical</code> issues for <code>T-compiler</code> this time.</li></ul><p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-rustdoc">T-rustdoc</a></p><ul><li>&ldquo;Index out of bounds when running <code>cargo doc</code> in <code>rustc_metadata/src/creader.rs</code>&rdquo; <a href=https://github.com/rust-lang/rust/issues/84738>rust#84738</a><ul><li>old issue reprioritized as P-critical by <code>T-rustdoc</code></li><li>since 1.56 it breaks doc builds for some crates) (note: <a href=https://github.com/rust-lang/rust/issues/84738#issuecomment-950370740>this comment</a>)</li><li>under scrutiny by <code>T-rustdoc</code></li></ul></li></ul><h3 id=p-high-regressions>P-high regressions</h3><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-beta+label%3AP-high+-label%3AT-infra+-label%3AT-libs+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">P-high beta regressions</a></p><ul><li>&ldquo;Incremental compilation fails in all cases on SystemZ (s390x)&rdquo; <a href=https://github.com/rust-lang/rust/issues/90123>rust#90123</a><ul><li>going to be closed by <a href=https://github.com/rust-lang/rust/pull/90403>rust#90403</a> (beta-accepted)</li></ul></li><li>&ldquo;regression: rustc suggests <code>.as_ref()</code> at incorrect location and other spans have regressed&rdquo; <a href=https://github.com/rust-lang/rust/issues/90286>rust#90286</a><ul><li>confusing wrong diagnostic</li><li>@<strong>pnkfelix</strong> self-assigned</li></ul></li><li>&ldquo;DWARF info for <code>static</code> vars in lib crates has stopped being produced reliably in LTO builds&rdquo; <a href=https://github.com/rust-lang/rust/issues/90357>rust#90357</a><ul><li>@<strong>pnkfelix</strong> self-assigned</li></ul></li><li>&ldquo;warn(must_not_suspend) started being raised incorrectly when moving from stable to nightly&rdquo; <a href=https://github.com/rust-lang/rust/issues/90459>rust#90459</a><ul><li>currently unassigned</li><li>should be fixed by <a href=https://github.com/rust-lang/rust/pull/89826>rust#89826</a> (it&rsquo;s on <code>master</code> and beta-accepted)</li></ul></li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-nightly+label%3AP-high+no%3Aassignee+-label%3AT-infra+-label%3AT-libs+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">Unassigned P-high nightly regressions</a></p><ul><li>&ldquo;Undefined reference to <code>getauxval</code> in function <code>init_have_lse_atomics</code> when compiling to nightly <code>aarch64-unknown-linux-musl</code>&rdquo; <a href=https://github.com/rust-lang/rust/issues/89626>rust#89626</a><ul><li>unassigned, but:</li><li>fixed by <a href=https://github.com/rust-lang/libc/pull/2272>libc#2272</a></li><li>and <a href=https://github.com/rust-lang/rust/pull/90527>rust#90527</a></li></ul></li></ul><h2 id=performance-logs>Performance logs</h2><blockquote><p><a href=https://github.com/rust-lang/rustc-perf/blob/master/triage/2021-11-09.md>triage logs for 2021-11-09</a></p></blockquote><p>Largely a positive week despite taking a significant performance hit from turning on incremental compilation verification for a subsection of the total queries that the compiler does in order to more quickly catch bugs in incremental compilation. Luckily optimizations in bidi detection brought large performance improvements.</p><p>Triage done by <strong>@rylev</strong>.
Revision range: <a href="https://perf.rust-lang.org/?start=6384dca100f3cedfa031a9204586f94f8612eae5&amp;end=eee8b9c7bafade55981d155dae71657f1cc55a22&amp;absolute=false&amp;stat=instructions%3Au">6384dca100f3cedfa031a9204586f94f8612eae5..eee8b9c7bafade55981d155dae71657f1cc55a22</a></p><p>2 Regressions, 4 Improvements, 4 Mixed; 1 of them in rollups
29 Untriaged Pull Requests
45 comparisons made in total</p><h4 id=regressions>Regressions</h4><p>Implement <code>RefUnwindSafe</code> for <code>Rc&lt;T></code> <a href=https://github.com/rust-lang/rust/issues/87467>#87467</a></p><ul><li>Large regression in <a href="https://perf.rust-lang.org/compare.html?start=0b4ac62ddaf9ee01b8aaf9dd7097f1f541d64551&amp;end=4061c0407978a00c5c2518d898ad8406da28c106&amp;stat=instructions:u">instruction counts</a> (up to 1.1% on <code>full</code> builds of <code>cargo</code>)</li><li>Unsurprising regression in one instance of a rustdoc run since <code>get_auto_trait_impls</code> has bad algoritmic complexity. This issue is being tracked somewhat <a href=https://github.com/rust-lang/rust/issues/90512>here</a>.</li></ul><p>Enable verification for 1/32th of queries loaded from disk <a href=https://github.com/rust-lang/rust/issues/90361>#90361</a></p><ul><li>Very large regression in <a href="https://perf.rust-lang.org/compare.html?start=3e3890c9d4064253aaa8c51f5d5458d2dc6dab77&amp;end=495322d776fd6f679cd8cd4ca02b8fa834da654b&amp;stat=instructions:u">instruction counts</a> (up to 6.3% on <code>incr-unchanged</code> builds of <code>coercions</code>)</li><li>Allows for verification of incremental compilation results to more easily catch bugs (which have unfortunately been a bit too common in the past).</li><li>As noted in the PR this is a regression of at most 7% on coercions opt incr-unchanged, and typically less than 0.5% on other benchmarks (largely limited to incr-unchanged).</li><li>The PR author and reviewer reviewed the regression impact and it was deemed acceptable.</li></ul><h4 id=improvements>Improvements</h4><ul><li>Optimize bidi character detection. <a href=https://github.com/rust-lang/rust/issues/90559>#90559</a></li><li>Fix ICE when rustdoc is scraping examples inside of a proc macro <a href=https://github.com/rust-lang/rust/issues/90583>#90583</a></li><li>Replace some uses of vec.drain(..) with vec.into_iter() <a href=https://github.com/rust-lang/rust/issues/90655>#90655</a></li><li>rustdoc: Cleanup <code>clean::Impl</code> and other parts of <code>clean</code> <a href=https://github.com/rust-lang/rust/issues/90675>#90675</a></li></ul><h4 id=mixed>Mixed</h4><p>rustdoc: Add <code>DocVisitor</code> and use it where possible <a href=https://github.com/rust-lang/rust/issues/90475>#90475</a></p><ul><li>Moderate improvement in <a href="https://perf.rust-lang.org/compare.html?start=baba6687df3e83fdb15cc6ec239b4a1c75a30505&amp;end=4ff90232a0c0c6adb9d2052da2206b26c3c723e4&amp;stat=instructions:u">instruction counts</a> (up to -0.8% on <code>full</code> builds of <code>serde</code>)</li><li>Small regression in <a href="https://perf.rust-lang.org/compare.html?start=baba6687df3e83fdb15cc6ec239b4a1c75a30505&amp;end=4ff90232a0c0c6adb9d2052da2206b26c3c723e4&amp;stat=instructions:u">instruction counts</a> (up to 0.5% on <code>full</code> builds of <code>webrender</code>)</li><li>The regressions have <a href=https://github.com/rust-lang/rust/pull/90475#issuecomment-959808629>already been justified</a>, but in short the improvements outweigh the regressions, and the code is much cleaner as a result.</li></ul><p>Improve error when an .rlib can&rsquo;t be parsed <a href=https://github.com/rust-lang/rust/issues/88368>#88368</a></p><ul><li>Moderate improvement in <a href="https://perf.rust-lang.org/compare.html?start=46b8e7488eae116722196e8390c1bd2ea2e396cf&amp;end=5fa94f3c57e27a339bc73336cd260cd875026bd1&amp;stat=instructions:u">instruction counts</a> (up to -0.3% on <code>full</code> builds of <code>externs</code>)</li><li>Small regression in <a href="https://perf.rust-lang.org/compare.html?start=46b8e7488eae116722196e8390c1bd2ea2e396cf&amp;end=5fa94f3c57e27a339bc73336cd260cd875026bd1&amp;stat=instructions:u">instruction counts</a> (up to 0.5% on <code>incr-unchanged</code> builds of <code>helloworld</code>)</li><li>It was pointed out that this could be simply due to a different binary layout impacting performance.</li><li>When taking into account significance factor, the improvements outweigh the regressions, and so it&rsquo;s likely not worth it to investigate deeper.</li></ul><p>Rollup of 4 pull requests <a href=https://github.com/rust-lang/rust/issues/90695>#90695</a></p><ul><li>Moderate improvement in <a href="https://perf.rust-lang.org/compare.html?start=515472757d2991e280965d7c1d235cfbb6ceb006&amp;end=c57704f3eb4319cc93513c232e9c434a73af46d2&amp;stat=instructions:u">instruction counts</a> (up to -0.5% on <code>full</code> builds of <code>deeply-nested-async</code>)</li><li>Small regression in <a href="https://perf.rust-lang.org/compare.html?start=515472757d2991e280965d7c1d235cfbb6ceb006&amp;end=c57704f3eb4319cc93513c232e9c434a73af46d2&amp;stat=instructions:u">instruction counts</a> (up to 0.3% on <code>incr-unchanged</code> builds of <code>html5ever</code>)</li><li>Nothing jumps out as a possible cause for this but luckily the perf changes in question are small.</li></ul><p>Don&rsquo;t destructure args tuple in format_args! <a href=https://github.com/rust-lang/rust/issues/90485>#90485</a></p><ul><li>Large improvement in <a href="https://perf.rust-lang.org/compare.html?start=c57704f3eb4319cc93513c232e9c434a73af46d2&amp;end=60952bc3da442cf2ea11dcc9c80a461a659bbcd7&amp;stat=instructions:u">instruction counts</a> (up to -4.0% on <code>incr-unchanged</code> builds of <code>inflate</code>)</li><li>Large regression in <a href="https://perf.rust-lang.org/compare.html?start=c57704f3eb4319cc93513c232e9c434a73af46d2&amp;end=60952bc3da442cf2ea11dcc9c80a461a659bbcd7&amp;stat=instructions:u">instruction counts</a> (up to 1.3% on <code>incr-patched: println</code> builds of <code>html5ever</code>)</li><li>The regressions seem to be coming in <code>expand_crate</code> which might be impacted by this change. However, nothing stands out immediately as a definite cause for concern.</li><li>Left a <a href=https://github.com/rust-lang/rust/pull/90485#issuecomment-964330008>comment</a> for the author and reviewer to ask if they have an ideas before we investigate more.</li></ul><h2 id=nominated-issues>Nominated Issues</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-nominated+label%3AT-compiler">T-compiler</a></p><p><a href=https://github.com/rust-lang/rust/labels/I-compiler-nominated>T-compiler</a></p><ul><li>&ldquo;Tracking issue for plugin stabilization (<code>plugin</code>, <code>plugin_registrar</code> features)&rdquo; <a href=https://github.com/rust-lang/rust/issues/29597>rust#29597</a><ul><li>nominated by @<strong>Josh Triplett</strong>, <a href=https://github.com/rust-lang/rust/issues/29597#issuecomment-965644083>asks in comment</a>: &ldquo;what&rsquo;s still using plugin support?&rdquo;</li></ul></li><li>&ldquo;Change <code>char</code> type in debuginfo to DW_ATE_UTF&rdquo; <a href=https://github.com/rust-lang/rust/pull/89887>rust#89887</a><ul><li>nominated by @<strong>wesley wiser</strong> <a href=https://github.com/rust-lang/rust/pull/89887#issuecomment-965530540>in comment</a></li></ul></li><li>&ldquo;sess: default to v0 symbol mangling&rdquo; <a href=https://github.com/rust-lang/rust/pull/89917>rust#89917</a><ul><li>@<strong>mw</strong> nominated to discuss Wesley&rsquo;s suggestion <a href=https://github.com/rust-lang/rust/pull/89917#issuecomment-951009529>in this comment</a></li></ul></li><li>&ldquo;implement aspect-oriented programming (AOP) for Rust&rdquo; <a href=https://github.com/rust-lang/rust/pull/90721>rust#90721</a><ul><li>@<strong>mw</strong> suggested to first file an MCP</li><li>@<strong>davidtwco</strong> is a colleague of the author at Huawei and can coordinate between the compiler team and the author where required.</li><li>Does this might be of interest for <code>T-lang</code>?</li></ul></li><li>&ldquo;Miscompilation where binding only some fields leaks the others&rdquo; <a href=https://github.com/rust-lang/rust/issues/90752>rust#90752</a><ul><li>@<strong>tmandry</strong> nominated</li><li><a href=https://github.com/rust-lang/rust/issues/90752#issuecomment-965822895>great writeup</a> from @<strong>Dylan MacKenzie (ecstatic-morse)</strong></li></ul></li></ul><p><a href="https://github.com/rust-lang/rfcs/issues?q=is%3Aopen+label%3AI-nominated+label%3AT-compiler">RFC</a></p><ul><li>No nominated RFCs for <code>T-compiler</code> this time.</li></ul></article></div><aside class="book-toc level-6 fixed"><nav id=TableOfContents><ul><li><a href=#announcements>Announcements</a></li><li><a href=#mcpsfcps>MCPs/FCPs</a><ul><li><a href=#wg-checkins>WG checkins</a></li></ul></li><li><a href=#backport-nominations>Backport nominations</a></li><li><a href=#prs-s-waiting-on-team>PRs S-waiting-on-team</a></li><li><a href=#oldest-prs-waiting-for-review>Oldest PRs waiting for review</a></li><li><a href=#issues-of-note>Issues of Note</a><ul><li><a href=#short-summary>Short Summary</a></li><li><a href=#p-critical>P-critical</a></li><li><a href=#p-high-regressions>P-high regressions</a></li></ul></li><li><a href=#performance-logs>Performance logs</a><ul><li></li></ul></li><li><a href=#nominated-issues>Nominated Issues</a></li></ul></nav></aside></main></body></html>