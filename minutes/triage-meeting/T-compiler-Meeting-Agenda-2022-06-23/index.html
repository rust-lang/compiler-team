<!doctype html><html lang=en><head><meta http-equiv=refresh content="0; url=https://forge.rust-lang.org/compiler/index.html"></head><body><input type=checkbox style=display:none id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav><h2 class=book-brand><a href=https://rust-lang.github.io/compiler-team/>Rust Lang - Compiler Team</a></h2><style>nav ul a[href$=\2f compiler-team\2fminutes\2ftriage-meeting\2fT-compiler-Meeting-Agenda-2022-06-23\2f ]{color:#004ed0}</style><ul><li><p><strong>About</strong></p><ul><li><a href=/compiler-team/about/CODE_OF_CONDUCT/>Code of Conduct</a></li><li><a href=/compiler-team/about/chat-platform/>Chat Platform</a></li><li><a href=/compiler-team/about/steering-meeting/>Steering Meeting</a></li><li><a href=/compiler-team/about/triage-meeting/>Triage Meeting</a></li></ul></li><li><p><strong>Minutes</strong></p><ul><li><a href=/compiler-team/minutes/design-meeting/>Design Meetings</a></li><li><a href=/compiler-team/minutes/steering-meeting/>Steering Meetings</a></li><li><a href=/compiler-team/minutes/triage-meeting/>Triage Meetings</a></li></ul></li><li><p><strong>Procedures</strong></p><ul><li><a href=/compiler-team/procedures/>Documentation</a></li><li><a href=/compiler-team/procedures/crates/>Crates</a></li><li><a href=/compiler-team/procedures/call-for-participation/>Call for participation</a></li><li><a href=/compiler-team/procedures/form-new-working-group/>Form new working group</a></li></ul></li><li><p><a href=/compiler-team/working-groups/><strong>Working Groups</strong></a></p><ul><li><a href=/compiler-team/working-groups/async-await/>Async Await</a></li><li><a href=/compiler-team/working-groups/debugging/>Debugging</a></li><li><a href=/compiler-team/working-groups/diagnostics/>Diagnostics</a></li><li><a href=/compiler-team/working-groups/rustc-dev-guide/>Rustc Dev Guide</a></li><li><a href=/compiler-team/working-groups/llvm/>LLVM</a></li><li><a href=/compiler-team/working-groups/meta/>Meta</a></li><li><a href=/compiler-team/working-groups/mir-opt/>MIR-opt</a></li><li><a href=/compiler-team/working-groups/nll/>NLL</a></li><li><a href=/compiler-team/working-groups/parallel-rustc/>parallel rustc</a></li><li><a href=/compiler-team/working-groups/pgo/>PGO</a></li><li><a href=/compiler-team/working-groups/pipelining/>pipelining</a></li><li><a href=/compiler-team/working-groups/polonius/>polonius</a></li><li><a href=/compiler-team/working-groups/polymorphization/>polymorphization</a></li><li><a href=/compiler-team/working-groups/prioritization/>Prioritization</a></li><li><a href=/compiler-team/working-groups/rfc-2229/>rfc-2229</a></li><li><a href=/compiler-team/working-groups/rls-2.0/>rls-2.0</a></li><li><a href=/compiler-team/working-groups/self-profile/>Self Profile</a></li><li><a href=/compiler-team/working-groups/traits/>Traits</a></li></ul></li></ul></nav></aside><div class=book-page><header class="align-center justify-between book-header"><label for=menu-control><img src=/compiler-team/svg/menu.svg alt=Menu>
</label><strong>T Compiler Meeting Agenda 2022 06 23</strong></header><article class=markdown><h1 id=t-compiler-meeting-agenda-2022-06-23>T-compiler Meeting Agenda 2022-06-23</h1><h2 id=announcements>Announcements</h2><ul><li><a href="https://www.google.com/calendar/event?eid=M3JsYmdkN2F0cjdtYXE0Z2ljYzM4Nm42NTRfMjAyMjA2MjRUMTMwMDAwWiA2dTVycnRjZTZscnR2MDdwZmkzZGFtZ2p1c0Bn">Types Team: Planning/Deep-Dive meeting</a> at <a href=time:2022-06-24T09:00:00-04:00>time:2022-06-24T09:00:00-04:00</a></li><li><a href="https://www.google.com/calendar/event?eid=MmE2azQyb2ViODQ4NWwxMWViMzJka2g0cjIgNnU1cnJ0Y2U2bHJ0djA3cGZpM2RhbWdqdXNAZw">T-compiler steering: Compiler Feature Backlog Bonanza</a> at <a href=time:2022-06-24T10:00:00-04:00>time:2022-06-24T10:00:00-04:00</a></li><li>Reminder: if you see a PR/issue that seems like there might be legal implications due to copyright/IP/etc, please let the Core team know (or at least message @<em><strong>pnkfelix</strong> or @</em><strong>Wesley Wiser</strong> so we can pass it along).</li></ul><h3 id=other-wg-meetings-calendar-linkhttpscalendargooglecomcalendarembedsrc6u5rrtce6lrtv07pfi3damgjus40groupcalendargooglecom>Other WG meetings (<a href="https://calendar.google.com/calendar/embed?src=6u5rrtce6lrtv07pfi3damgjus%40group.calendar.google.com">calendar link</a>)</h3><ul><li><a href="https://www.google.com/calendar/event?eid=NWtvMGpxaTZ1dTc2YzEwZWcxb2d0dHE3N2tfMjAyMjA2MjlUMTYwMDAwWiA2dTVycnRjZTZscnR2MDdwZmkzZGFtZ2p1c0Bn">MIR Formality Walkthroughs</a> at <a href=time:2022-06-29T12:00:00-04:00>time:2022-06-29T12:00:00-04:00</a></li><li><a href="https://www.google.com/calendar/event?eid=MDkxcnJqbGpwNm9sNWVqazB0b3U4azZkN2FfMjAyMjA2MjlUMTMwMDAwWiA2dTVycnRjZTZscnR2MDdwZmkzZGFtZ2p1c0Bn">Types team Hack session: Advanced subtyping</a> at <a href=time:2022-06-29T09:00:00-04:00>time:2022-06-29T09:00:00-04:00</a></li><li><a href="https://www.google.com/calendar/event?eid=Y3VpY2NkbXBoZTJkMHJmcmZxZmU4MjhodDBfMjAyMjA2MjdUMjAwMDAwWiA2dTVycnRjZTZscnR2MDdwZmkzZGFtZ2p1c0Bn">wg-traits GATs Sync</a> at <a href=time:2022-06-27T16:00:00-04:00>time:2022-06-27T16:00:00-04:00</a></li></ul><h2 id=mcpsfcps>MCPs/FCPs</h2><ul><li>New MCPs (take a look, see if you like them!)<ul><li>No new proposals this time.</li></ul></li><li>Old MCPs (not seconded, take a look)<ul><li>&ldquo;Dealing with type/const ambiguities&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/480>compiler-team#480</a> (last review activity: 5 months ago)</li><li>&ldquo;Removing codegen logic for <code>nvptx-nvidia-cuda</code> (32-bit target)&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/496>compiler-team#496</a> (last review activity: 3 months ago)</li><li>&ldquo;Arbitrary annotations in compiletest&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/513>compiler-team#513</a> (last review activity: about 48 days ago)</li><li>&ldquo;Add support for the LoongArch architecture&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/518>compiler-team#518</a> (last review activity: about 6 days ago)</li></ul></li><li>Pending FCP requests (check your boxes!)<ul><li>&ldquo;Stabilize <code>-Zgcc-ld=lld</code> as <code>-Clink-self-contained=linker -Clinker-flavor=gcc-lld</code>&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/510#issuecomment-1119675764>compiler-team#510</a></li><li>&ldquo;Increase the minimum linux-gnu versions&rdquo; <a href=https://github.com/rust-lang/rust/pull/95026#issuecomment-1077855006>rust#95026</a></li><li>&ldquo;session: stabilize split debuginfo on linux&rdquo; <a href=https://github.com/rust-lang/rust/pull/98051#issuecomment-1153776703>rust#98051</a></li></ul></li><li>Things in FCP (make sure you&rsquo;re good with it)<ul><li>&ldquo;<code>-Dwarnings</code> to cover all warnings&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/473>compiler-team#473</a></li><li>&ldquo;Track licensing metadata with REUSE&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/519>compiler-team#519</a></li><li>&ldquo;Split TypeVisitable out from TypeFoldable&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/520>compiler-team#520</a></li></ul></li><li>Accepted MCPs<ul><li>&ldquo;Tier 3 target proposal: riscv64gc-linux-android (Android target for <code>riscv64gc</code>)&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/472>compiler-team#472</a></li></ul></li><li>Finalized FCPs (disposition merge)<ul><li>&ldquo;Remove migrate borrowck mode&rdquo; <a href=https://github.com/rust-lang/rust/pull/95565>rust#95565</a></li><li>&ldquo;Modify MIR building to drop repeat expressions with length zero&rdquo; <a href=https://github.com/rust-lang/rust/pull/95953>rust#95953</a></li><li>&ldquo;Lang: Stabilize usage of rustc_nonnull_optimization_guaranteed on -1&rdquo; <a href=https://github.com/rust-lang/rust/issues/97122>rust#97122</a></li><li>&ldquo;make cenum_impl_drop_cast deny-by-default&rdquo; <a href=https://github.com/rust-lang/rust/pull/97652>rust#97652</a></li><li>&ldquo;lub: don&rsquo;t bail out due to empty binders&rdquo; <a href=https://github.com/rust-lang/rust/pull/97867>rust#97867</a></li></ul></li></ul><h3 id=wg-checkins>WG checkins</h3><ul><li>@_<em>WG-self-profile</em> @<strong>mw</strong> and @<strong>Wesley Wiser</strong> (<a href="https://hackmd.io/a5c6sNqrSUq_kifJGEWURQ?view=#WG-checkins">previous checkin</a>)</li></ul><blockquote><p>@eddyb&rsquo;s PR to support using hardware performance counters in <code>-Zself-profile</code> has landed! <a href=https://github.com/rust-lang/rust/pull/78781>#78781</a></p></blockquote><h2 id=backport-nominations>Backport nominations</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-compiler">T-compiler stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-compiler">T-compiler beta</a></p><ul><li>:beta: &ldquo;Remove the unused-<code>#[doc(hidden)]</code> logic from the <code>unused_attributes</code> lint&rdquo; <a href=https://github.com/rust-lang/rust/pull/98336>rust#98336</a><ul><li>PR authored by @<strong>fmease</strong></li><li>approved by @<strong>Michael Goulet (compiler-errors)</strong></li><li>PR author mentions that this patch should be backported to fix <a href=https://github.com/rust-lang/rust/issues/96890>#96890</a> (<a href=https://github.com/rust-lang/rust/issues/96890>comment</a>)</li></ul></li><li>No stable nominations for <code>T-compiler</code> this time.</li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-rustdoc">T-rustdoc stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-rustdoc">T-rustdoc beta</a></p><ul><li>:beta: &ldquo;Remove the unused-<code>#[doc(hidden)]</code> logic from the <code>unused_attributes</code> lint&rdquo; <a href=https://github.com/rust-lang/rust/pull/98336>rust#98336</a><ul><li>See above nomination, <code>T-rustdoc</code> approves the backport (<a href=https://github.com/rust-lang/rust/pull/98336#issuecomment-1162152636>comment</a>)</li></ul></li><li>No stable nominations for <code>T-rustdoc</code> this time.</li></ul><p>:back: / :shrug: / :hand:</p><h2 id=prs-s-waiting-on-team>PRs S-waiting-on-team</h2><p><a href="https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-compiler">T-compiler</a></p><ul><li>No PRs waiting on <code>T-compiler</code> this time.<ul><li>(4 PRs omitted since either drafts or waiting on other teams / RFC process)</li></ul></li></ul><h2 id=oldest-prs-waiting-for-review>Oldest PRs waiting for review</h2><p><a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-asc+label%3AS-waiting-on-review+draft%3Afalse+label%3AT-compiler+-label%3AT-lang+-label%3AT-infra+-label%3AT-release+-label%3AT-libs+-label%3AT-libs-api">T-compiler</a></p><ul><li>&ldquo;Add option to pass environment variables&rdquo; <a href=https://github.com/rust-lang/rust/pull/94387>rust#94387</a> (last review activity: about 33 days ago)<ul><li>cc latest reviewers: @<strong>Esteban Küber</strong> and @<strong>bjorn3</strong></li></ul></li><li>&ldquo;Add Finalize statement to make deaggregation &ldquo;reversible&rdquo; by storing all information in MIR&rdquo; <a href=https://github.com/rust-lang/rust/pull/96043>rust#96043</a> (last review activity: about 25 days ago)<ul><li>unsure about status: maybe a comment on latest perf run results?</li><li>cc: @<strong>Wesley Wiser</strong> assigned reviewer</li></ul></li><li>&ldquo;Add <code>round_ties_even</code> to <code>f32</code> and <code>f64</code>&rdquo; <a href=https://github.com/rust-lang/rust/pull/95317>rust#95317</a> (last review activity: about 41 days ago)<ul><li>r&rsquo;ed by Felix <a href=https://github.com/rust-lang/rust/pull/95317#issuecomment-1099251055>comment</a></li><li>anything else from T-compiler?</li></ul></li><li>&ldquo;Mir-Opt for copying enums with large discrepancies&rdquo; <a href=https://github.com/rust-lang/rust/pull/85158>rust#85158</a> (last review activity: 3 months ago)<ul><li><a href=https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-05-26/near/284016028>previously mentioned</a></li><li>needs another reviewer?</li></ul></li><li>&ldquo;Only compile #[used] as llvm.compiler.used for ELF targets&rdquo; <a href=https://github.com/rust-lang/rust/pull/93718>rust#93718</a> (last review activity: 2 months ago)<ul><li><a href=https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-05-26/near/284016180>previously mentioned</a></li><li>cc: @<strong>pnkfelix</strong> (today not in meeting, leaving a mention for reviewing #93718)</li></ul></li></ul><h2 id=issues-of-note>Issues of Note</h2><h3 id=short-summary>Short Summary</h3><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical">2 T-compiler P-critical issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical+no%3Aassignee">0 of those are unassigned</a></li></ul></li><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high">63 T-compiler P-high issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high+no%3Aassignee">44 of those are unassigned</a></li></ul></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta>0 P-critical, 0 P-high, 5 P-medium, 0 P-low regression-from-stable-to-beta</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly>1 P-critical, 0 P-high, 2 P-medium, 0 P-low regression-from-stable-to-nightly</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-stable>0 P-critical, 40 P-high, 78 P-medium, 8 P-low regression-from-stable-to-stable</a></li></ul><h3 id=p-critical>P-critical</h3><p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-compiler">T-compiler</a></p><ul><li>No <code>P-critical</code> issues for <code>T-compiler</code> this time.</li><li>&ldquo;Wrong cast of u16 to usize on aarch64&rdquo; <a href=https://github.com/rust-lang/rust/issues/97463>rust#97463</a><ul><li>Issue is being addressed by @__<strong>pnkfelix</strong> in #97800</li><li><a href=https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-06-16/near/286364673>discussed last week</a>, pending a downgrade to <code>P-high</code></li></ul></li><li>&ldquo;NLL: unsound verification of higher ranked outlives bounds&rdquo; <a href=https://github.com/rust-lang/rust/issues/98095>rust#98095</a><ul><li>discussed last week whether to revert after the next beta cut (on 27.06 I believe) (<a href=https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-06-16/near/286365638>Zulip discussion</a>)</li><li>Fixed by Niko in [#98109](<a href=https://github.com/rust-lang/rust/pull/98109%5D>https://github.com/rust-lang/rust/pull/98109]</a>, <a href=https://github.com/rust-lang/rust/pull/98109#issuecomment-1157104572>perf results</a></li><li>pr #98109 is being reviewed, perf results triaging in progress by @<strong>aliemjay</strong> (<a href=https://github.com/rust-lang/rust/pull/98109#issuecomment-1161508797>comment</a>)</li></ul></li></ul><p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-rustdoc">T-rustdoc</a></p><ul><li>No <code>P-critical</code> issues for <code>T-rustdoc</code> this time.</li></ul><h3 id=p-high-regressions>P-high regressions</h3><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-beta+label%3AP-high+-label%3AT-infra+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">P-high beta regressions</a></p><ul><li>No <code>P-high</code> beta regressions this time.</li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-nightly+label%3AP-high+no%3Aassignee+-label%3AT-infra+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">Unassigned P-high nightly regressions</a></p><ul><li>No unassigned <code>P-high</code> nightly regressions this time.</li></ul><h2 id=performance-logs>Performance logs</h2><blockquote><p><a href=https://github.com/rust-lang/rustc-perf/blob/master/triage/2022-06-21.md>2022-06-21 Triage Log</a></p></blockquote><p>A pretty busy week for performance, with quite a few PRs landing with
significant improvements to specific benchmarks. Overall the week was positive,
with many benchmarks improving at least a little. No significant changes in
memory usage this week.</p><p>Triage done by <strong>@simulacrum</strong>.
Revision range: <a href="https://perf.rust-lang.org/?start=edab34ab2abbafc16a78daedf71dbacd2eb0b7bf&amp;end=abace0a1f17986d89aedf610819deab2b4afee56&amp;absolute=false&amp;stat=instructions%3Au">edab34ab2abbafc16a78daedf71dbacd2eb0b7bf..abace0a1f17986d89aedf610819deab2b4afee56</a></p><p><strong>Summary</strong>:</p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>mean</th><th style=text-align:center>max</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>0.5%</td><td style=text-align:center>6</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>2.9%</td><td style=text-align:center>14.7%</td><td style=text-align:center>37</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-1.9%</td><td style=text-align:center>-19.4%</td><td style=text-align:center>89</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-8.4%</td><td style=text-align:center>-91.4%</td><td style=text-align:center>38</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-1.8%</td><td style=text-align:center>-19.4%</td><td style=text-align:center>95</td></tr></tbody></table><p>5 Regressions, 6 Improvements, 3 Mixed; 1 of them in rollups
54 artifact comparisons made in total</p><h4 id=regressions>Regressions</h4><p>BTreeMap: Support custom allocators (v1.5) <a href=https://github.com/rust-lang/rust/pull/98103>#98103</a>
<a href="https://perf.rust-lang.org/compare.html?start=5bc82c0b944dc6c8ed12372b4f79d1a8e3fb0cbd&amp;end=1b9daa69640970e7858b7c8e1c9f72c604985e11&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>mean</th><th style=text-align:center>max</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>1.7%</td><td style=text-align:center>3.0%</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>1.6%</td><td style=text-align:center>2.1%</td><td style=text-align:center>6</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>1.7%</td><td style=text-align:center>3.0%</td><td style=text-align:center>2</td></tr></tbody></table><p>This regression is largely fixed by <a href=https://github.com/rust-lang/rust/pull/98178>#98178</a>.</p><p>Improve the tuple and unit trait docs <a href=https://github.com/rust-lang/rust/pull/97842>#97842</a>
<a href="https://perf.rust-lang.org/compare.html?start=d40f24e956a698e47a209541031c4045acc5a684&amp;end=6ec3993ef4a4eb72bc20477fe9a4d92acd53f2c6&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>mean</th><th style=text-align:center>max</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>0.6%</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>0.4%</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>0.6%</td><td style=text-align:center>2</td></tr></tbody></table><p>Slight regressions to small number of doc benchmarks, likely due to slightly
more work during generation (std&rsquo;s docs changed).</p><p>Fix <code>SourceScope</code> for <code>if let</code> bindings. <a href=https://github.com/rust-lang/rust/pull/97931>#97931</a>
<a href="https://perf.rust-lang.org/compare.html?start=17c6bde14eabdd61c35505ed6834ee9196c2fdc9&amp;end=9a0b7749665d925d8f533756149deba74f2db88b&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>mean</th><th style=text-align:center>max</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>0.5%</td><td style=text-align:center>4</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>0.3%</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>0.5%</td><td style=text-align:center>4</td></tr></tbody></table><p>Regression is pretty small and only one primary benchmark is affected (regex),
and only incremental scenarios there. Likely not enough to worry about.</p><p>Obligation forest tweaks <a href=https://github.com/rust-lang/rust/pull/97674>#97674</a>
<a href="https://perf.rust-lang.org/compare.html?start=4104596251818f4f588051c7a8172ca9f5a195bf&amp;end=1d6010816c37186e2bee316709f0c0197c427513&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>mean</th><th style=text-align:center>max</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.8%</td><td style=text-align:center>0.9%</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>1.8%</td><td style=text-align:center>2.4%</td><td style=text-align:center>7</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>-0.3%</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.8%</td><td style=text-align:center>0.9%</td><td style=text-align:center>2</td></tr></tbody></table><p>keccak is the primary affected benchmark, and is known to be very sensitive to
changes to the obligation forest code. See some analysis in this
<a href=https://github.com/rust-lang/rust/pull/97674#issuecomment-1160914976>comment</a>
following up on the results from the merge perf run.</p><p>Rollup of 4 pull requests <a href=https://github.com/rust-lang/rust/pull/98307>#98307</a>
<a href="https://perf.rust-lang.org/compare.html?start=5750a6aa2777382bf421b726f234da23f990a953&amp;end=08871139915b95ec868aff807f224f78d00f4311&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>mean</th><th style=text-align:center>max</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>0.3%</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.7%</td><td style=text-align:center>0.8%</td><td style=text-align:center>6</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.4%</td><td style=text-align:center>-0.4%</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>0.3%</td><td style=text-align:center>2</td></tr></tbody></table><p>Cause of regressions is unclear, but they&rsquo;re minor enough that it&rsquo;s not worth
the hassle of investigating a rollup.</p><h4 id=improvements>Improvements</h4><p>ctfe: limit hashing of big const allocations when interning <a href=https://github.com/rust-lang/rust/pull/98097>#98097</a>
<a href="https://perf.rust-lang.org/compare.html?start=949a64ab20b9d5d4516416c4735b134e0496855a&amp;end=43c47db0b04627dbd0e16a1e7cad14a4a5a60d3a&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>mean</th><th style=text-align:center>max</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-6.6%</td><td style=text-align:center>-6.6%</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr></tbody></table><p>Batch proc_macro RPC for TokenStream iteration and combination operations <a href=https://github.com/rust-lang/rust/pull/98186>#98186</a>
<a href="https://perf.rust-lang.org/compare.html?start=ff86b27e7be1ffff9e00d80beb15560d5f301459&amp;end=0182fd99afaf4a3d602de6b88506edaf6043c125&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>mean</th><th style=text-align:center>max</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-1.0%</td><td style=text-align:center>-4.0%</td><td style=text-align:center>26</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-12.1%</td><td style=text-align:center>-37.5%</td><td style=text-align:center>15</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-1.0%</td><td style=text-align:center>-4.0%</td><td style=text-align:center>26</td></tr></tbody></table><p>Fix <code>MissingDoc</code> quadratic behaviour <a href=https://github.com/rust-lang/rust/pull/98153>#98153</a>
<a href="https://perf.rust-lang.org/compare.html?start=0182fd99afaf4a3d602de6b88506edaf6043c125&amp;end=cdcc53b7dc002ea4a7a28105010c5a1126ee31b7&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>mean</th><th style=text-align:center>max</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>-0.4%</td><td style=text-align:center>14</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>-0.4%</td><td style=text-align:center>14</td></tr></tbody></table><p>Make some lints incremental. <a href=https://github.com/rust-lang/rust/pull/98238>#98238</a>
<a href="https://perf.rust-lang.org/compare.html?start=15fc228d0d0a68b5ba565758fab13ed7f863fcea&amp;end=67404f7200c13deec255ffe1146e1d2c9d0d3028&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>mean</th><th style=text-align:center>max</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.4%</td><td style=text-align:center>-1.7%</td><td style=text-align:center>54</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-7.4%</td><td style=text-align:center>-90.8%</td><td style=text-align:center>17</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.4%</td><td style=text-align:center>-1.7%</td><td style=text-align:center>54</td></tr></tbody></table><p>[RFC 2011] Expand expressions where possible <a href=https://github.com/rust-lang/rust/pull/98148>#98148</a>
<a href="https://perf.rust-lang.org/compare.html?start=08871139915b95ec868aff807f224f78d00f4311&amp;end=42dcf70f99c21c6d59ad036e33e846769b369fff&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>mean</th><th style=text-align:center>max</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>-0.4%</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.7%</td><td style=text-align:center>-0.8%</td><td style=text-align:center>6</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>-0.4%</td><td style=text-align:center>2</td></tr></tbody></table><p>Compile <code>unicode-normalization</code> faster <a href=https://github.com/rust-lang/rust/pull/97936>#97936</a>
<a href="https://perf.rust-lang.org/compare.html?start=3bebee73397b692e84b9cc1b6af439fae78918c9&amp;end=cacc75c82ebe15cf63d31034fcf7f1016cddf0e2&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>mean</th><th style=text-align:center>max</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>1.0%</td><td style=text-align:center>1.0%</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-14.2%</td><td style=text-align:center>-19.4%</td><td style=text-align:center>6</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-14.2%</td><td style=text-align:center>-19.4%</td><td style=text-align:center>6</td></tr></tbody></table><p>A solid improvement, though just to the one benchmark; coercions change in the
regressions section is likely just noise, not an actual meaningful delta.</p><h4 id=mixed>Mixed</h4><p>Use valtrees as the type-system representation for constant values <a href=https://github.com/rust-lang/rust/pull/96591>#96591</a>
<a href="https://perf.rust-lang.org/compare.html?start=872503d918b2c3266d828f85e42951df74f5e303&amp;end=1f34da9ec8a85b6f86c5fa1c121ab6f88f2f4966&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>mean</th><th style=text-align:center>max</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>0.6%</td><td style=text-align:center>54</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>3.1%</td><td style=text-align:center>14.3%</td><td style=text-align:center>29</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-3.0%</td><td style=text-align:center>-5.9%</td><td style=text-align:center>10</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-1.1%</td><td style=text-align:center>-1.6%</td><td style=text-align:center>7</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>-5.9%</td><td style=text-align:center>64</td></tr></tbody></table><p>Large change (over 2000 lines changed) that is a first step for further work on
constant evaluation in the compiler. Overall this is still an improvement, and
regressions are primarily on stress tests. See <a href=https://github.com/rust-lang/rust/pull/96591#issuecomment-1156381494>this
comment</a>
for some further context.</p><p>Split up <code>Definitions</code> and <code>ResolverAstLowering</code>. <a href=https://github.com/rust-lang/rust/pull/98106>#98106</a>
<a href="https://perf.rust-lang.org/compare.html?start=ecdd374e6123d79b89c3ecea618d827c931b81cd&amp;end=3a8b0144c82197a70e919ad371d56f82c2282833&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>mean</th><th style=text-align:center>max</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>0.5%</td><td style=text-align:center>9</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>-0.6%</td><td style=text-align:center>39</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>-0.6%</td><td style=text-align:center>5</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>-0.6%</td><td style=text-align:center>39</td></tr></tbody></table><p>btree: avoid forcing the allocator to be a reference <a href=https://github.com/rust-lang/rust/pull/98178>#98178</a>
<a href="https://perf.rust-lang.org/compare.html?start=529c4c71793fbf4305d65b1c4d826a5d0e748fb3&amp;end=ff86b27e7be1ffff9e00d80beb15560d5f301459&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center></th><th style=text-align:center>mean</th><th style=text-align:center>max</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>0.4%</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-2.0%</td><td style=text-align:center>-2.0%</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>N/A</td><td style=text-align:center>N/A</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.8%</td><td style=text-align:center>-2.0%</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center></td><td style=text-align:center></td><td style=text-align:center></td><td style=text-align:center></td></tr></tbody></table><h2 id=nominated-issues>Nominated Issues</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-compiler-nominated+label%3AT-compiler">T-compiler</a></p><ul><li>&ldquo;Update Mac Catalyst support for Clang 13&rdquo; <a href=https://github.com/rust-lang/rust/pull/96392>rust#96392</a><ul><li>nominated by @<strong>Esteban Küber</strong> in <a href=https://github.com/rust-lang/rust/pull/96392#issuecomment-1138887246>comment</a> to find someone more conversant with that platform</li><li>@_<strong>Thom Chiovoloni</strong> pinged a list of names that could help (<a href=https://github.com/rust-lang/rust/pull/96392#issuecomment-1138893845>comment</a>)</li></ul></li><li>&ldquo;NLL: unsound verification of higher ranked outlives bounds&rdquo; <a href=https://github.com/rust-lang/rust/issues/98095>rust#98095</a><ul><li>nominated by @<strong>Jack Huey</strong>, see <code>P-critical</code></li></ul></li></ul><p><a href="https://github.com/rust-lang/rfcs/issues?q=is%3Aopen+label%3AI-compiler-nominated+label%3AT-compiler">RFC</a></p><ul><li>No nominated RFCs for <code>T-compiler</code> this time.</li></ul><h2 id=next-weeks-wg-checkins>Next week&rsquo;s WG checkins</h2><ul><li>@_<em>WG-traits</em> Generic associated types initiative by @<strong>Jack Huey</strong></li><li>@_<em>WG-diagnostics</em> Diagnostics by @<strong>Esteban Küber</strong> and @<strong>oli</strong></li></ul></article></div><aside class="book-toc level-6 fixed"><nav id=TableOfContents><ul><li><a href=#announcements>Announcements</a><ul><li><a href=#other-wg-meetings-calendar-linkhttpscalendargooglecomcalendarembedsrc6u5rrtce6lrtv07pfi3damgjus40groupcalendargooglecom>Other WG meetings (<a href="https://calendar.google.com/calendar/embed?src=6u5rrtce6lrtv07pfi3damgjus%40group.calendar.google.com">calendar link</a>)</a></li></ul></li><li><a href=#mcpsfcps>MCPs/FCPs</a><ul><li><a href=#wg-checkins>WG checkins</a></li></ul></li><li><a href=#backport-nominations>Backport nominations</a></li><li><a href=#prs-s-waiting-on-team>PRs S-waiting-on-team</a></li><li><a href=#oldest-prs-waiting-for-review>Oldest PRs waiting for review</a></li><li><a href=#issues-of-note>Issues of Note</a><ul><li><a href=#short-summary>Short Summary</a></li><li><a href=#p-critical>P-critical</a></li><li><a href=#p-high-regressions>P-high regressions</a></li></ul></li><li><a href=#performance-logs>Performance logs</a><ul><li></li></ul></li><li><a href=#nominated-issues>Nominated Issues</a></li><li><a href=#next-weeks-wg-checkins>Next week&rsquo;s WG checkins</a></li></ul></nav></aside></main></body></html>