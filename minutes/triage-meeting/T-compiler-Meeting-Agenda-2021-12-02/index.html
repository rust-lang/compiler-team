<!doctype html><html lang=en><head><meta http-equiv=refresh content="0; url=https://forge.rust-lang.org/compiler/index.html"></head><body><input type=checkbox style=display:none id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav><h2 class=book-brand><a href=https://rust-lang.github.io/compiler-team/>Rust Lang - Compiler Team</a></h2><style>nav ul a[href$=\2f compiler-team\2fminutes\2ftriage-meeting\2fT-compiler-Meeting-Agenda-2021-12-02\2f ]{color:#004ed0}</style><ul><li><p><strong>About</strong></p><ul><li><a href=/compiler-team/about/CODE_OF_CONDUCT/>Code of Conduct</a></li><li><a href=/compiler-team/about/chat-platform/>Chat Platform</a></li><li><a href=/compiler-team/about/steering-meeting/>Steering Meeting</a></li><li><a href=/compiler-team/about/triage-meeting/>Triage Meeting</a></li></ul></li><li><p><strong>Minutes</strong></p><ul><li><a href=/compiler-team/minutes/design-meeting/>Design Meetings</a></li><li><a href=/compiler-team/minutes/steering-meeting/>Steering Meetings</a></li><li><a href=/compiler-team/minutes/triage-meeting/>Triage Meetings</a></li></ul></li><li><p><strong>Procedures</strong></p><ul><li><a href=/compiler-team/procedures/>Documentation</a></li><li><a href=/compiler-team/procedures/crates/>Crates</a></li><li><a href=/compiler-team/procedures/call-for-participation/>Call for participation</a></li><li><a href=/compiler-team/procedures/form-new-working-group/>Form new working group</a></li></ul></li><li><p><a href=/compiler-team/working-groups/><strong>Working Groups</strong></a></p><ul><li><a href=/compiler-team/working-groups/async-await/>Async Await</a></li><li><a href=/compiler-team/working-groups/debugging/>Debugging</a></li><li><a href=/compiler-team/working-groups/diagnostics/>Diagnostics</a></li><li><a href=/compiler-team/working-groups/rustc-dev-guide/>Rustc Dev Guide</a></li><li><a href=/compiler-team/working-groups/llvm/>LLVM</a></li><li><a href=/compiler-team/working-groups/meta/>Meta</a></li><li><a href=/compiler-team/working-groups/mir-opt/>MIR-opt</a></li><li><a href=/compiler-team/working-groups/nll/>NLL</a></li><li><a href=/compiler-team/working-groups/parallel-rustc/>parallel rustc</a></li><li><a href=/compiler-team/working-groups/pgo/>PGO</a></li><li><a href=/compiler-team/working-groups/pipelining/>pipelining</a></li><li><a href=/compiler-team/working-groups/polonius/>polonius</a></li><li><a href=/compiler-team/working-groups/polymorphization/>polymorphization</a></li><li><a href=/compiler-team/working-groups/prioritization/>Prioritization</a></li><li><a href=/compiler-team/working-groups/rfc-2229/>rfc-2229</a></li><li><a href=/compiler-team/working-groups/rls-2.0/>rls-2.0</a></li><li><a href=/compiler-team/working-groups/self-profile/>Self Profile</a></li><li><a href=/compiler-team/working-groups/traits/>Traits</a></li></ul></li></ul></nav></aside><div class=book-page><header class="align-center justify-between book-header"><label for=menu-control><img src=/compiler-team/svg/menu.svg alt=Menu>
</label><strong>T Compiler Meeting Agenda 2021 12 02</strong></header><article class=markdown><h1 id=t-compiler-meeting-agenda-2021-12-02>T-compiler Meeting Agenda 2021-12-02</h1><p><a href=https://github.com/rust-lang/rust/issues/54818>Tracking Issue</a></p><h2 id=announcements>Announcements</h2><ul><li>:loudspeaker: today release of Rust stable 1.57 (the last for 2021 <code>:)</code>)</li><li>Reminder: if you see a PR/issue that seems like there might be legal implications due to copywrite/IP/etc, please let the Core team know (or at least message @<em><strong>pnkfelix</strong> or @</em><strong>Wesley Wiser</strong> so we can pass it along).</li></ul><h2 id=mcpsfcps>MCPs/FCPs</h2><ul><li>New MCPs (take a look, see if you like them!)<ul><li>&ldquo;Tier 3 target proposal: riscv64gc-linux-android (Android target for <code>riscv64gc</code>)&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/472>compiler-team#472</a></li><li>&ldquo;<code>-Dwarnings</code> to cover all warnings&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/473>compiler-team#473</a></li></ul></li><li>Old MCPs (not seconded, take a look)<ul><li>&ldquo;CI should exercise (subset of) tests under &ndash;stage 1&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/439>compiler-team#439</a> (last review activity: 3 months ago)</li><li>&ldquo;Accept <code>pc</code> in place of <code>unknown</code> and <code>unknown</code> in place of <code>pc</code> for <code>x86_64</code> and <code>i?86</code> targets&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/441>compiler-team#441</a> (last review activity: 5 months ago)</li><li>&ldquo;Make <code>-Z binary-dep-depinfo</code> the default behavior&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/464>compiler-team#464</a> (last review activity: 2 months ago)</li></ul></li><li>Pending FCP requests (check your boxes!)<ul><li>No pending FCP requests this time.</li></ul></li><li>Things in FCP (make sure you&rsquo;re good with it)<ul><li>No FCP requests this time.</li></ul></li><li>Accepted MCPs<ul><li>&ldquo;Unstable lints should be considered unknown&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/469>compiler-team#469</a></li></ul></li><li>Finalized FCPs (disposition merge)<ul><li>&ldquo;Tracking Issue for cargo report future-incompat&rdquo; <a href=https://github.com/rust-lang/rust/issues/71249>rust#71249</a></li><li>&ldquo;Tracking Issue for inline assembly (<code>asm!</code>)&rdquo; <a href=https://github.com/rust-lang/rust/issues/72016>rust#72016</a></li></ul></li></ul><h3 id=wg-checkins>WG checkins</h3><p>@<em>wg-incr-comp</em> by @<strong>pnkfelix</strong> and @<strong>Wesley Wiser</strong> (<a href=https://hackmd.io/t04YVEwTRJWwTej-kLvDsw#WG-checkins>previous checkin</a>):</p><blockquote><p>nothing to report at this time</p></blockquote><p>@<em>WG-llvm</em> by @<strong>nagisa</strong> (<a href=https://hackmd.io/t04YVEwTRJWwTej-kLvDsw#WG-checkins>previous checkin</a>):</p><blockquote><ul><li>pretty disappointing that our hand is forced to turn off newPM for the time being; LLVM project is undergoing migration of their issue tracker from bugzilla to github, which may serve for a more straightforward experience in contributing issues to the LLVM project.</li><li>LLVM 13.0.1-rc1 release candidate out</li></ul></blockquote><h2 id=backport-nominations>Backport nominations</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-compiler">T-compiler stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-compiler">T-compiler beta</a></p><ul><li>No beta nominations for <code>T-compiler</code> this time.</li><li>No stable nominations for <code>T-compiler</code> this time.</li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-rustdoc">T-rustdoc stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-rustdoc">T-rustdoc beta</a></p><ul><li>No beta nominations for <code>T-rustdoc</code> this time.</li><li>No stable nominations for <code>T-rustdoc</code> this time.</li></ul><p>:back: / :shrug: / :hand:</p><h2 id=prs-s-waiting-on-team>PRs S-waiting-on-team</h2><p><a href="https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-compiler">T-compiler</a></p><ul><li>no PR waiting on T-compiler</li></ul><h2 id=oldest-prs-waiting-for-review>Oldest PRs waiting for review</h2><p><a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-asc+label%3AS-waiting-on-review+draft%3Afalse+label%3AT-compiler">T-compiler</a></p><ul><li><a href=https://github.com/rust-lang/rust/pull/90023>Postpone the evaluation of constant expressions that depend on inference variables</a> (last activity: about 17 days ago)<ul><li>review from @<strong>lcnr</strong>, <a href=https://github.com/rust-lang/rust/pull/90023#issuecomment-953497106>left some comments</a> about merging this PR later after some more thoughts</li></ul></li><li><a href=https://github.com/rust-lang/rust/pull/89455>Introduce linter for diagnostic messages</a> (last activity: about 30 days ago)<ul><li>previously reviewed by @<strong>Esteban Küber</strong> and @<strong>simulacrum</strong></li></ul></li><li>&ldquo;Abort in panic_abort eh_personality&rdquo; <a href=https://github.com/rust-lang/rust/pull/86801>rust#86801</a> (last review activity: 4 months ago)<ul><li>mentioned in T-compiler meeting about one month ago, no activity since then</li><li>no reviewer assigned: who could own this PR?</li></ul></li><li>&ldquo;Fix ICE with inferred type in <code>const</code> or <code>static</code> item&rdquo; <a href=https://github.com/rust-lang/rust/pull/89161>rust#89161</a> (last review activity: about 57 days ago)<ul><li>last review from Niko</li></ul></li><li><a href=https://github.com/rust-lang/rust/pull/89862>improve type abiguity error for functions and methods</a> (last activity about 1 month ago)<ul><li>PR author @<strong>lcnr</strong></li><li>is it waiting for another review or feedback from author?</li></ul></li><li><a href=https://github.com/rust-lang/rust/pull/89708>Introduce MIR summary to avoid loading large bodies without inlining them</a> (last activity about 1 month ago)<ul><li>PR author @<strong>cjgillot</strong>?</li><li>last review from @<strong>wesley wiser</strong></li></ul></li><li><a href=https://github.com/rust-lang/rust/pull/90125>Fix false positive for typoed crate or module suggestion</a> (last activity: none)<ul><li>opened 1 month ago, needs a reviewer</li><li>highfive bot assigned to @<strong>Esteban Küber</strong></li><li>changed to s-waiting-on-author to fix the CI</li><li>author has <a href=https://github.com/rust-lang/rust/pull/90125#issuecomment-948491831>left a question</a> (maybe not yet answered)</li></ul></li></ul><h2 id=issues-of-note>Issues of Note</h2><h3 id=short-summary>Short Summary</h3><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical">4 T-compiler P-critical issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical+no%3Aassignee">2 of those are unassigned</a></li></ul></li><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high">77 T-compiler P-high issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high+no%3Aassignee">53 of those are unassigned</a></li></ul></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta>2 P-critical, 5 P-high, 2 P-medium, 0 P-low regression-from-stable-to-beta</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly>0 P-critical, 2 P-high, 2 P-medium, 1 P-low regression-from-stable-to-nightly</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-stable>4 P-critical, 46 P-high, 81 P-medium, 12 P-low regression-from-stable-to-stable</a></li></ul><h3 id=p-critical>P-critical</h3><p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-compiler">T-compiler</a></p><ul><li>&ldquo;Miscompilation where binding only some fields leaks the others&rdquo; <a href=https://github.com/rust-lang/rust/issues/90752>rust#90752</a><ul><li>@<strong>Dylan MacKenzie (ecstatic-morse)</strong> authored PR <a href=https://github.com/rust-lang/rust/pull/90788>rust#90788</a> which backport on beta <a href=https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-11-24.20.2354818/near/262604287>was declined</a></li></ul></li><li>&ldquo;Unsound drop due to imperfect lifetime checks&rdquo; <a href=https://github.com/rust-lang/rust/issues/90838>rust#90838</a><ul><li>@<strong>pnkfelix</strong> fixed this in PR <a href=https://github.com/rust-lang/rust/pull/90840>#90840</a> which was beta backported</li><li>next steps for this issue? perhaps close it?</li></ul></li><li>&ldquo;Implied bounds by associated types as function parameters are inconsistent in an unsound way.&rdquo; <a href=https://github.com/rust-lang/rust/issues/91068>rust#91068</a><ul><li>handled by PRs <a href=https://github.com/rust-lang/rust/pull/91243>rust#91243</a> and <a href=https://github.com/rust-lang/rust/pull/91242>rust#91242</a> which partially reverts <a href=https://github.com/rust-lang/rust/pull/88312>rust#88312</a></li></ul></li><li>&ldquo;Huge compile-time regression in beta/nightly&rdquo; <a href=https://github.com/rust-lang/rust/issues/91128>rust#91128</a><ul><li>@<strong>Nikita Popov</strong> <a href=https://github.com/rust-lang/rust/issues/91128#issuecomment-978072653>points out</a> the problematic IR generated by <code>opt -03</code></li><li><a href=https://github.com/rust-lang/rust/issues/91128#issuecomment-978072653>previously discussion</a>: the new pass-manager has been disabled in beta pre-1.57 with PR <a href=https://github.com/rust-lang/rust/pull/91189>rust#91189</a> from @<strong>nagisa</strong></li><li>Next steps for this issue? (still critical)?</li></ul></li></ul><p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-rustdoc">T-rustdoc</a></p><ul><li>No <code>P-critical</code> issues for <code>T-rustdoc</code> this time.</li></ul><h3 id=p-high-regressions>P-high regressions</h3><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-beta+label%3AP-high+-label%3AT-infra+-label%3AT-libs+-label%3AT-libs-api+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">P-high beta regressions</a></p><ul><li>&ldquo;Compilation appears to loop indefinitely " <a href=https://github.com/rust-lang/rust/issues/89195>rust#89195</a><ul><li>already discussed</li><li>assigned to Felix</li></ul></li><li>&ldquo;regression: rustc suggests <code>.as_ref()</code> at incorrect location and other spans have regressed&rdquo; <a href=https://github.com/rust-lang/rust/issues/90286>rust#90286</a><ul><li>assigned to Felix</li><li>@<strong>Esteban Küber</strong> <a href=https://github.com/rust-lang/rust/issues/90286#issuecomment-974534925>commented</a> about the possibility of authoring a PR</li></ul></li><li>&ldquo;DWARF info for <code>static</code> vars in lib crates has stopped being produced reliably in LTO builds&rdquo; <a href=https://github.com/rust-lang/rust/issues/90357>rust#90357</a><ul><li>assigned to Felix</li><li><a href=https://github.com/rust-lang/rust/issues/90286#issuecomment-974534925>already discussed</a>, Felix did some investigation on this</li></ul></li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-nightly+label%3AP-high+no%3Aassignee+-label%3AT-infra+-label%3AT-libs+-label%3AT-libs-api+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core+">Unassigned P-high nightly regressions</a></p><ul><li>&ldquo;Undefined reference to <code>getauxval</code> in function <code>init_have_lse_atomics</code> when compiling to nightly <code>aarch64-unknown-linux-musl</code>&rdquo; <a href=https://github.com/rust-lang/rust/issues/89626>rust#89626</a><ul><li><a href=https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202021-11-24.20.2354818/near/262607266>Already discussed</a></li><li>Issue is fixed by <a href=https://github.com/rust-lang/rust/pull/90527>rust#90527</a> + <a href=https://github.com/rust-lang/libc/pull/2272>libc#2272</a> and as soon as the fixed <code>libc 0.2.107</code> is merged, see <a href=https://github.com/rust-lang/rust/pull/90681>rust#90681</a></li><li>Can this be closed?</li></ul></li></ul><h2 id=performance-logs>Performance logs</h2><blockquote><p><a href=https://github.com/rust-lang/rustc-perf/blob/master/triage/2021-11-30.md>triage logs for 2021-11-30</a></p></blockquote><p>Overall, many changes this week, but overall an improvement on multiple benchmarks over
the week from a number of pull requests dedicated to optimizations of certain
patterns. We are still seeing a large number of spurious changes due to
<a href=https://github.com/rust-lang/rustc-perf/issues/1105>rustc-perf#1105</a>, which has yet to be addressed.</p><p>Triage done by <strong>@simulacrum</strong>.
Revision range: <a href="https://perf.rust-lang.org/?start=22c2d9ddbf356bcdb718e88ca6ee3665e1e42690&amp;end=1c0287830e0fb3c4007afea2819ba03766da6e9c&amp;absolute=false&amp;stat=instructions%3Au">22c2d9ddbf356bcdb718e88ca6ee3665e1e42690..1c0287830e0fb3c4007afea2819ba03766da6e9c</a></p><p>4 Regressions, 4 Improvements, 9 Mixed; 5 of them in rollups
41 comparisons made in total</p><h4 id=regressions>Regressions</h4><p>Mark places as initialized when mutably borrowed <a href=https://github.com/rust-lang/rust/issues/90788>#90788</a></p><ul><li>Moderate regression in <a href="https://perf.rust-lang.org/compare.html?start=311fa1f14dd8ffbbe83b229a94b17f7f1ecaf33b&amp;end=7b3cd075bbe309031b418650a9c32baf0b4a3276&amp;stat=instructions:u">instruction counts</a> (up to 0.6% on <code>full</code> builds of <code>match-stress-enum</code>)</li><li>Fix for a miscompilation, so necessary regression.</li></ul><p>Visit <code>param_env</code> field in Obligation&rsquo;s <code>TypeFoldable</code> impl <a href=https://github.com/rust-lang/rust/issues/91205>#91205</a></p><ul><li>Very large regression in <a href="https://perf.rust-lang.org/compare.html?start=a7836bf885e70aaf1a2e0d4669406b183a79acaa&amp;end=1e79d79dac11ce121b972fbaa0db9b0d1756b991&amp;stat=instructions:u">instruction counts</a> (up to 6.6% on <code>full</code> builds of <code>hyper-2</code>)</li><li>Fix for incorrect code, regressions unfortunately unavoidable.</li></ul><h4 id=improvements>Improvements</h4><ul><li>Rollup of 6 pull requests <a href=https://github.com/rust-lang/rust/issues/91159>#91159</a></li><li>Optimize live point computation <a href=https://github.com/rust-lang/rust/issues/90491>#90491</a></li><li>Remove eval_always from upvars. <a href=https://github.com/rust-lang/rust/issues/90580>#90580</a></li><li>Rollup of 8 pull requests <a href=https://github.com/rust-lang/rust/issues/91388>#91388</a></li></ul><h4 id=mixed>Mixed</h4><p>Avoid generating empty closures for fieldless enum variants <a href=https://github.com/rust-lang/rust/issues/89881>#89881</a></p><ul><li>Small improvement in <a href="https://perf.rust-lang.org/compare.html?start=22c2d9ddbf356bcdb718e88ca6ee3665e1e42690&amp;end=311fa1f14dd8ffbbe83b229a94b17f7f1ecaf33b&amp;stat=instructions:u">instruction counts</a> (up to -1.6% on <code>incr-patched: add static arr item</code> builds of <code>coercions</code>)</li><li>Small regression in <a href="https://perf.rust-lang.org/compare.html?start=22c2d9ddbf356bcdb718e88ca6ee3665e1e42690&amp;end=311fa1f14dd8ffbbe83b229a94b17f7f1ecaf33b&amp;stat=instructions:u">instruction counts</a> (up to 0.6% on <code>incr-unchanged</code> builds of <code>clap-rs</code>)</li><li>Primarily benefits bootstrap time (-5.4 seconds, -0.7%), instruction count
changes largely real but not avoidable (differences in LLVM decision making).</li></ul><p>Remove eval_always for inherent_impls. <a href=https://github.com/rust-lang/rust/issues/90579>#90579</a></p><ul><li>Very large improvement in <a href="https://perf.rust-lang.org/compare.html?start=982c552c908d179eaa38b6ef152ad3fa30268778&amp;end=c6a7ca196a707acd65e6cce1d337cd11786c59a5&amp;stat=instructions:u">instruction counts</a> (up to -5.6% on <code>incr-unchanged</code> builds of <code>stm32f4</code>)</li><li>Small regression in <a href="https://perf.rust-lang.org/compare.html?start=982c552c908d179eaa38b6ef152ad3fa30268778&amp;end=c6a7ca196a707acd65e6cce1d337cd11786c59a5&amp;stat=instructions:u">instruction counts</a> (up to 0.2% on <code>incr-full</code> builds of <code>stm32f4</code>)</li></ul><p>Faster <code>Layout::array</code> <a href=https://github.com/rust-lang/rust/issues/91246>#91246</a></p><ul><li>Large improvement in <a href="https://perf.rust-lang.org/compare.html?start=6d246f0c8d3063fea86abbb65a824362709541ba&amp;end=ccce98535bd51687554be8a209b3a529ef84f7e1&amp;stat=instructions:u">instruction counts</a> (up to -4.2% on <code>incr-unchanged</code> builds of <code>deep-vector</code>)</li><li>Very large regression in <a href="https://perf.rust-lang.org/compare.html?start=6d246f0c8d3063fea86abbb65a824362709541ba&amp;end=ccce98535bd51687554be8a209b3a529ef84f7e1&amp;stat=instructions:u">instruction counts</a> (up to 5.0% on <code>incr-unchanged</code> builds of <code>inflate</code>)</li><li>Most prominent regression is spurious, and overall this looks like
improvements outweighing regressions.</li></ul><p>Rollup of 7 pull requests <a href=https://github.com/rust-lang/rust/issues/91269>#91269</a></p><ul><li>Very large improvement in <a href="https://perf.rust-lang.org/compare.html?start=ccce98535bd51687554be8a209b3a529ef84f7e1&amp;end=bbad745a688c933a43d1bd977756bd6fc7f034f2&amp;stat=instructions:u">instruction counts</a> (up to -5.1% on <code>incr-unchanged</code> builds of <code>inflate</code>)</li><li>Very large regression in <a href="https://perf.rust-lang.org/compare.html?start=ccce98535bd51687554be8a209b3a529ef84f7e1&amp;end=bbad745a688c933a43d1bd977756bd6fc7f034f2&amp;stat=instructions:u">instruction counts</a> (up to 18.3% on <code>incr-unchanged</code> builds of <code>clap-rs</code>)</li><li>Regressions seem potentially real, but may also be related to
<a href=https://github.com/rust-lang/rustc-perf/issues/1105>rustc-perf#1105</a>.
Locally this seems to not be the case, though, so it seems probable that the
regression is real.</li></ul><p>Rollup of 6 pull requests <a href=https://github.com/rust-lang/rust/issues/91288>#91288</a></p><ul><li>Small improvement in <a href="https://perf.rust-lang.org/compare.html?start=5fd3a5c7c175f228afaf5fc6ff00c177b83d8055&amp;end=686e313a9aa14107c8631ffe48fa09110a7692db&amp;stat=instructions:u">instruction counts</a> (up to -1.0% on <code>incr-patched: b9b3e592dd cherry picked</code> builds of <code>style-servo</code>)</li><li>Large regression in <a href="https://perf.rust-lang.org/compare.html?start=5fd3a5c7c175f228afaf5fc6ff00c177b83d8055&amp;end=686e313a9aa14107c8631ffe48fa09110a7692db&amp;stat=instructions:u">instruction counts</a> (up to 1.7% on <code>full</code> builds of <code>externs</code>)</li><li>Seems to be a genuine regression. Unclear what the cause is.</li></ul><p>Make <code>TypeFolder::fold_*</code> return <code>Result</code> <a href=https://github.com/rust-lang/rust/issues/91230>#91230</a></p><ul><li>Large improvement in <a href="https://perf.rust-lang.org/compare.html?start=58f9efd36de5669ab731ec7ebf565999ff17b159&amp;end=e6d2de9483a27f846f003fc745713339a9122473&amp;stat=instructions:u">instruction counts</a> (up to -1.0% on <code>incr-full</code> builds of <code>deeply-nested-async</code>)</li><li>Large regression in <a href="https://perf.rust-lang.org/compare.html?start=58f9efd36de5669ab731ec7ebf565999ff17b159&amp;end=e6d2de9483a27f846f003fc745713339a9122473&amp;stat=instructions:u">instruction counts</a> (up to 4.0% on <code>incr-unchanged</code> builds of <code>deep-vector</code>)</li><li>Regressions seem genuine, but are likely to be shuffling of instruction
sequences rather than something directly addressable.</li></ul><p>Update libc to 0.2.108 <a href=https://github.com/rust-lang/rust/issues/90681>#90681</a></p><ul><li>Very large improvement in <a href="https://perf.rust-lang.org/compare.html?start=db9d361a4731ca0bb48533fab6297a8fea75696f&amp;end=350158dd6d7ba840666999efa9a19c6ae403eed1&amp;stat=instructions:u">instruction counts</a> (up to -15.3% on <code>incr-unchanged</code> builds of <code>clap-rs</code>)</li><li>Large regression in <a href="https://perf.rust-lang.org/compare.html?start=db9d361a4731ca0bb48533fab6297a8fea75696f&amp;end=350158dd6d7ba840666999efa9a19c6ae403eed1&amp;stat=instructions:u">instruction counts</a> (up to 3.0% on <code>incr-unchanged</code> builds of <code>deeply-nested-async</code>)</li><li>Looks like a genuine regression, potentially slightly more work at crate loading time.</li></ul><p>Tokenize emoji as if they were valid identifiers <a href=https://github.com/rust-lang/rust/issues/88781>#88781</a></p><ul><li>Small improvement in <a href="https://perf.rust-lang.org/compare.html?start=c6eda7d8a7af3ef51311d3106874a7d8de994edc&amp;end=23a436606b118bd2fbb12f64fce21e7f9d355349&amp;stat=instructions:u">instruction counts</a> (up to -0.8% on <code>full</code> builds of <code>deeply-nested</code>)</li><li>Small regression in <a href="https://perf.rust-lang.org/compare.html?start=c6eda7d8a7af3ef51311d3106874a7d8de994edc&amp;end=23a436606b118bd2fbb12f64fce21e7f9d355349&amp;stat=instructions:u">instruction counts</a> (up to 0.3% on <code>incr-full</code> builds of <code>deeply-nested-async</code>)</li><li>Genuine regression; more expensive logic in tokenization.</li></ul><p>Rollup of 6 pull requests <a href=https://github.com/rust-lang/rust/issues/91221>#91221</a></p><ul><li>Moderate improvement in <a href="https://perf.rust-lang.org/compare.html?start=862962b90e59c5c1e217df74de80d3a81eee42f4&amp;end=37a49713cb256f4033a3c2fab4810c5a61e89dd9&amp;stat=instructions:u">instruction counts</a> (up to -1.3% on <code>incr-unchanged</code> builds of <code>wg-grammar</code>)</li><li>Small regression in <a href="https://perf.rust-lang.org/compare.html?start=862962b90e59c5c1e217df74de80d3a81eee42f4&amp;end=37a49713cb256f4033a3c2fab4810c5a61e89dd9&amp;stat=instructions:u">instruction counts</a> (up to 0.6% on <code>full</code> builds of <code>ctfe-stress-4</code>)</li><li>Regression seems genuine, though cause is unclear.</li></ul><h4 id=untriaged-pull-requests>Untriaged Pull Requests</h4><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Amerged+label%3Aperf-regression+-label%3Aperf-regression-triaged+sort%3Acreated-asc">60 untriaged pull requests</a>.</p><h2 id=nominated-issues>Nominated Issues</h2><p><a href=https://github.com/rust-lang/rust/labels/I-compiler-nominated>T-compiler</a></p><ul><li>&ldquo;Change <code>char</code> type in debuginfo to DW_ATE_UTF&rdquo; <a href=https://github.com/rust-lang/rust/pull/89887>rust#89887</a></li><li>&ldquo;sess: default to v0 symbol mangling&rdquo; <a href=https://github.com/rust-lang/rust/pull/89917>rust#89917</a><ul><li>this is <code>s-blocked</code> (<a href=https://github.com/rust-lang/rust/pull/89917#issuecomment-946731268>see comment</a>)</li></ul></li><li>&ldquo;Stabilize <code>-Z instrument-coverage</code> as <code>-C instrument-coverage</code>&rdquo; <a href=https://github.com/rust-lang/rust/pull/90132>rust#90132</a><ul><li>@<strong>tmandry</strong> nominated</li></ul></li><li>&ldquo;implement aspect-oriented programming (AOP) for Rust&rdquo; <a href=https://github.com/rust-lang/rust/pull/90721>rust#90721</a><ul><li>nominated by @<strong>mw</strong> (<a href=https://github.com/rust-lang/rust/pull/90721#issuecomment-966078438>see comment</a>)</li><li>suggested to open an RFC</li></ul></li><li>&ldquo;Miscompilation where binding only some fields leaks the others&rdquo; <a href=https://github.com/rust-lang/rust/issues/90752>rust#90752</a><ul><li>discussed in <a href=https://hackmd.io/R_-u5cmyQtmcPSL8sNtbuw?view#P-critical>P-critical</a></li><li>perhaps nomination can be removed?</li></ul></li></ul><p><a href="https://github.com/rust-lang/rfcs/issues?q=is%3Aopen+label%3AI-nominated+label%3AT-compiler">RFC</a></p><ul><li>No nominated RFCs for <code>T-compiler</code> this time.</li></ul></article></div><aside class="book-toc level-6 fixed"><nav id=TableOfContents><ul><li><a href=#announcements>Announcements</a></li><li><a href=#mcpsfcps>MCPs/FCPs</a><ul><li><a href=#wg-checkins>WG checkins</a></li></ul></li><li><a href=#backport-nominations>Backport nominations</a></li><li><a href=#prs-s-waiting-on-team>PRs S-waiting-on-team</a></li><li><a href=#oldest-prs-waiting-for-review>Oldest PRs waiting for review</a></li><li><a href=#issues-of-note>Issues of Note</a><ul><li><a href=#short-summary>Short Summary</a></li><li><a href=#p-critical>P-critical</a></li><li><a href=#p-high-regressions>P-high regressions</a></li></ul></li><li><a href=#performance-logs>Performance logs</a><ul><li></li></ul></li><li><a href=#nominated-issues>Nominated Issues</a></li></ul></nav></aside></main></body></html>