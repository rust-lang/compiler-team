<!doctype html><html lang=en><head><meta http-equiv=refresh content="0; url=https://forge.rust-lang.org/compiler/index.html"></head><body><input type=checkbox style=display:none id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav><h2 class=book-brand><a href=https://rust-lang.github.io/compiler-team/>Rust Lang - Compiler Team</a></h2><style>nav ul a[href$=\2f compiler-team\2fminutes\2ftriage-meeting\2f 2019-11-14\2f ]{color:#004ed0}</style><ul><li><p><strong>About</strong></p><ul><li><a href=/compiler-team/about/CODE_OF_CONDUCT/>Code of Conduct</a></li><li><a href=/compiler-team/about/chat-platform/>Chat Platform</a></li><li><a href=/compiler-team/about/steering-meeting/>Steering Meeting</a></li><li><a href=/compiler-team/about/triage-meeting/>Triage Meeting</a></li></ul></li><li><p><strong>Minutes</strong></p><ul><li><a href=/compiler-team/minutes/design-meeting/>Design Meetings</a></li><li><a href=/compiler-team/minutes/steering-meeting/>Steering Meetings</a></li><li><a href=/compiler-team/minutes/triage-meeting/>Triage Meetings</a></li></ul></li><li><p><strong>Procedures</strong></p><ul><li><a href=/compiler-team/procedures/>Documentation</a></li><li><a href=/compiler-team/procedures/crates/>Crates</a></li><li><a href=/compiler-team/procedures/call-for-participation/>Call for participation</a></li><li><a href=/compiler-team/procedures/form-new-working-group/>Form new working group</a></li></ul></li><li><p><a href=/compiler-team/working-groups/><strong>Working Groups</strong></a></p><ul><li><a href=/compiler-team/working-groups/async-await/>Async Await</a></li><li><a href=/compiler-team/working-groups/debugging/>Debugging</a></li><li><a href=/compiler-team/working-groups/diagnostics/>Diagnostics</a></li><li><a href=/compiler-team/working-groups/rustc-dev-guide/>Rustc Dev Guide</a></li><li><a href=/compiler-team/working-groups/llvm/>LLVM</a></li><li><a href=/compiler-team/working-groups/meta/>Meta</a></li><li><a href=/compiler-team/working-groups/mir-opt/>MIR-opt</a></li><li><a href=/compiler-team/working-groups/nll/>NLL</a></li><li><a href=/compiler-team/working-groups/parallel-rustc/>parallel rustc</a></li><li><a href=/compiler-team/working-groups/pgo/>PGO</a></li><li><a href=/compiler-team/working-groups/pipelining/>pipelining</a></li><li><a href=/compiler-team/working-groups/polonius/>polonius</a></li><li><a href=/compiler-team/working-groups/polymorphization/>polymorphization</a></li><li><a href=/compiler-team/working-groups/prioritization/>Prioritization</a></li><li><a href=/compiler-team/working-groups/rfc-2229/>rfc-2229</a></li><li><a href=/compiler-team/working-groups/rls-2.0/>rls-2.0</a></li><li><a href=/compiler-team/working-groups/self-profile/>Self Profile</a></li><li><a href=/compiler-team/working-groups/traits/>Traits</a></li></ul></li></ul></nav></aside><div class=book-page><header class="align-center justify-between book-header"><label for=menu-control><img src=/compiler-team/svg/menu.svg alt=Menu>
</label><strong>2019.11.14</strong></header><article class=markdown><h1 id=2019-11-14>2019-11-14</h1><h2 id=announcements>Announcements</h2><ul><li><p>Request for assistance: &ldquo;Rustc panics (NoSolution): could not prove Binder(projection soup)&rdquo; <a href=https://github.com/rust-lang/rust/issues/65581>#65581</a></p></li><li><p>Request for assistance: &ldquo;Rust 1.38 regressions weren&rsquo;t fully triaged&rdquo; <a href=https://github.com/rust-lang/rust/issues/655577>#65577</a></p></li><li><p>Request for assistance: &ldquo;Miscompilation with target-cpu=znver1 (AMD Ryzen 1000/2000 series) on Windows + LLVM 9.&rdquo; <a href=https://github.com/rust-lang/rust/issues/63959>#63959</a></p></li><li><p><a href=https://github.com/cjgillot>@cjgillot</a> replaced a lot of TypeFoldable impls with a derive <a href=https://github.com/rust-lang/rust/pull/66384>#66384</a></p></li><li><p>The Infra team has finished evaluating GitHub Actions and we&rsquo;re switching!</p><ul><li>This will have a signficant, positive impact on CI build time.</li></ul></li><li><p><a href=https://github.com/centril>@centril</a> is fixing useless <code>&lt;std macros></code> spans <a href=https://github.com/rust-lang/rust/pull/66364>#66364</a></p></li></ul><h2 id=backport-nominations>Backport nominations</h2><ul><li><p>&ldquo;Fix two OOM issues related to ConstProp&rdquo; <a href=https://github.com/rust-lang/rust/pulls/66394>#66394</a></p><ul><li>Approved for beta backport</li></ul></li><li><p>&ldquo;Do not ICE on trait aliases with missing obligations&rdquo; <a href=https://github.com/rust-lang/rust/pulls/66392>#66392</a></p><ul><li>Approved for beta backport</li></ul></li><li><p>&ldquo;Do not ICE in if without else in async fn&rdquo; <a href=https://github.com/rust-lang/rust/pulls/66391>#66391</a></p><ul><li>Approved for beta backport</li></ul></li><li><p>&ldquo;Fix ICE when trying to suggest Type&lt;> instead of Type()&rdquo; <a href=https://github.com/rust-lang/rust/pull/66390>#66390</a></p><ul><li>Approved for beta backport</li></ul></li><li><p>&ldquo;Do not ICE on recovery from unmet associated type bound obligation&rdquo; <a href=https://github.com/rust-lang/rust/pull/66388>#66388</a></p><ul><li>Approved for beta backport</li></ul></li><li><p>&ldquo;find_deprecation: deprecation attr may be ill-formed meta.&rdquo; <a href=https://github.com/rust-lang/rust/pull/66381>#66381</a></p><ul><li>Approved for beta backport</li></ul></li><li><p>&ldquo;parser: don&rsquo;t use unreachable!() in fn unexpected.&rdquo; <a href=https://github.com/rust-lang/rust/pull/66361>#66361</a></p><ul><li>Approved for beta backport</li></ul></li><li><p>&ldquo;Undo an assert causing an ICE until we fix the underlying problem&rdquo; <a href=https://github.com/rust-lang/rust/pull/66250>#66250</a></p><ul><li>Approved for beta backport</li></ul></li><li><p>&ldquo;Do not ICE with a precision flag in formatting str and no format arguments&rdquo; <a href=https://github.com/rust-lang/rust/pull/66093>#66093</a></p><ul><li>Approved for stable & beta backport</li></ul></li></ul><h2 id=working-group-sync>Working group sync</h2><h3 id=wg-poloniushttpsrust-langgithubiocompiler-teamworking-groupspolonius><a href=https://rust-lang.github.io/compiler-team/working-groups/polonius/>wg-polonius</a></h3><ul><li><p>Made a lot of progress on the completeness goals with move/initialization errors and subset errors both getting close to completion.</p></li><li><p>Fixed the last failure in the rustc test suite.</p><ul><li>There are still the same 2 OOMs as last time, we haven&rsquo;t had much time to look at those yet.</li></ul></li><li><p>Made diagnostics output match NLL in a lot more cases.</p></li><li><p>Did some cleanup in our terminology by picking better names for our atoms hopefully making it clearer in the process, and more work is planned here.</p><ul><li>&ldquo;origin&rdquo; instead of &ldquo;region&rdquo;</li><li>&ldquo;path&rdquo; instead of &ldquo;MovePath&rdquo;</li></ul></li><li><p>There is a <a href=https://rust-lang.github.io/polonius/>polonius book</a> now! It&rsquo;s sparse at the moment but more documentation work is in-flight and planned.</p></li><li><p>The exploration and prototype on the rules offering more flow-sensitive precision for the analysis has also progressed a lot.</p></li><li><p>There&rsquo;s also been some refactoring, and quite a bit of work on performance. Since the latter can step on the other work and vice-versa, we decided to focus on completeness first, and then after that has been achieved, re-adapt and land the optimization work.</p></li><li><p><a href=https://github.com/nikomatsakis>@nikomatsakis</a> did a presentation on Polonius at RustBelt Rust. <a href=https://nikomatsakis.github.io/rust-belt-rust-2019/>Slides</a></p></li><li><p><a href=https://github.com/albins>@albins</a> has finished their master&rsquo;s thesis and is currently rewriting most of the <a href=https://rust-lang.zulipchat.com/user_uploads/4715/ufu5BGNrkzVbV8FtkK3Tco6M/Albins-Thesis-draft-version.pdf>draft</a>.</p></li><li><p>We hope to have a &ldquo;polonius work week&rdquo; at the end of November to push the in-progress work over the finish line together.</p></li></ul><h3 id=wg-self-profilehttpsrust-langgithubiocompiler-teamworking-groupsself-profile><a href=https://rust-lang.github.io/compiler-team/working-groups/self-profile/>wg-self-profile</a></h3><ul><li><p>We&rsquo;ve nearly completed our long standing MVP goal!</p><ul><li>[@simulacrum] has done some nice work to polish the integration with perf.rlo</li><li>We&rsquo;ve added tracking for all the events we&rsquo;re aware of that should be traced with the exception of trait selection.<ul><li>We could really use some input as to what would be helpful to track!</li></ul></li></ul></li><li><p><a href=https://github.com/michaelwoerister>@mw</a> has been working on some changes to the binary format we record events in.</p><ul><li>The new format is more compact so results in a smaller trace file and hopefully less runtime overhead.</li><li>The new format is also more amenable to recording query keys, which is a highly requested feature.</li></ul></li><li><p><a href=https://github.com/wesleywiser>@wesleywiser</a> has added some crate level docs to make getting into the code easier.</p></li><li><p><a href=https://github.com/wesleywiser>@wesleywiser</a> also added code to record process id, start time, and arguments to the trace file which we&rsquo;ve started using.</p></li><li><p><a href=https://github.com/andjo403>@andjo403</a> has been a roll with a lot of great PRs!</p><ul><li>We now have a dedicated tool for generating flamegraphs directly so you don&rsquo;t have to use the Perl scripts anymore.</li><li>Some internal refactoring that makes adding new tools easier.</li><li>Lots of work on the Chromium dev tools exporter:<ul><li>New option to collapse disjoint threads so it&rsquo;s a little more manageable</li><li>New option to filter out small events under a configurable threshold (necessary for very large compilations)</li><li>:tada: :tada: You can now have multiple crate compilations in the same export file. This is similar to what cargo build -Z timings can do but much more detailed.</li></ul></li></ul></li></ul><h3 id=wg-rls-20httpsrust-langgithubiocompiler-teamworking-groupsrls-20><a href=https://rust-lang.github.io/compiler-team/working-groups/rls-2.0/>wg-rls-2.0</a></h3><ul><li><p>Work is procedding on splitting core of rust-analyzer into crates.</p></li><li><p>Find usages is implemented.</p></li><li><p>Macro expansion now can map source ranges to expanded ranges, so goto def correctly goes &ldquo;inside&rdquo; macro call.</p></li><li><p>More chalk an type inference work, specifically, support for closures.</p></li><li><p>There&rsquo;s ongoing discussion about the general planning about rustc, rls, and rust-analyzer.</p></li></ul></article></div><aside class="book-toc level-6 fixed"><nav id=TableOfContents><ul><li><a href=#announcements>Announcements</a></li><li><a href=#backport-nominations>Backport nominations</a></li><li><a href=#working-group-sync>Working group sync</a><ul><li><a href=#wg-poloniushttpsrust-langgithubiocompiler-teamworking-groupspolonius><a href=https://rust-lang.github.io/compiler-team/working-groups/polonius/>wg-polonius</a></a></li><li><a href=#wg-self-profilehttpsrust-langgithubiocompiler-teamworking-groupsself-profile><a href=https://rust-lang.github.io/compiler-team/working-groups/self-profile/>wg-self-profile</a></a></li><li><a href=#wg-rls-20httpsrust-langgithubiocompiler-teamworking-groupsrls-20><a href=https://rust-lang.github.io/compiler-team/working-groups/rls-2.0/>wg-rls-2.0</a></a></li></ul></li></ul></nav></aside></main></body></html>