<!doctype html><html lang=en><head><meta http-equiv=refresh content="0; url=https://forge.rust-lang.org/compiler/index.html"></head><body><input type=checkbox style=display:none id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav><h2 class=book-brand><a href=https://rust-lang.github.io/compiler-team/>Rust Lang - Compiler Team</a></h2><style>nav ul a[href$=\2f compiler-team\2fminutes\2ftriage-meeting\2fT-compiler-Meeting-Agenda-2024-03-21\2f ]{color:#004ed0}</style><ul><li><p><strong>About</strong></p><ul><li><a href=/compiler-team/about/CODE_OF_CONDUCT/>Code of Conduct</a></li><li><a href=/compiler-team/about/chat-platform/>Chat Platform</a></li><li><a href=/compiler-team/about/steering-meeting/>Steering Meeting</a></li><li><a href=/compiler-team/about/triage-meeting/>Triage Meeting</a></li></ul></li><li><p><strong>Minutes</strong></p><ul><li><a href=/compiler-team/minutes/design-meeting/>Design Meetings</a></li><li><a href=/compiler-team/minutes/steering-meeting/>Steering Meetings</a></li><li><a href=/compiler-team/minutes/triage-meeting/>Triage Meetings</a></li></ul></li><li><p><strong>Procedures</strong></p><ul><li><a href=/compiler-team/procedures/>Documentation</a></li><li><a href=/compiler-team/procedures/crates/>Crates</a></li><li><a href=/compiler-team/procedures/call-for-participation/>Call for participation</a></li><li><a href=/compiler-team/procedures/form-new-working-group/>Form new working group</a></li></ul></li><li><p><a href=/compiler-team/working-groups/><strong>Working Groups</strong></a></p><ul><li><a href=/compiler-team/working-groups/async-await/>Async Await</a></li><li><a href=/compiler-team/working-groups/debugging/>Debugging</a></li><li><a href=/compiler-team/working-groups/diagnostics/>Diagnostics</a></li><li><a href=/compiler-team/working-groups/rustc-dev-guide/>Rustc Dev Guide</a></li><li><a href=/compiler-team/working-groups/llvm/>LLVM</a></li><li><a href=/compiler-team/working-groups/meta/>Meta</a></li><li><a href=/compiler-team/working-groups/mir-opt/>MIR-opt</a></li><li><a href=/compiler-team/working-groups/nll/>NLL</a></li><li><a href=/compiler-team/working-groups/parallel-rustc/>parallel rustc</a></li><li><a href=/compiler-team/working-groups/pgo/>PGO</a></li><li><a href=/compiler-team/working-groups/pipelining/>pipelining</a></li><li><a href=/compiler-team/working-groups/polonius/>polonius</a></li><li><a href=/compiler-team/working-groups/polymorphization/>polymorphization</a></li><li><a href=/compiler-team/working-groups/prioritization/>Prioritization</a></li><li><a href=/compiler-team/working-groups/rfc-2229/>rfc-2229</a></li><li><a href=/compiler-team/working-groups/rls-2.0/>rls-2.0</a></li><li><a href=/compiler-team/working-groups/self-profile/>Self Profile</a></li><li><a href=/compiler-team/working-groups/traits/>Traits</a></li></ul></li></ul></nav></aside><div class=book-page><header class="align-center justify-between book-header"><label for=menu-control><img src=/compiler-team/svg/menu.svg alt=Menu>
</label><strong>T Compiler Meeting Agenda 2024 03 21</strong></header><article class=markdown><h1 id=t-compiler-meeting-agenda-2024-03-21>T-compiler Meeting Agenda 2024-03-21</h1><h2 id=announcements>Announcements</h2><ul><li>Today release of rustc 1.77 stable</li><li>&ldquo;Enable frame pointers for the standard library&rdquo; <a href=https://github.com/rust-lang/rust/pull/122646>rust#122646</a><ul><li>suggested by @_<strong>nils (Nilstrieb)</strong> (<a href=https://github.com/rust-lang/rust/pull/122646#issuecomment-2003225294>comment</a>): FIY to T-compiler as it&rsquo;s a perhaps impacting change</li></ul></li><li>Reminder: if you see a PR/issue that seems like there might be legal implications due to copyright/IP/etc, please let us know (or at least message @<em><strong>davidtwco</strong> or @</em><strong>Wesley Wiser</strong> so we can pass it along).</li></ul><h3 id=other-wg-meetings-calendar-linkhttpscalendargooglecomcalendarembedsrc6u5rrtce6lrtv07pfi3damgjus40groupcalendargooglecom>Other WG meetings (<a href="https://calendar.google.com/calendar/embed?src=6u5rrtce6lrtv07pfi3damgjus%40group.calendar.google.com">calendar link</a>)</h3><ul><li>Types Team: ITE (Impl Trait Everywhere) Triage <a href=time:2024-03-21T22:00:00+01:00>time:2024-03-21T22:00:00+01:00</a></li></ul><h2 id=mcpsfcps>MCPs/FCPs</h2><ul><li>New MCPs (take a look, see if you like them!)<ul><li>&ldquo;Skip virtual drop for !needs_drop types&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/730>compiler-team#730</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Skip.20virtual.20drop.20for.20.21needs_drop.20types.20compiler-team.23730>Zulip</a>)</li></ul></li><li>Old MCPs (stale MCP might be closed as per <a href=https://forge.rust-lang.org/compiler/mcp.html#when-should-major-change-proposals-be-closed>MCP procedure</a>)<ul><li>None at this time</li></ul></li><li>Old MCPs (not seconded, take a look)<ul><li>&ldquo;Target families for executable format&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/716>compiler-team#716</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Target.20families.20for.20executable.20format.20compiler-team.23716>Zulip</a>) (last review activity: about 48 days ago)</li><li>&ldquo;Add <code>--emit=</code> to emit nothing&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/718>compiler-team#718</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Add.20.60--emit.3D.60.20to.20emit.20nothing.20compiler-team.23718>Zulip</a>) (last review activity: about 48 days ago)</li><li>&ldquo;Promote riscv64gc-unknown-linux-musl to tier 2&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/728>compiler-team#728</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Promote.20riscv64gc-unknown-linux-gnu.20to.20ti.E2.80.A6.20compiler-team.23728>Zulip</a>) (last review activity: about 13 days ago)</li></ul></li><li>Pending FCP requests (check your boxes!)<ul><li>&ldquo;Tracking Issue for RFC 3013: Checking conditional compilation at compile time&rdquo; <a href=https://github.com/rust-lang/rust/issues/82450>rust#82450</a></li><li>&ldquo;Stabilize Wasm target features that are in phase 4 and 5&rdquo; <a href=https://github.com/rust-lang/rust/pull/117457>rust#117457</a></li><li>&ldquo;Stabilize <code>--env-set</code> option&rdquo; <a href=https://github.com/rust-lang/rust/pull/119926>rust#119926</a></li><li>&ldquo;Make casts of pointers to trait objects stricter&rdquo; <a href=https://github.com/rust-lang/rust/pull/120248>rust#120248</a></li><li>&ldquo;sess: stabilize <code>-Zrelro-level</code> as <code>-Crelro-level</code>&rdquo; <a href=https://github.com/rust-lang/rust/pull/121694>rust#121694</a></li><li>&ldquo;Add encoding for <code>f16</code> and <code>f128</code>&rdquo; <a href=https://github.com/rust-lang/rust/pull/122106>rust#122106</a></li></ul></li><li>Things in FCP (make sure you&rsquo;re good with it)<ul><li>&ldquo;Dist rustc with overflow checks&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/724>compiler-team#724</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Dist.20rustc.20with.20overflow.20checks.20compiler-team.23724>Zulip</a>)</li></ul></li><li>Accepted MCPs<ul><li>No new accepted proposals this time.</li></ul></li><li>MCPs blocked on unresolved concerns<ul><li>&ldquo;Add a new <code>--build-id</code> flag to rustc&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/635>compiler-team#635</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Add.20a.20new.20.60--build-id.60.20flag.20to.20rustc.20compiler-team.23635>Zulip</a>)<ul><li>concern: <a href=https://github.com/rust-lang/compiler-team/issues/635#issuecomment-1779597156>other-existing-options</a></li><li>concern: <a href=https://github.com/rust-lang/compiler-team/issues/635#issuecomment-1785349936>option-name</a></li></ul></li><li>&ldquo;Retire the mailing list and make all decisions on zulip&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/649>compiler-team#649</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Retire.20the.20mailing.20list.20and.20make.20all.20deci.E2.80.A6.20compiler-team.23649>Zulip</a>)<ul><li>concern: <a href=https://github.com/rust-lang/compiler-team/issues/649#issuecomment-1618902660>automatic-sync</a></li><li>concern: <a href=https://github.com/rust-lang/compiler-team/issues/649#issuecomment-1664056989>single-point-of-failure-via-stream-archival</a></li></ul></li><li>&ldquo;Add hygiene attributes to compile expanded source code&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/692>compiler-team#692</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Add.20option.20to.20compile.20expanded.20ASTs.20for.20h.E2.80.A6.20compiler-team.23692>Zulip</a>) (last review activity: 2 months ago)<ul><li>concern: <a href=https://github.com/rust-lang/compiler-team/issues/692#issuecomment-1845169318>added-complexity-to-frontend</a></li></ul></li></ul></li><li>Finalized FCPs (disposition merge)<ul><li>&ldquo;rework opaque type region inference&rdquo; <a href=https://github.com/rust-lang/rust/pull/116891>rust#116891</a></li><li>&ldquo;instantiate higher ranked goals outside of candidate selection&rdquo; <a href=https://github.com/rust-lang/rust/pull/119820>rust#119820</a></li></ul></li><li>Other teams finalized FCPs<ul><li>&ldquo;Tracking issue for Allow a re-export for <code>main</code> (RFC 1260)&rdquo; <a href=https://github.com/rust-lang/rust/issues/28937>rust#28937</a></li><li>&ldquo;<code>c_unwind</code> full stabilization request: change in <code>extern "C"</code> behavior&rdquo; <a href=https://github.com/rust-lang/rust/issues/115285>rust#115285</a></li><li>&ldquo;rework opaque type region inference&rdquo; <a href=https://github.com/rust-lang/rust/pull/116891>rust#116891</a></li><li>&ldquo;Prevent opaque types being instantiated twice with different regions within the same function&rdquo; <a href=https://github.com/rust-lang/rust/pull/116935>rust#116935</a></li><li>&ldquo;instantiate higher ranked goals outside of candidate selection&rdquo; <a href=https://github.com/rust-lang/rust/pull/119820>rust#119820</a></li><li>&ldquo;Split refining_impl_trait lint into _reachable, _internal variants&rdquo; <a href=https://github.com/rust-lang/rust/pull/121720>rust#121720</a></li><li>&ldquo;Stabilize associated type bounds (RFC 2289)&rdquo; <a href=https://github.com/rust-lang/rust/pull/122055>rust#122055</a></li></ul></li></ul><h3 id=wg-checkins>WG checkins</h3><ul><li><p>@_<em>WG-rustc-dev-guide</em> by @<strong>Santiago Pastorino</strong> and @<strong>Yuki Okushi|217081</strong></p><blockquote><p>Checkin text</p></blockquote></li><li><p>Impl Trait initiative by @<strong>oli</strong></p><blockquote><p>Checkin text</p></blockquote></li></ul><h2 id=backport-nominations>Backport nominations</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-compiler">T-compiler beta</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-compiler">T-compiler stable</a></p><ul><li>:beta: [1.78] &ldquo;Make <code>#[diagnostic::on_unimplemented]</code> format string parsing more robust&rdquo; <a href=https://github.com/rust-lang/rust/pull/122402>rust#122402</a><ul><li>Fixes #122391, a few diagnostic errors</li><li>Nominated by @<strong>Michael Goulet (compiler-errors)</strong> (<a href=https://github.com/rust-lang/rust/issues/122391>comment</a>) to stabilize it at the same time as <code>diagnostic::on_unimplemented</code></li></ul></li></ul><ul><li>:beta: [1.78] &ldquo;Do not eat nested expressions&rsquo; results in <code>MayContainYieldPoint</code> format args visitor&rdquo; <a href=https://github.com/rust-lang/rust/pull/122680>rust#122680</a><ul><li>authored by @<strong>lqd</strong>, fixes #122674, a nightly miscompilation. Due to release timeline the issue is on beta right now</li></ul></li></ul><ul><li>No stable nominations for <code>T-compiler</code> this time.</li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-types">T-types stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-types">T-types beta</a></p><ul><li>No beta nominations for <code>T-types</code> this time.</li><li>No stable nominations for <code>T-types</code> this time.</li></ul><h2 id=prs-s-waiting-on-team>PRs S-waiting-on-team</h2><p><a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-compiler">T-compiler</a></p><ul><li><a href=https://hackmd.io/XYr1BrOWSiqCrl8RCWXRaQ>Issues in progress or waiting on other teams</a></li></ul><h2 id=issues-of-note>Issues of Note</h2><h3 id=short-summary>Short Summary</h3><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical">0 T-compiler P-critical issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical+no%3Aassignee">0 of those are unassigned</a></li></ul></li><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high">64 T-compiler P-high issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high+no%3Aassignee">36 of those are unassigned</a></li></ul></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta>0 P-critical, 0 P-high, 1 P-medium, 1 P-low regression-from-stable-to-beta</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly>0 P-critical, 1 P-high, 5 P-medium, 2 P-low regression-from-stable-to-nightly</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-stable>0 P-critical, 37 P-high, 100 P-medium, 15 P-low regression-from-stable-to-stable</a></li></ul><h3 id=p-critical>P-critical</h3><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AP-critical+label%3AT-compiler">T-compiler</a></p><ul><li>No <code>P-critical</code> issues for <code>T-compiler</code> this time.</li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AP-critical+label%3AT-types">T-types</a></p><ul><li>No <code>P-critical</code> issues for <code>T-types</code> this time.</li></ul><h3 id=p-high-regressions>P-high regressions</h3><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-beta+label%3AP-high+-label%3AT-infra+-label%3AT-libs+-label%3AT-libs-api+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">P-high beta regressions</a></p><ul><li>No <code>P-high</code> beta regressions this time.</li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-nightly+label%3AP-high+no%3Aassignee+-label%3AT-infra+-label%3AT-libs+-label%3AT-libs-api+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core+">Unassigned P-high nightly regressions</a></p><ul><li>No unassigned <code>P-high</code> nightly regressions this time.</li></ul><h2 id=performance-logs>Performance logs</h2><blockquote><p><a href=https://github.com/rust-lang/rustc-perf/blob/master/triage/2024-03-19.md>triage logs for 2023-03-19</a></p></blockquote><p>Even though the summary might not look like it, this was actually a relatively quiet week,
with a few small regressions. The large regression that is also shown in the summary table was
caused by extending the verification of incremental compilation results.
However, this verification is not actually fully enabled by default, so these regressions are mostly
only visible in our benchmarking suite, which enables the verification to achieve more deterministic
benchmarking results. One small regression was also caused by enabling frame pointers for the Rust
standard library, which should improve profiling of Rust programs.</p><p>Triage done by <strong>@kobzol</strong>.
Revision
range: <a href="https://perf.rust-lang.org/?start=e919669d42dfb8950866d4cb268c5359eb3f7c54&amp;end=21d94a3d2c63cacf8eaf9d0ca770c0b450c558d4&amp;absolute=false&amp;stat=instructions%3Au">e919669d..21d94a3d</a></p><p><strong>Summary</strong>:</p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>2.5%</td><td style=text-align:center>[0.4%, 7.8%]</td><td style=text-align:center>207</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>2.9%</td><td style=text-align:center>[0.2%, 8.3%]</td><td style=text-align:center>128</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-1.0%</td><td style=text-align:center>[-1.3%, -0.4%]</td><td style=text-align:center>4</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>2.5%</td><td style=text-align:center>[0.4%, 7.8%]</td><td style=text-align:center>207</td></tr></tbody></table><p>4 Regressions, 1 Improvements, 6 Mixed; 4 of them in rollups
67 artifact comparisons made in total</p><h4 id=regressions>Regressions</h4><p>Make <code>DefiningAnchor::Bind</code> only store the opaque types that may be constrained, instead of the
current infcx root
item. <a href=https://github.com/rust-lang/rust/pull/121796>#121796</a> <a href="https://perf.rust-lang.org/compare.html?start=6554a5645a13e4d9331fd028960d69be91d7492d&amp;end=4ccbb7dc95596c7fc0c5756fdc47a17a56c085d3&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.6%</td><td style=text-align:center>[0.2%, 1.8%]</td><td style=text-align:center>112</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.7%</td><td style=text-align:center>[0.2%, 1.8%]</td><td style=text-align:center>27</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.6%</td><td style=text-align:center>[0.2%, 1.8%]</td><td style=text-align:center>112</td></tr></tbody></table><ul><li>This is a refactoring of the &ldquo;old&rdquo; trait solver that was necessary for follow-up compiler changes.</li></ul><p>Rollup of 12 pull
requests <a href=https://github.com/rust-lang/rust/pull/122389>#122389</a> <a href="https://perf.rust-lang.org/compare.html?start=7de1a1f6db26cf7af43cca74819118428e6317ee&amp;end=6b1e5d9db3b0d569bd847fdcb98c85ee8f7a8ef1&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.7%</td><td style=text-align:center>[0.7%, 0.7%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>1.1%</td><td style=text-align:center>[0.5%, 2.1%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.7%</td><td style=text-align:center>[0.7%, 0.7%]</td><td style=text-align:center>3</td></tr></tbody></table><ul><li>Noise, marked as triaged.</li></ul><p>Verify that query keys result in unique dep
nodes <a href=https://github.com/rust-lang/rust/pull/122227>#122227</a> <a href="https://perf.rust-lang.org/compare.html?start=e61dcc7a0ac33ef054d76453307124233edcf545&amp;end=d3555f3d8e555ce488bbf8eee5eccdb66a464e14&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>2.0%</td><td style=text-align:center>[0.2%, 7.8%]</td><td style=text-align:center>193</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>2.4%</td><td style=text-align:center>[0.3%, 7.8%]</td><td style=text-align:center>153</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-1.3%</td><td style=text-align:center>[-1.3%, -1.3%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>2.0%</td><td style=text-align:center>[0.2%, 7.8%]</td><td style=text-align:center>193</td></tr></tbody></table><ul><li>This PR adds additional verification to the compiler that checks if incremental compilation didn&rsquo;t
encounter problems.</li><li>This result looks quite bad, but that is mostly caused by the configuration of our benchmark
suite, which fully enables this verification to make benchmarking more deterministic.</li><li>Normal builds of user code should not be affected by this change.</li></ul><p>Enable frame pointers for the standard
library <a href=https://github.com/rust-lang/rust/pull/122646>#122646</a> <a href="https://perf.rust-lang.org/compare.html?start=13abc0ac9b2b77299cf02d634fc409e26a180ef3&amp;end=3cdcdaf31b45f8045164aae9604573d23091970b&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.2%, 0.6%]</td><td style=text-align:center>70</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.2%, 0.5%]</td><td style=text-align:center>22</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-2.0%</td><td style=text-align:center>[-2.0%, -2.0%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.2%, 0.6%]</td><td style=text-align:center>70</td></tr></tbody></table><ul><li>This PR has a small instruction count cost across the board, but cycles and walltime were affected
much less.</li><li>It enables frame pointers for the Rust standard library, which should make profiling of Rust code
more robust and accurate, which should be worth this small perf. hit.</li><li>Marked as triaged.</li></ul><h4 id=improvements>Improvements</h4><p>Rollup of 15 pull
requests <a href=https://github.com/rust-lang/rust/pull/122338>#122338</a> <a href="https://perf.rust-lang.org/compare.html?start=65cd843ae06ad00123c131a431ed5304e4cd577a&amp;end=6554a5645a13e4d9331fd028960d69be91d7492d&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-1.2%</td><td style=text-align:center>[-1.2%, -1.1%]</td><td style=text-align:center>4</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.8%</td><td style=text-align:center>[-1.2%, -0.4%]</td><td style=text-align:center>13</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-1.2%</td><td style=text-align:center>[-1.2%, -1.1%]</td><td style=text-align:center>4</td></tr></tbody></table><h4 id=mixed>Mixed</h4><p>Update
cargo <a href=https://github.com/rust-lang/rust/pull/122394>#122394</a> <a href="https://perf.rust-lang.org/compare.html?start=6b1e5d9db3b0d569bd847fdcb98c85ee8f7a8ef1&amp;end=a165f1f65015b1bd4afd2ec50700aaacf2e0c485&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>1.1%</td><td style=text-align:center>[1.1%, 1.1%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.7%</td><td style=text-align:center>[-0.7%, -0.7%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.5%</td><td style=text-align:center>[-0.6%, -0.3%]</td><td style=text-align:center>5</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.7%</td><td style=text-align:center>[-0.7%, -0.7%]</td><td style=text-align:center>3</td></tr></tbody></table><ul><li>Most likely noise.</li></ul><p>more eagerly instantiate
binders <a href=https://github.com/rust-lang/rust/pull/119849>#119849</a> <a href="https://perf.rust-lang.org/compare.html?start=30f74ff0dc4d66debc8b50724c446f817e5f75f4&amp;end=fd27e8745f0f04dc7c289893ef54a618c7c9e1da&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.7%</td><td style=text-align:center>[0.2%, 1.1%]</td><td style=text-align:center>14</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.5%</td><td style=text-align:center>[0.4%, 1.0%]</td><td style=text-align:center>7</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-1.2%</td><td style=text-align:center>[-1.4%, -1.1%]</td><td style=text-align:center>6</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.7%</td><td style=text-align:center>[0.2%, 1.1%]</td><td style=text-align:center>14</td></tr></tbody></table><ul><li>A small regression for trait-heavy crates, caused by a fix to the trait solver.</li><li>Marked as triaged.</li></ul><p>Rollup of 9 pull
requests <a href=https://github.com/rust-lang/rust/pull/122607>#122607</a> <a href="https://perf.rust-lang.org/compare.html?start=4c1b9c3e2f402efe27a24e424c9b59aa2fa5c83f&amp;end=c8813ddd6d2602ae5473752031fd16ba70a6e4a7&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>1.7%</td><td style=text-align:center>[1.7%, 1.7%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>2.7%</td><td style=text-align:center>[2.7%, 2.7%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-5.3%</td><td style=text-align:center>[-5.3%, -5.3%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>1.7%</td><td style=text-align:center>[1.7%, 1.7%]</td><td style=text-align:center>1</td></tr></tbody></table><ul><li>The largest regression was caused by <a href=https://github.com/rust-lang/rust/pull/122601>#122601</a>,
which should enable more LLVM optimizations, so some regressions to <code>opt</code> benchmarks is expected.</li><li>Marked as triaged.</li></ul><p>Move generic <code>NonZero</code> <code>rustc_layout_scalar_valid_range_start</code> attribute to inner
type. <a href=https://github.com/rust-lang/rust/pull/121885>#121885</a> <a href="https://perf.rust-lang.org/compare.html?start=c8813ddd6d2602ae5473752031fd16ba70a6e4a7&amp;end=a615cea3339046c7ab2d75cd253727d1fd42dd0b&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>[0.3%, 0.6%]</td><td style=text-align:center>9</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.2%</td><td style=text-align:center>[0.2%, 0.2%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-2.8%</td><td style=text-align:center>[-2.8%, -2.8%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>[0.3%, 0.6%]</td><td style=text-align:center>9</td></tr></tbody></table><ul><li>A small regression caused by internal refactoring in the compiler. Marked as triaged.</li></ul><p>Rollup of 8 pull
requests <a href=https://github.com/rust-lang/rust/pull/122690>#122690</a> <a href="https://perf.rust-lang.org/compare.html?start=3cdcdaf31b45f8045164aae9604573d23091970b&amp;end=d31b6fb8c06b43536ac5be38462d2a55784e2199&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>2.7%</td><td style=text-align:center>[0.2%, 5.3%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-0.3%, -0.2%]</td><td style=text-align:center>7</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.4%</td><td style=text-align:center>[-0.5%, -0.3%]</td><td style=text-align:center>9</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-0.3%, -0.2%]</td><td style=text-align:center>7</td></tr></tbody></table><ul><li>Most likely noise, marked as triaged.</li></ul><p>Rollup of 11 pull
requests <a href=https://github.com/rust-lang/rust/pull/122713>#122713</a> <a href="https://perf.rust-lang.org/compare.html?start=d31b6fb8c06b43536ac5be38462d2a55784e2199&amp;end=3c85e56249b0b1942339a6a989a971bf6f1c9e0f&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>1.0%</td><td style=text-align:center>[0.5%, 1.4%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.5%</td><td style=text-align:center>[-0.9%, -0.4%]</td><td style=text-align:center>7</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>1.0%</td><td style=text-align:center>[0.5%, 1.4%]</td><td style=text-align:center>3</td></tr></tbody></table><ul><li>Small regression in match checking caused
by <a href=https://github.com/rust-lang/rust/pull/121823>#121823</a>,
which improves compiler diagnostics.</li><li>Marked as triaged.</li></ul><h2 id=nominated-issues>Nominated Issues</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-compiler-nominated">T-compiler</a></p><ul><li>No I-compiler-nominated issues this time.</li></ul><p><a href="https://github.com/rust-lang/rfcs/issues?q=is%3Aopen+label%3AI-compiler-nominated">RFC</a></p><ul><li>No I-compiler-nominated RFCs this time.</li></ul><h3 id=oldest-prs-waiting-for-review>Oldest PRs waiting for review</h3><p><a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-asc+label%3AS-waiting-on-review+draft%3Afalse+label%3AT-compiler">T-compiler</a></p><ul><li>&ldquo;Enable DestinationPropagation by default.&rdquo; <a href=https://github.com/rust-lang/rust/pull/115105>rust#115105</a> (last review activity: 2 months ago)<ul><li>cc: @<strong>tm|352985</strong></li></ul></li><li>&ldquo;Suggest ref mut for pattern matching assignment&rdquo; <a href=https://github.com/rust-lang/rust/pull/119650>rust#119650</a> (last review activity: about 54 days ago)<ul><li>cc: @<strong>Wesley Wiser</strong></li></ul></li><li>&ldquo;Small improvements to internal documentation&rdquo; <a href=https://github.com/rust-lang/rust/pull/120388>rust#120388</a> (last review activity: about 54 days ago)<ul><li>cc: @<strong>Esteban KÃ¼ber</strong></li></ul></li><li>&ldquo;Update rustc_codegen_cranelift&rsquo;s dependencies&rdquo; <a href=https://github.com/rust-lang/rust/pull/119741>rust#119741</a> (last review activity: about 53 days ago)<ul><li>cc @<strong>bjorn3</strong></li></ul></li></ul><h2 id=next-weeks-wg-checkins>Next week&rsquo;s WG checkins</h2><ul><li>@_<em>WG-llvm</em> by @<strong>nagisa</strong> and @<strong>Nikita Popov</strong></li><li>@_<em>WG-mir-opt</em> by @<strong>oli</strong></li></ul><p>Next meetings&rsquo; agenda draft: <a href=https://hackmd.io/iVOLhzajRKuaS4GzcSWVNQ>hackmd link</a></p></article></div><aside class="book-toc level-6 fixed"><nav id=TableOfContents><ul><li><a href=#announcements>Announcements</a><ul><li><a href=#other-wg-meetings-calendar-linkhttpscalendargooglecomcalendarembedsrc6u5rrtce6lrtv07pfi3damgjus40groupcalendargooglecom>Other WG meetings (<a href="https://calendar.google.com/calendar/embed?src=6u5rrtce6lrtv07pfi3damgjus%40group.calendar.google.com">calendar link</a>)</a></li></ul></li><li><a href=#mcpsfcps>MCPs/FCPs</a><ul><li><a href=#wg-checkins>WG checkins</a></li></ul></li><li><a href=#backport-nominations>Backport nominations</a></li><li><a href=#prs-s-waiting-on-team>PRs S-waiting-on-team</a></li><li><a href=#issues-of-note>Issues of Note</a><ul><li><a href=#short-summary>Short Summary</a></li><li><a href=#p-critical>P-critical</a></li><li><a href=#p-high-regressions>P-high regressions</a></li></ul></li><li><a href=#performance-logs>Performance logs</a><ul><li></li></ul></li><li><a href=#nominated-issues>Nominated Issues</a><ul><li><a href=#oldest-prs-waiting-for-review>Oldest PRs waiting for review</a></li></ul></li><li><a href=#next-weeks-wg-checkins>Next week&rsquo;s WG checkins</a></li></ul></nav></aside></main></body></html>