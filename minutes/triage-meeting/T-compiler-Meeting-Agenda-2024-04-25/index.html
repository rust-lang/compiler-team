<!doctype html><html lang=en><head><meta http-equiv=refresh content="0; url=https://forge.rust-lang.org/compiler/index.html"></head><body><input type=checkbox style=display:none id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav><h2 class=book-brand><a href=https://rust-lang.github.io/compiler-team/>Rust Lang - Compiler Team</a></h2><style>nav ul a[href$=\2f compiler-team\2fminutes\2ftriage-meeting\2fT-compiler-Meeting-Agenda-2024-04-25\2f ]{color:#004ed0}</style><ul><li><p><strong>About</strong></p><ul><li><a href=/compiler-team/about/CODE_OF_CONDUCT/>Code of Conduct</a></li><li><a href=/compiler-team/about/chat-platform/>Chat Platform</a></li><li><a href=/compiler-team/about/steering-meeting/>Steering Meeting</a></li><li><a href=/compiler-team/about/triage-meeting/>Triage Meeting</a></li></ul></li><li><p><strong>Minutes</strong></p><ul><li><a href=/compiler-team/minutes/design-meeting/>Design Meetings</a></li><li><a href=/compiler-team/minutes/steering-meeting/>Steering Meetings</a></li><li><a href=/compiler-team/minutes/triage-meeting/>Triage Meetings</a></li></ul></li><li><p><strong>Procedures</strong></p><ul><li><a href=/compiler-team/procedures/>Documentation</a></li><li><a href=/compiler-team/procedures/crates/>Crates</a></li><li><a href=/compiler-team/procedures/call-for-participation/>Call for participation</a></li><li><a href=/compiler-team/procedures/form-new-working-group/>Form new working group</a></li></ul></li><li><p><a href=/compiler-team/working-groups/><strong>Working Groups</strong></a></p><ul><li><a href=/compiler-team/working-groups/async-await/>Async Await</a></li><li><a href=/compiler-team/working-groups/debugging/>Debugging</a></li><li><a href=/compiler-team/working-groups/diagnostics/>Diagnostics</a></li><li><a href=/compiler-team/working-groups/rustc-dev-guide/>Rustc Dev Guide</a></li><li><a href=/compiler-team/working-groups/llvm/>LLVM</a></li><li><a href=/compiler-team/working-groups/meta/>Meta</a></li><li><a href=/compiler-team/working-groups/mir-opt/>MIR-opt</a></li><li><a href=/compiler-team/working-groups/nll/>NLL</a></li><li><a href=/compiler-team/working-groups/parallel-rustc/>parallel rustc</a></li><li><a href=/compiler-team/working-groups/pgo/>PGO</a></li><li><a href=/compiler-team/working-groups/pipelining/>pipelining</a></li><li><a href=/compiler-team/working-groups/polonius/>polonius</a></li><li><a href=/compiler-team/working-groups/polymorphization/>polymorphization</a></li><li><a href=/compiler-team/working-groups/prioritization/>Prioritization</a></li><li><a href=/compiler-team/working-groups/rfc-2229/>rfc-2229</a></li><li><a href=/compiler-team/working-groups/rls-2.0/>rls-2.0</a></li><li><a href=/compiler-team/working-groups/self-profile/>Self Profile</a></li><li><a href=/compiler-team/working-groups/traits/>Traits</a></li></ul></li></ul></nav></aside><div class=book-page><header class="align-center justify-between book-header"><label for=menu-control><img src=/compiler-team/svg/menu.svg alt=Menu>
</label><strong>T Compiler Meeting Agenda 2024 04 25</strong></header><article class=markdown><h1 id=t-compiler-meeting-agenda-2024-04-25>T-compiler Meeting Agenda 2024-04-25</h1><h2 id=announcements>Announcements</h2><ul><li>Reminder: if you see a PR/issue that seems like there might be legal implications due to copyright/IP/etc, please let us know (or at least message @<em><strong>davidtwco</strong> or @</em><strong>Wesley Wiser</strong> so we can pass it along).</li></ul><h3 id=other-wg-meetings-calendar-linkhttpscalendargooglecomcalendarembedsrc6u5rrtce6lrtv07pfi3damgjus40groupcalendargooglecom>Other WG meetings (<a href="https://calendar.google.com/calendar/embed?src=6u5rrtce6lrtv07pfi3damgjus%40group.calendar.google.com">calendar link</a>)</h3><ul><li>No meetings scheduled for next week</li></ul><h2 id=mcpsfcps>MCPs/FCPs</h2><ul><li>New MCPs (take a look, see if you like them!)<ul><li>&ldquo;Build LLVM using CI image&rsquo;s Clang on Win + MacOS, instead of installing a copy&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/742>compiler-team#742</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Build.20LLVM.20using.20CI.20image.27s.20Clang.20on.20Win.20.E2.80.A6.20compiler-team.23742>Zulip</a>)</li><li>&ldquo;Add &ndash;print=check-cfg&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/743>compiler-team#743</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Add.20--print.3Dcheck-cfg.20compiler-team.23743>Zulip</a>)</li></ul></li><li>Old MCPs (not seconded, take a look)<ul><li>&ldquo;Target families for executable format&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/716>compiler-team#716</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Target.20families.20for.20executable.20format.20compiler-team.23716>Zulip</a>) (last review activity: 2 months ago)</li><li>&ldquo;Promote riscv64gc-unknown-linux-musl to tier 2&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/728>compiler-team#728</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Promote.20riscv64gc-unknown-linux-gnu.20to.20ti.E2.80.A6.20compiler-team.23728>Zulip</a>) (last review activity: about 48 days ago)</li><li>&ldquo;Add <code>-Zemit-thin-lto-index=&lt;path></code> to enable distributed ThinLTO users&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/735>compiler-team#735</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Add.20.60-Zemit-thin-lto-index.3D.3Cpath.3E.60.20to.20ena.E2.80.A6.20compiler-team.23735>Zulip</a>) (last review activity: about 20 days ago)</li><li>&ldquo;Only emit forward compatible v0 symbol names with graceful degradation&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/737>compiler-team#737</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Only.20emit.20forward.20compatible.20v0.20symbol.20na.E2.80.A6.20compiler-team.23737>Zulip</a>) (last review activity: about 20 days ago)</li><li>&ldquo;Partial compilation using MIR-only rlibs&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/738>compiler-team#738</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Partial.20compilation.20using.20MIR-only.20rlibs.20compiler-team.23738>Zulip</a>) (last review activity: about 13 days ago)</li></ul></li><li>Pending FCP requests (check your boxes!)<ul><li>merge: <a href=https://github.com/rust-lang/compiler-team/issues/635#issuecomment-1777545767>Add a new <code>--build-id</code> flag to rustc (compiler-team#635)</a><ul><li>@<em><strong>|125250</strong> @</em><strong>|116107</strong> @<em><strong>|125294</strong> @</em><strong>|123856</strong></li><li>concerns: <a href=https://github.com/rust-lang/compiler-team/issues/635#issuecomment-1779597156>other-existing-options (by petrochenkov)</a> <a href=https://github.com/rust-lang/compiler-team/issues/635#issuecomment-1785349936>option-name (by wesleywiser)</a></li></ul></li><li>merge: <a href=https://github.com/rust-lang/compiler-team/issues/649#issuecomment-1618781780>Retire the mailing list and make all decisions on zulip (compiler-team#649)</a><ul><li>no pending checkboxs</li><li>concerns: <a href=https://github.com/rust-lang/compiler-team/issues/649#issuecomment-1618902660>automatic-sync (by compiler-errors)</a> <a href=https://github.com/rust-lang/compiler-team/issues/649#issuecomment-1664056989>single-point-of-failure-via-stream-archival (by pnkfelix)</a></li></ul></li><li>merge: <a href=https://github.com/rust-lang/rust/pull/119926#issuecomment-1898766442>Stabilize <code>--env-set</code> option (rust#119926)</a><ul><li>@<em><strong>|119009</strong> @</em><strong>|116083</strong> @<em><strong>|124288</strong> @</em><strong>|123586</strong> @<em><strong>|125250</strong> @</em><strong>|119031</strong> @<em><strong>|124287</strong> @</em><strong>|116118</strong></li><li>concerns: <a href=https://github.com/rust-lang/rust/pull/119926#issuecomment-1900703005>other-rustc-vars (by petrochenkov)</a></li></ul></li><li>merge: <a href=https://github.com/rust-lang/rust/pull/122597#issuecomment-2063945502>Show files produced by <code>--emit foo</code> in json artifact notifications (rust#122597)</a><ul><li>@<em><strong>|119009</strong> @</em><strong>|116083</strong> @<em><strong>|123586</strong> @</em><strong>|116107</strong> @<em><strong>|125294</strong> @</em><strong>|119031</strong> @<em><strong>|248906</strong> @</em><strong>|124287</strong> @<em><strong>|426609</strong> @</em><strong>|116118</strong> @_<strong>|232957</strong></li><li>no pending concerns</li></ul></li><li>merge: <a href=https://github.com/rust-lang/rust/pull/124339#issuecomment-2075414901>Disable <code>version_check::supports_feature</code> on nightly (rust#124339)</a><ul><li>@<em><strong>|119009</strong> @</em><strong>|116083</strong> @<em><strong>|123586</strong> @</em><strong>|125250</strong> @<em><strong>|116107</strong> @</em><strong>|119031</strong> @<em><strong>|248906</strong> @</em><strong>|124287</strong> @<em><strong>|426609</strong> @</em><strong>|123856</strong> @<em><strong>|116118</strong> @</em><strong>|216206</strong> @_<strong>|232957</strong></li><li>no pending concerns</li></ul></li></ul></li><li>Things in FCP (make sure you&rsquo;re good with it)<ul><li>&ldquo;Skip virtual drop for !needs_drop types&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/730>compiler-team#730</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Skip.20virtual.20drop.20for.20.21needs_drop.20types.20compiler-team.23730>Zulip</a>)</li><li>&ldquo;Make casts of pointers to trait objects stricter&rdquo; <a href=https://github.com/rust-lang/rust/pull/120248>rust#120248</a></li></ul></li><li>Accepted MCPs<ul><li>&ldquo;allow all command line flags to be passed multiple times, overwriting previous usages&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/731>compiler-team#731</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/allow.20all.20command.20line.20flags.20to.20be.20passed.E2.80.A6.20compiler-team.23731>Zulip</a>)</li><li>&ldquo;Policy: no discussions on T-compiler tracking issues&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/739>compiler-team#739</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Lock.20all.20tracking.20issues.20to.20prevent.20discu.E2.80.A6.20compiler-team.23739>Zulip</a>)</li></ul></li><li>MCPs blocked on unresolved concerns<ul><li>&ldquo;Add hygiene attributes to compile expanded source code&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/692>compiler-team#692</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Add.20option.20to.20compile.20expanded.20ASTs.20for.20h.E2.80.A6.20compiler-team.23692>Zulip</a>) (last review activity: 3 months ago)<ul><li>concern: <a href=https://github.com/rust-lang/compiler-team/issues/692#issuecomment-1845169318>added-complexity-to-frontend</a></li></ul></li></ul></li><li>Finalized FCPs (disposition merge)<ul><li>&ldquo;Tracking Issue for RFC 3013: Checking conditional compilation at compile time&rdquo; <a href=https://github.com/rust-lang/rust/issues/82450>rust#82450</a></li><li>&ldquo;Ignore <code>-C strip</code> on MSVC&rdquo; <a href=https://github.com/rust-lang/rust/pull/115120>rust#115120</a></li><li>&ldquo;sess: stabilize <code>-Zrelro-level</code> as <code>-Crelro-level</code>&rdquo; <a href=https://github.com/rust-lang/rust/pull/121694>rust#121694</a></li><li>&ldquo;stabilize <code>-Znext-solver=coherence</code>&rdquo; <a href=https://github.com/rust-lang/rust/pull/121848>rust#121848</a></li><li>&ldquo;Use fulfillment in method probe, not evaluation&rdquo; <a href=https://github.com/rust-lang/rust/pull/122317>rust#122317</a></li><li>&ldquo;Fix trait solver overflow with <code>non_local_definitions</code> lint&rdquo; <a href=https://github.com/rust-lang/rust/pull/123594>rust#123594</a></li><li>&ldquo;More DefineOpaqueTypes::Yes&rdquo; <a href=https://github.com/rust-lang/rust/pull/123794>rust#123794</a></li></ul></li><li>Other teams finalized FCPs<ul><li>&ldquo;Stabilise inline_const&rdquo; <a href=https://github.com/rust-lang/rust/pull/104087>rust#104087</a></li><li>&ldquo;restrict promotion of <code>const fn</code> calls&rdquo; <a href=https://github.com/rust-lang/rust/pull/121557>rust#121557</a></li><li>&ldquo;stabilize <code>-Znext-solver=coherence</code>&rdquo; <a href=https://github.com/rust-lang/rust/pull/121848>rust#121848</a></li><li>&ldquo;Use fulfillment in method probe, not evaluation&rdquo; <a href=https://github.com/rust-lang/rust/pull/122317>rust#122317</a></li><li>&ldquo;Fix trait solver overflow with <code>non_local_definitions</code> lint&rdquo; <a href=https://github.com/rust-lang/rust/pull/123594>rust#123594</a></li><li>&ldquo;More DefineOpaqueTypes::Yes&rdquo; <a href=https://github.com/rust-lang/rust/pull/123794>rust#123794</a></li></ul></li></ul><h3 id=wg-checkins>WG checkins</h3><p>None today</p><h2 id=backport-nominations>Backport nominations</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-compiler">T-compiler beta</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-compiler">T-compiler stable</a></p><ul><li>No beta nominations for <code>T-compiler</code> this time.</li><li>No stable nominations for <code>T-compiler</code> this time.</li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-types">T-types stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-types">T-types beta</a></p><ul><li>No beta nominations for <code>T-types</code> this time.</li><li>No stable nominations for <code>T-types</code> this time.</li></ul><h2 id=prs-s-waiting-on-team>PRs S-waiting-on-team</h2><p><a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-compiler">T-compiler</a></p><ul><li><a href=https://hackmd.io/XYr1BrOWSiqCrl8RCWXRaQ>Issues in progress or waiting on other teams</a></li></ul><h2 id=issues-of-note>Issues of Note</h2><h3 id=short-summary>Short Summary</h3><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical">0 T-compiler P-critical issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical+no%3Aassignee">0 of those are unassigned</a></li></ul></li><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high">61 T-compiler P-high issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high+no%3Aassignee">34 of those are unassigned</a></li></ul></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta>0 P-critical, 0 P-high, 2 P-medium, 1 P-low regression-from-stable-to-beta</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly>0 P-critical, 0 P-high, 5 P-medium, 2 P-low regression-from-stable-to-nightly</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-stable>0 P-critical, 36 P-high, 100 P-medium, 16 P-low regression-from-stable-to-stable</a></li></ul><h3 id=p-critical>P-critical</h3><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AP-critical+label%3AT-compiler">T-compiler</a></p><ul><li>No <code>P-critical</code> issues for <code>T-compiler</code> this time.</li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AP-critical+label%3AT-types">T-types</a></p><ul><li>No <code>P-critical</code> issues for <code>T-types</code> this time.</li></ul><h3 id=p-high-regressions>P-high regressions</h3><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-beta+label%3AP-high+-label%3AT-infra+-label%3AT-libs+-label%3AT-libs-api+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">P-high beta regressions</a></p><ul><li>No <code>P-high</code> beta regressions this time.</li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-nightly+label%3AP-high+no%3Aassignee+-label%3AT-infra+-label%3AT-libs+-label%3AT-libs-api+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core+">Unassigned P-high nightly regressions</a></p><ul><li>No unassigned <code>P-high</code> nightly regressions this time.</li></ul><h2 id=performance-logs>Performance logs</h2><blockquote><p><a href=https://github.com/rust-lang/rustc-perf/blob/master/triage/2024-04-23.md>triage logs for 2024-04-23</a></p></blockquote><p>A week dominated by small mixed changes to perf with improvements slightly outweighing regressions. There were no pure regressions, and many of the mixed perf results were deemed worth it for their potential improvements to runtime performance through further optimization from LLVM.</p><p>Triage done by <strong>@rylev</strong>.
Revision range: <a href="https://perf.rust-lang.org/?start=ccfcd950b333fed046275dd8d54fe736ca498aa7&amp;end=a77f76e26302e9a084fb321817675b1dfc1dcd63&amp;absolute=false&amp;stat=instructions%3Au">ccfcd950..a77f76e2</a></p><p><strong>Summary</strong>:</p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>[0.2%, 1.8%]</td><td style=text-align:center>57</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>[0.2%, 1.9%]</td><td style=text-align:center>26</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.8%</td><td style=text-align:center>[-3.4%, -0.2%]</td><td style=text-align:center>50</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.6%</td><td style=text-align:center>[-1.9%, -0.1%]</td><td style=text-align:center>32</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-3.4%, 1.8%]</td><td style=text-align:center>107</td></tr></tbody></table><p>0 Regressions, 5 Improvements, 6 Mixed; 2 of them in rollups
62 artifact comparisons made in total</p><h4 id=regressions>Regressions</h4><p>None (ðŸ˜Ž)</p><h4 id=improvements>Improvements</h4><p>Simplify shallow resolver to just fold ty/consts <a href=https://github.com/rust-lang/rust/pull/123537>#123537</a> <a href="https://perf.rust-lang.org/compare.html?start=1cec373f65eb76e8e4b4d1847213cf3ec6c292b6&amp;end=3fba2782310b2754259a3c329220a5b1e6cf9a5c&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.3%, 0.3%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.9%</td><td style=text-align:center>[-1.4%, -0.2%]</td><td style=text-align:center>8</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.4%, -0.2%]</td><td style=text-align:center>11</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.8%</td><td style=text-align:center>[-1.4%, 0.3%]</td><td style=text-align:center>9</td></tr></tbody></table><p>rustdoc-search: single result for items with multiple paths <a href=https://github.com/rust-lang/rust/pull/119912>#119912</a> <a href="https://perf.rust-lang.org/compare.html?start=3412f0174934778dd803081dc7c4b5864309350f&amp;end=e3181b091e88321f5ea149afed6db0edf0a4f37b&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-0.3%, -0.2%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-0.3%, -0.2%]</td><td style=text-align:center>3</td></tr></tbody></table><p>interpret: use ScalarInt for bin-ops; avoid PartialOrd for ScalarInt <a href=https://github.com/rust-lang/rust/pull/124113>#124113</a> <a href="https://perf.rust-lang.org/compare.html?start=d1a0fa5ed3ffe52d72f761d3c95cbeb0a9cdfe66&amp;end=ce3263e60e73f4018592cbfba540cf8bef4399de&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.4%, -0.2%]</td><td style=text-align:center>4</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.4%, -0.2%]</td><td style=text-align:center>4</td></tr></tbody></table><p>PatRangeBoundary::compare_with: als add a fast-path for signed integers <a href=https://github.com/rust-lang/rust/pull/124190>#124190</a> <a href="https://perf.rust-lang.org/compare.html?start=584f183dc0e0ce8d981811ebbf67886c0cfef9e0&amp;end=c3ceb00281f9557dcf5bba54fc44c9931cc90d42&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-3.3%</td><td style=text-align:center>[-3.3%, -3.3%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr></tbody></table><p>Rollup of 7 pull requests <a href=https://github.com/rust-lang/rust/pull/124271>#124271</a> <a href="https://perf.rust-lang.org/compare.html?start=25087e02b34775520856b6cc15e50f5ed0c35f50&amp;end=9cf10bcf5b368de79abc24fc4d50a9d85b377ffa&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.5%</td><td style=text-align:center>[0.5%, 0.5%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-0.2%, -0.2%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.9%</td><td style=text-align:center>[-2.1%, -0.4%]</td><td style=text-align:center>9</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-0.2%, -0.2%]</td><td style=text-align:center>1</td></tr></tbody></table><h4 id=mixed>Mixed</h4><p>Implement syntax for <code>impl Trait</code> to specify its captures explicitly (<code>feature(precise_capturing)</code>) <a href=https://github.com/rust-lang/rust/pull/123468>#123468</a> <a href="https://perf.rust-lang.org/compare.html?start=ad18fe08de03fbb459c05475bddee22707b4f0ec&amp;end=4e1f5d90bca45207605a88e39b1f76abcdb85d2f&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.2%</td><td style=text-align:center>[0.2%, 0.2%]</td><td style=text-align:center>4</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.8%</td><td style=text-align:center>[-0.8%, -0.8%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.2%</td><td style=text-align:center>[0.2%, 0.2%]</td><td style=text-align:center>4</td></tr></tbody></table><ul><li>Very small regression on a stress test</li></ul><p>At debuginfo=0, don&rsquo;t inline debuginfo when inlining <a href=https://github.com/rust-lang/rust/pull/123949>#123949</a> <a href="https://perf.rust-lang.org/compare.html?start=0e15f5ee8fb3f9edcb8a35b1cbd9f8d352be54a0&amp;end=3412f0174934778dd803081dc7c4b5864309350f&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>1.0%</td><td style=text-align:center>[0.3%, 1.8%]</td><td style=text-align:center>5</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>1.0%</td><td style=text-align:center>[0.2%, 3.4%]</td><td style=text-align:center>4</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.9%</td><td style=text-align:center>[-2.4%, -0.1%]</td><td style=text-align:center>22</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-1.2%</td><td style=text-align:center>[-1.8%, -0.2%]</td><td style=text-align:center>10</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.6%</td><td style=text-align:center>[-2.4%, 1.8%]</td><td style=text-align:center>27</td></tr></tbody></table><ul><li>Improvements outweighed the regressions and was deemed worth it by the reviewer.</li></ul><p>Always display stability version even if it&rsquo;s the same as the containing item <a href=https://github.com/rust-lang/rust/pull/118441>#118441</a> <a href="https://perf.rust-lang.org/compare.html?start=07d0d7ce3fd22e4fadd61206034af6fadcdb3e4f&amp;end=d1a0fa5ed3ffe52d72f761d3c95cbeb0a9cdfe66&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.2%, 0.3%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-0.2%, -0.2%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.1%</td><td style=text-align:center>[-0.2%, 0.3%]</td><td style=text-align:center>3</td></tr></tbody></table><ul><li>Noise that is reversed in the next run.</li></ul><p>Tell LLVM Vec::len is invariant across growth <a href=https://github.com/rust-lang/rust/pull/123930>#123930</a> <a href="https://perf.rust-lang.org/compare.html?start=426a698606ca94d4c4a674a346c701bf44b0aeb3&amp;end=13eb8c736ce58a794434ee316cb86f1091f66c7e&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>[0.1%, 1.6%]</td><td style=text-align:center>7</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.2%, 0.5%]</td><td style=text-align:center>11</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.5%</td><td style=text-align:center>[-0.9%, -0.4%]</td><td style=text-align:center>8</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-0.2%, -0.1%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.1%</td><td style=text-align:center>[-0.9%, 1.6%]</td><td style=text-align:center>15</td></tr></tbody></table><ul><li>The regressions come from LLVM, and it was deemed worth it given the possibility for LLVM to perform more optimization.</li></ul><p>fix normalizing in different <code>ParamEnv</code>s with the same <code>InferCtxt</code> <a href=https://github.com/rust-lang/rust/pull/124203>#124203</a> <a href="https://perf.rust-lang.org/compare.html?start=f22a0c2d9f9cd83dfe84b65e9fa1b3fa8303c7b5&amp;end=1b3fba066c21e7c3471fca710783fc1e6546a1ca&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>4.1%</td><td style=text-align:center>[4.1%, 4.1%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.7%</td><td style=text-align:center>[-2.4%, -0.2%]</td><td style=text-align:center>9</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.9%</td><td style=text-align:center>[-0.9%, -0.9%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.7%</td><td style=text-align:center>[-2.4%, -0.2%]</td><td style=text-align:center>9</td></tr></tbody></table><ul><li>Noise</li></ul><p>Rollup of 5 pull requests <a href=https://github.com/rust-lang/rust/pull/124241>#124241</a> <a href="https://perf.rust-lang.org/compare.html?start=1b3fba066c21e7c3471fca710783fc1e6546a1ca&amp;end=fb898629a26e4acec59c928ce3ec00a62675d1cc&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.7%</td><td style=text-align:center>[0.2%, 1.6%]</td><td style=text-align:center>7</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.3%, 0.3%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.9%</td><td style=text-align:center>[-2.8%, -0.3%]</td><td style=text-align:center>7</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-3.9%</td><td style=text-align:center>[-3.9%, -3.9%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.1%</td><td style=text-align:center>[-2.8%, 1.6%]</td><td style=text-align:center>14</td></tr></tbody></table><ul><li>More time spent in LLVM previously</li><li>Pinged the author and reviewer for their perspective.</li></ul><h2 id=nominated-issues>Nominated Issues</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-compiler-nominated">T-compiler</a></p><ul><li>&ldquo;Tracking issue: 32bit x86 targets without SSE2 have unsound floating point behavior&rdquo; <a href=https://github.com/rust-lang/rust/issues/114479>rust#114479</a><ul><li>Nominated by @<strong>apiraino</strong> (github <a href=https://github.com/rust-lang/rust/issues/114479#issuecomment-2076723049>comment</a>, zulip prioritization <a href=https://rust-lang.zulipchat.com/#narrow/stream/245100-t-compiler.2Fwg-prioritization.2Falerts/topic/.23114479.20Tracking.20issue.3A.2032bit.20x86.20targets.20without.20SSE2.20have.E2.80.A6/near/434964647>topic</a>)</li><li><blockquote><p>This tracking issue shows that we have targets that intersect tier platforms support in different ways. For example i686 are tier 1 but i686 &ldquo;non-SSE2&rdquo; are tier 2 (and suffer from codegen unsoundnesses). All these differences are not apparent <a href=https://doc.rust-lang.org/rustc/platform-support.html>in our documentation</a>. Should we add a bit of nuances to our target policy? If yes, how?</p></blockquote></li><li><blockquote><p>[Ralf] Altogether I think there are enough issues with floating point on x86 without SSE (this one, and also #115567) that IMO we should say that tier 1 hardfloat targets require SSE period. It is already the case that using feature flags to turn a hardfloat target into a softfloat target is unsound (Cc #116344), and we should simply hard-error in those cases (e.g. disabling the x87 feature on any hardfloat x86 target). IMO we should do the same when disabling SSE/SSE2 on an i686 target.</p></blockquote></li></ul></li></ul><p><a href="https://github.com/rust-lang/rfcs/issues?q=is%3Aopen+label%3AI-compiler-nominated">RFC</a></p><ul><li>No I-compiler-nominated RFCs this time.</li></ul><h3 id=oldest-prs-waiting-for-review>Oldest PRs waiting for review</h3><p><a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-asc+label%3AS-waiting-on-review+draft%3Afalse+label%3AT-compiler">T-compiler</a></p><ul><li>&ldquo;Enable DestinationPropagation by default.&rdquo; <a href=https://github.com/rust-lang/rust/pull/115105>rust#115105</a> (last review activity: 3 months ago)<ul><li>cc @<strong>mw</strong></li></ul></li><li>&ldquo;Remove unnecessary impl sorting in queries and metadata&rdquo; <a href=https://github.com/rust-lang/rust/pull/120812>rust#120812</a> (last review activity: 2 months ago)<ul><li>@<strong>cjgillot</strong></li></ul></li><li>&ldquo;Use Box&lt;[T]> for ProcessResult::Changed&rdquo; <a href=https://github.com/rust-lang/rust/pull/121355>rust#121355</a> (last review activity: 2 months ago)<ul><li>cc: @<strong>Esteban KÃ¼ber</strong>? Note: @<strong>Michael Goulet (compiler-errors)</strong> was not in favour of this patch</li></ul></li><li>&ldquo;Handle .init_array link_section specially on wasm&rdquo; <a href=https://github.com/rust-lang/rust/pull/121533>rust#121533</a> (last review activity: 2 months ago)<ul><li>cc @<strong>Esteban KÃ¼ber</strong></li></ul></li><li>&ldquo;Allow a MIR analysis to perform the state <code>join</code> directly&rdquo; <a href=https://github.com/rust-lang/rust/pull/114900>rust#114900</a> (last review activity: about 59 days ago)<ul><li>cc: @<strong>cjgillot</strong></li></ul></li></ul><h2 id=next-weeks-wg-checkins>Next week&rsquo;s WG checkins</h2><ul><li>@_<em>WG-async</em> by @<strong>nikomatsakis</strong> and @<strong>tmandry</strong></li><li>@_<em>WG-diagnostics</em> by @<strong>Esteban KÃ¼ber</strong> and @<strong>oli</strong></li></ul><p>Next meetings&rsquo; agenda draft: <a href=https://hackmd.io/j7ulhAwrQQeguFno_ejZog>hackmd link</a></p></article></div><aside class="book-toc level-6 fixed"><nav id=TableOfContents><ul><li><a href=#announcements>Announcements</a><ul><li><a href=#other-wg-meetings-calendar-linkhttpscalendargooglecomcalendarembedsrc6u5rrtce6lrtv07pfi3damgjus40groupcalendargooglecom>Other WG meetings (<a href="https://calendar.google.com/calendar/embed?src=6u5rrtce6lrtv07pfi3damgjus%40group.calendar.google.com">calendar link</a>)</a></li></ul></li><li><a href=#mcpsfcps>MCPs/FCPs</a><ul><li><a href=#wg-checkins>WG checkins</a></li></ul></li><li><a href=#backport-nominations>Backport nominations</a></li><li><a href=#prs-s-waiting-on-team>PRs S-waiting-on-team</a></li><li><a href=#issues-of-note>Issues of Note</a><ul><li><a href=#short-summary>Short Summary</a></li><li><a href=#p-critical>P-critical</a></li><li><a href=#p-high-regressions>P-high regressions</a></li></ul></li><li><a href=#performance-logs>Performance logs</a><ul><li></li></ul></li><li><a href=#nominated-issues>Nominated Issues</a><ul><li><a href=#oldest-prs-waiting-for-review>Oldest PRs waiting for review</a></li></ul></li><li><a href=#next-weeks-wg-checkins>Next week&rsquo;s WG checkins</a></li></ul></nav></aside></main></body></html>