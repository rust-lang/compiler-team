<!doctype html><html lang=en><head><meta http-equiv=refresh content="0; url=https://forge.rust-lang.org/compiler/index.html"></head><body><input type=checkbox style=display:none id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav><h2 class=book-brand><a href=https://rust-lang.github.io/compiler-team/>Rust Lang - Compiler Team</a></h2><style>nav ul a[href$=\2f compiler-team\2fminutes\2ftriage-meeting\2fT-compiler-Meeting-Agenda-2024-04-18\2f ]{color:#004ed0}</style><ul><li><p><strong>About</strong></p><ul><li><a href=/compiler-team/about/CODE_OF_CONDUCT/>Code of Conduct</a></li><li><a href=/compiler-team/about/chat-platform/>Chat Platform</a></li><li><a href=/compiler-team/about/steering-meeting/>Steering Meeting</a></li><li><a href=/compiler-team/about/triage-meeting/>Triage Meeting</a></li></ul></li><li><p><strong>Minutes</strong></p><ul><li><a href=/compiler-team/minutes/design-meeting/>Design Meetings</a></li><li><a href=/compiler-team/minutes/steering-meeting/>Steering Meetings</a></li><li><a href=/compiler-team/minutes/triage-meeting/>Triage Meetings</a></li></ul></li><li><p><strong>Procedures</strong></p><ul><li><a href=/compiler-team/procedures/>Documentation</a></li><li><a href=/compiler-team/procedures/crates/>Crates</a></li><li><a href=/compiler-team/procedures/call-for-participation/>Call for participation</a></li><li><a href=/compiler-team/procedures/form-new-working-group/>Form new working group</a></li></ul></li><li><p><a href=/compiler-team/working-groups/><strong>Working Groups</strong></a></p><ul><li><a href=/compiler-team/working-groups/async-await/>Async Await</a></li><li><a href=/compiler-team/working-groups/debugging/>Debugging</a></li><li><a href=/compiler-team/working-groups/diagnostics/>Diagnostics</a></li><li><a href=/compiler-team/working-groups/rustc-dev-guide/>Rustc Dev Guide</a></li><li><a href=/compiler-team/working-groups/llvm/>LLVM</a></li><li><a href=/compiler-team/working-groups/meta/>Meta</a></li><li><a href=/compiler-team/working-groups/mir-opt/>MIR-opt</a></li><li><a href=/compiler-team/working-groups/nll/>NLL</a></li><li><a href=/compiler-team/working-groups/parallel-rustc/>parallel rustc</a></li><li><a href=/compiler-team/working-groups/pgo/>PGO</a></li><li><a href=/compiler-team/working-groups/pipelining/>pipelining</a></li><li><a href=/compiler-team/working-groups/polonius/>polonius</a></li><li><a href=/compiler-team/working-groups/polymorphization/>polymorphization</a></li><li><a href=/compiler-team/working-groups/prioritization/>Prioritization</a></li><li><a href=/compiler-team/working-groups/rfc-2229/>rfc-2229</a></li><li><a href=/compiler-team/working-groups/rls-2.0/>rls-2.0</a></li><li><a href=/compiler-team/working-groups/self-profile/>Self Profile</a></li><li><a href=/compiler-team/working-groups/traits/>Traits</a></li></ul></li></ul></nav></aside><div class=book-page><header class="align-center justify-between book-header"><label for=menu-control><img src=/compiler-team/svg/menu.svg alt=Menu>
</label><strong>T Compiler Meeting Agenda 2024 04 18</strong></header><article class=markdown><h1 id=t-compiler-meeting-agenda-2024-04-18>T-compiler Meeting Agenda 2024-04-18</h1><h2 id=announcements>Announcements</h2><ul><li>Reminder: if you see a PR/issue that seems like there might be legal implications due to copyright/IP/etc, please let us know (or at least message @<em><strong>davidtwco</strong> or @</em><strong>Wesley Wiser</strong> so we can pass it along).</li></ul><h3 id=other-wg-meetings>Other WG meetings</h3><ul><li>Types Team: ITE (Impl Trait Everywhere) Triage <a href=time:2024-04-18T22:00:00+01:00>time:2024-04-18T22:00:00+01:00</a></li></ul><h2 id=mcpsfcps>MCPs/FCPs</h2><ul><li>New MCPs (take a look, see if you like them!)<ul><li>No new proposals this time.</li></ul></li><li>Old MCPs (stale MCP might be closed as per <a href=https://forge.rust-lang.org/compiler/mcp.html#when-should-major-change-proposals-be-closed>MCP procedure</a>)<ul><li>None at this time</li></ul></li><li>Old MCPs (not seconded, take a look)<ul><li>&ldquo;Add hygiene attributes to compile expanded source code&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/692>compiler-team#692</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Add.20option.20to.20compile.20expanded.20ASTs.20for.20h.E2.80.A6.20compiler-team.23692>Zulip</a>) (last review activity: 3 months ago)<ul><li>concern: <a href=https://github.com/rust-lang/compiler-team/issues/692#issuecomment-1845169318>added-complexity-to-frontend</a></li></ul></li><li>&ldquo;Target families for executable format&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/716>compiler-team#716</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Target.20families.20for.20executable.20format.20compiler-team.23716>Zulip</a>) (last review activity: 2 months ago)</li><li>&ldquo;Promote riscv64gc-unknown-linux-musl to tier 2&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/728>compiler-team#728</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Promote.20riscv64gc-unknown-linux-gnu.20to.20ti.E2.80.A6.20compiler-team.23728>Zulip</a>) (last review activity: about 41 days ago)</li><li>&ldquo;Skip virtual drop for !needs_drop types&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/730>compiler-team#730</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Skip.20virtual.20drop.20for.20.21needs_drop.20types.20compiler-team.23730>Zulip</a>) (last review activity: about 13 days ago)</li><li>&ldquo;Add <code>-Zemit-thin-lto-index=&lt;path></code> to enable distributed ThinLTO users&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/735>compiler-team#735</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Add.20.60-Zemit-thin-lto-index.3D.3Cpath.3E.60.20to.20ena.E2.80.A6.20compiler-team.23735>Zulip</a>) (last review activity: about 13 days ago)</li><li>&ldquo;Only emit forward compatible v0 symbol names with graceful degradation&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/737>compiler-team#737</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Only.20emit.20forward.20compatible.20v0.20symbol.20na.E2.80.A6.20compiler-team.23737>Zulip</a>) (last review activity: about 13 days ago)</li><li>&ldquo;Partial compilation using MIR-only rlibs&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/738>compiler-team#738</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Partial.20compilation.20using.20MIR-only.20rlibs.20compiler-team.23738>Zulip</a>) (last review activity: about 6 days ago)</li></ul></li><li>Pending FCP requests (check your boxes!)<ul><li>&ldquo;Add a new <code>--build-id</code> flag to rustc&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/635>compiler-team#635</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Add.20a.20new.20.60--build-id.60.20flag.20to.20rustc.20compiler-team.23635>Zulip</a>)<ul><li>concern: <a href=https://github.com/rust-lang/compiler-team/issues/635#issuecomment-1779597156>other-existing-options</a></li><li>concern: <a href=https://github.com/rust-lang/compiler-team/issues/635#issuecomment-1785349936>option-name</a></li></ul></li><li>&ldquo;Retire the mailing list and make all decisions on zulip&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/649>compiler-team#649</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Retire.20the.20mailing.20list.20and.20make.20all.20deci.E2.80.A6.20compiler-team.23649>Zulip</a>)<ul><li>concern: <a href=https://github.com/rust-lang/compiler-team/issues/649#issuecomment-1618902660>automatic-sync</a></li><li>concern: <a href=https://github.com/rust-lang/compiler-team/issues/649#issuecomment-1664056989>single-point-of-failure-via-stream-archival</a></li></ul></li><li>&ldquo;Stabilize <code>--env-set</code> option&rdquo; <a href=https://github.com/rust-lang/rust/pull/119926>rust#119926</a></li><li>&ldquo;Make casts of pointers to trait objects stricter&rdquo; <a href=https://github.com/rust-lang/rust/pull/120248>rust#120248</a></li></ul></li><li>Things in FCP (make sure you&rsquo;re good with it)<ul><li>&ldquo;allow all command line flags to be passed multiple times, overwriting previous usages&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/731>compiler-team#731</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/allow.20all.20command.20line.20flags.20to.20be.20passed.E2.80.A6.20compiler-team.23731>Zulip</a>)</li><li>&ldquo;Policy: no discussions on T-compiler tracking issues&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/739>compiler-team#739</a> (<a href=https://rust-lang.zulipchat.com/#narrow/stream/233931-xxx/topic/Lock.20all.20tracking.20issues.20to.20prevent.20discu.E2.80.A6.20compiler-team.23739>Zulip</a>)</li><li>&ldquo;Ignore <code>-C strip</code> on MSVC&rdquo; <a href=https://github.com/rust-lang/rust/pull/115120>rust#115120</a></li></ul></li><li>Accepted MCPs<ul><li>No new accepted proposals this time.</li></ul></li><li>Finalized FCPs (disposition merge)<ul><li>&ldquo;Tracking Issue for RFC 3013: Checking conditional compilation at compile time&rdquo; <a href=https://github.com/rust-lang/rust/issues/82450>rust#82450</a></li><li>&ldquo;sess: stabilize <code>-Zrelro-level</code> as <code>-Crelro-level</code>&rdquo; <a href=https://github.com/rust-lang/rust/pull/121694>rust#121694</a></li><li>&ldquo;stabilize <code>-Znext-solver=coherence</code>&rdquo; <a href=https://github.com/rust-lang/rust/pull/121848>rust#121848</a></li></ul></li><li>Other teams finalized FCPs<ul><li>&ldquo;Stabilise inline_const&rdquo; <a href=https://github.com/rust-lang/rust/pull/104087>rust#104087</a></li><li>&ldquo;stabilize <code>-Znext-solver=coherence</code>&rdquo; <a href=https://github.com/rust-lang/rust/pull/121848>rust#121848</a></li></ul></li></ul><h3 id=wg-checkins>WG checkins</h3><ul><li>@_<em>WG-llvm</em> by @<strong>Nikita Popov</strong> (<a href="https://hackmd.io/team/rust-compiler-team?nav=overview">previous checkin</a>):<blockquote><p>There were some LLVM patch version updates, some ABI fixes, and some changes to reduce our reliance on LLVM types (and thus LLVM layout calculations)</p></blockquote></li></ul><h2 id=backport-nominations>Backport nominations</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-compiler">T-compiler beta</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-compiler">T-compiler stable</a></p><ul><li>:beta: [1.78] &ldquo;Silence <code>unused_imports</code> for redundant imports&rdquo; <a href=https://github.com/rust-lang/rust/pull/123744>rust#123744</a><ul><li>Authored by @_<strong>Michael Goulet (compiler-errors)</strong> (thanks!)</li><li>Addresses this comment from <a href=https://github.com/rust-lang/rust/issues/121708#issuecomment-2048105393>#121708</a>, fixes a regression in #117772</li></ul></li></ul><ul><li>:beta: [1.78] &ldquo;Stop using <code>HirId</code> for fn-like parents since closures are not <code>OwnerNode</code>s&rdquo; <a href=https://github.com/rust-lang/rust/pull/123804>rust#123804</a><ul><li>Authored by @_<strong>Michael Goulet (compiler-errors)</strong> (thanks!)</li><li>Fixes #123273, a diag. regression causing an ICE (from latest beta run)</li></ul></li></ul><ul><li>:beta: [1.78] &ldquo;Update LLVM to 1deeee3&rdquo; <a href=https://github.com/rust-lang/rust/pull/124044>rust#124044</a><ul><li>Authored by @_<strong>Quentin Dian (dianqk)</strong> (thanks!)</li><li>Fixes #123772, regression on MIPS introduced in the last LLVM upgrade</li><li>Diff: <a href=https://github.com/rust-lang/llvm-project/compare/af8f9eb61a2ad4ee1f2d3f46d157b93a47c6a4bf...5399a24c66cb6164cf32280e7d300488c90d5765>https://github.com/rust-lang/llvm-project/compare/af8f9eb61a2ad4ee1f2d3f46d157b93a47c6a4bf...5399a24c66cb6164cf32280e7d300488c90d5765</a></li><li>LLVM 1.8.1.4 released in the meantime (<a href=https://github.com/rust-lang/rust/pull/124044#issuecomment-2060131453>comment</a>), so probably a backport of this makes sense.</li></ul></li></ul><ul><li>:beta: [1.78] &ldquo;Call the panic hook for non-unwind panics in proc-macros&rdquo; <a href=https://github.com/rust-lang/rust/pull/123825>rustc#123825</a><ul><li>Authored by @_<strong>Ben Kimock (Saethlin)</strong> (thanks!)</li><li>Implements this suggestion (<a href=https://github.com/rust-lang/rust/issues/123286#issuecomment-2030344815>comment</a>)<blockquote><p>If a proc macro causes a non-unwinding panic, proc_macro isn&rsquo;t able to catch the unwind and report the panic as a compile error by passing control back to the compiler. Our only chance to produce any diagnostic is the panic hook, so we should call it.</p></blockquote></li></ul></li></ul><ul><li>No stable nominations for <code>T-compiler</code> this time.</li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-types">T-types stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-types">T-types beta</a></p><ul><li>No beta nominations for <code>T-types</code> this time.</li><li>No stable nominations for <code>T-types</code> this time.</li></ul><h2 id=prs-s-waiting-on-team>PRs S-waiting-on-team</h2><p><a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-compiler">T-compiler</a></p><ul><li><a href=https://hackmd.io/XYr1BrOWSiqCrl8RCWXRaQ>Issues in progress or waiting on other teams</a></li></ul><h2 id=issues-of-note>Issues of Note</h2><h3 id=short-summary>Short Summary</h3><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical">0 T-compiler P-critical issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical+no%3Aassignee">0 of those are unassigned</a></li></ul></li><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high">63 T-compiler P-high issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high+no%3Aassignee">35 of those are unassigned</a></li></ul></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta>0 P-critical, 1 P-high, 4 P-medium, 1 P-low regression-from-stable-to-beta</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly>0 P-critical, 1 P-high, 5 P-medium, 2 P-low regression-from-stable-to-nightly</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-stable>0 P-critical, 36 P-high, 100 P-medium, 17 P-low regression-from-stable-to-stable</a></li></ul><h3 id=p-critical>P-critical</h3><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AP-critical+label%3AT-compiler">T-compiler</a></p><ul><li>No <code>P-critical</code> issues for <code>T-compiler</code> this time.</li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AP-critical+label%3AT-types">T-types</a></p><ul><li>No <code>P-critical</code> issues for <code>T-types</code> this time.</li></ul><h3 id=p-high-regressions>P-high regressions</h3><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-beta+label%3AP-high+-label%3AT-infra+-label%3AT-libs+-label%3AT-libs-api+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">P-high beta regressions</a></p><ul><li>None new</li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-nightly+label%3AP-high+no%3Aassignee+-label%3AT-infra+-label%3AT-libs+-label%3AT-libs-api+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core+">Unassigned P-high nightly regressions</a></p><ul><li>&ldquo;nightly-2024-04-05 regression: error[E0275]: overflow evaluating the requirement&rdquo; <a href=https://github.com/rust-lang/rust/issues/123573>rust#123573</a><ul><li>Will be fixed by #123594 (<a href=https://github.com/rust-lang/rust/pull/123594#issuecomment-2042756501>last week entered in FCP</a>), authored by @_<strong>Urgau</strong> (thanks!)</li></ul></li></ul><h2 id=performance-logs>Performance logs</h2><blockquote><p><a href=https://github.com/rust-lang/rustc-perf/blob/master/triage/2024-04-16.md>triage logs for 2024-05-16</a></p></blockquote><p>A quiet week, with slightly more improvements than regressions.
There were a few noise spikes, but other than that nothing too interesting.</p><p>Triage done by <strong>@Kobzol</strong>.
Revision
range: <a href="https://perf.rust-lang.org/?start=86b603cd792b3f6172ba4f676d7b586c1af7630a&amp;end=ccfcd950b333fed046275dd8d54fe736ca498aa7&amp;absolute=false&amp;stat=instructions%3Au">86b603cd..ccfcd950b</a></p><p><strong>Summary</strong>:</p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.5%</td><td style=text-align:center>[0.3%, 1.4%]</td><td style=text-align:center>9</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>[0.2%, 1.1%]</td><td style=text-align:center>20</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.6%</td><td style=text-align:center>[-2.5%, -0.2%]</td><td style=text-align:center>41</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.8%</td><td style=text-align:center>[-1.4%, -0.2%]</td><td style=text-align:center>4</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.4%</td><td style=text-align:center>[-2.5%, 1.4%]</td><td style=text-align:center>50</td></tr></tbody></table><p>1 Regression, 3 Improvements, 6 Mixed; 5 of them in rollups
62 artifact comparisons made in total</p><h4 id=regressions>Regressions</h4><p>Implement syntax for <code>impl Trait</code> to specify its captures
explicitly (<code>feature(precise_capturing)</code>) <a href=https://github.com/rust-lang/rust/pull/123468>#123468</a> <a href="https://perf.rust-lang.org/compare.html?start=ccfcd950b333fed046275dd8d54fe736ca498aa7&amp;end=26e6a2fdaa9443dfe37c77489bd4122119e3c900&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.2%</td><td style=text-align:center>[0.2%, 0.2%]</td><td style=text-align:center>5</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.2%</td><td style=text-align:center>[0.2%, 0.2%]</td><td style=text-align:center>5</td></tr></tbody></table><ul><li>A tiny regression on a stress test, introduced by a new feature.</li><li>Marked as triaged.</li></ul><h4 id=improvements>Improvements</h4><p>Remove my <code>scalar_copy_backend_type</code> optimization
attempt <a href=https://github.com/rust-lang/rust/pull/123185>#123185</a> <a href="https://perf.rust-lang.org/compare.html?start=5974fe87c4d711949caa64fc1e8366685c8fc190&amp;end=c2239bca5b89a8d3573cc0fc0f2fa65c50edb79c&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.7%</td><td style=text-align:center>[-0.7%, -0.7%]</td><td style=text-align:center>4</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-2.0%</td><td style=text-align:center>[-2.7%, -1.2%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.7%</td><td style=text-align:center>[-0.7%, -0.7%]</td><td style=text-align:center>4</td></tr></tbody></table><p>Rollup of 8 pull
requests <a href=https://github.com/rust-lang/rust/pull/123823>#123823</a> <a href="https://perf.rust-lang.org/compare.html?start=616a8f85f153033d798b583c0ad0431924a738b0&amp;end=a07f3eb43acc5df851e15176c7081a900a30a4d7&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.4%</td><td style=text-align:center>[-1.1%, -0.2%]</td><td style=text-align:center>20</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.4%</td><td style=text-align:center>[-1.1%, -0.2%]</td><td style=text-align:center>20</td></tr></tbody></table><p>Rollup of 4 pull
requests <a href=https://github.com/rust-lang/rust/pull/123982>#123982</a> <a href="https://perf.rust-lang.org/compare.html?start=99d0186b1d0547eae913eff04be272c9d348b9b8&amp;end=3493a56529b3f972205f2cdda920132deef4b475&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.6%</td><td style=text-align:center>[-0.8%, -0.3%]</td><td style=text-align:center>8</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.3%, -0.3%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.6%</td><td style=text-align:center>[-0.8%, -0.3%]</td><td style=text-align:center>8</td></tr></tbody></table><h4 id=mixed>Mixed</h4><p>Only collect mono items from reachable
blocks <a href=https://github.com/rust-lang/rust/pull/123272>#123272</a> <a href="https://perf.rust-lang.org/compare.html?start=86b603cd792b3f6172ba4f676d7b586c1af7630a&amp;end=bb78dba64ca4158ef2f3488d0d41a82c75a504f2&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>[0.2%, 1.5%]</td><td style=text-align:center>8</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.8%</td><td style=text-align:center>[-1.5%, -0.3%]</td><td style=text-align:center>6</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.1%</td><td style=text-align:center>[-1.5%, 1.5%]</td><td style=text-align:center>14</td></tr></tbody></table><ul><li>Fixed an important bug, and results were mixed anyway.</li></ul><p>Rollup of 7 pull
requests <a href=https://github.com/rust-lang/rust/pull/123725>#123725</a> <a href="https://perf.rust-lang.org/compare.html?start=e908cfd125ae9d98550edb9ffd8d7eae4be601ac&amp;end=5974fe87c4d711949caa64fc1e8366685c8fc190&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.2%</td><td style=text-align:center>[0.2%, 0.2%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.9%</td><td style=text-align:center>[0.2%, 2.6%]</td><td style=text-align:center>7</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.4%</td><td style=text-align:center>[-0.6%, -0.2%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.6%</td><td style=text-align:center>[-0.6%, -0.6%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.1%</td><td style=text-align:center>[-0.6%, 0.2%]</td><td style=text-align:center>4</td></tr></tbody></table><ul><li>The largest regressions were noise, the rest was mixed.</li><li>Marked as triaged.</li></ul><p>Rollup of 8 pull
requests <a href=https://github.com/rust-lang/rust/pull/123762>#123762</a> <a href="https://perf.rust-lang.org/compare.html?start=aa067fb984d36462548bb785da221bfaf38253f0&amp;end=4435924bb62cda0131e38dd5d2bba36f9616039f&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>[0.2%, 0.5%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.5%</td><td style=text-align:center>[0.3%, 1.7%]</td><td style=text-align:center>9</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-2.8%</td><td style=text-align:center>[-4.2%, -1.4%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>[0.2%, 0.5%]</td><td style=text-align:center>2</td></tr></tbody></table><ul><li>The largest regression on the <code>coercions</code> benchmark is noise.</li><li>The rest were small regressions on <code>doc</code> benchmarks.</li><li>Marked as triaged.</li></ul><p>Rollup of 4 pull
requests <a href=https://github.com/rust-lang/rust/pull/123884>#123884</a> <a href="https://perf.rust-lang.org/compare.html?start=6cfd80942e4599a6e429e8a2aa27af38f5987aa0&amp;end=59c38c06049fc3fba98bb046701eb2ab1777d998&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>[0.4%, 0.4%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-1.0%</td><td style=text-align:center>[-1.0%, -1.0%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.3%, -0.3%]</td><td style=text-align:center>6</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-1.0%, 0.4%]</td><td style=text-align:center>2</td></tr></tbody></table><ul><li>The single regression was immediately reverted, the rest were small improvements.</li><li>Marked as triaged.</li></ul><p>Re-enable <code>has_thread_local</code> for
i686-msvc <a href=https://github.com/rust-lang/rust/pull/123257>#123257</a> <a href="https://perf.rust-lang.org/compare.html?start=59c38c06049fc3fba98bb046701eb2ab1777d998&amp;end=f96442b4482fef6a50b65f2284bcfb8921320183&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.3%, 0.4%]</td><td style=text-align:center>6</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.3%, -0.3%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.3%, -0.3%]</td><td style=text-align:center>1</td></tr></tbody></table><ul><li>This has to be noise, since the PR did not modify x64 Linux.</li></ul><p>Get rid of <code>USIZE_MARKER</code> in formatting
infrastructure <a href=https://github.com/rust-lang/rust/pull/123819>#123819</a> <a href="https://perf.rust-lang.org/compare.html?start=0bf471f339837af930ec90ef5e1e9cb232e99f29&amp;end=7ab5eb8fe7aee35aea8ed4aed8c34f6abd988cc5&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.6%</td><td style=text-align:center>[0.4%, 0.9%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>1.5%</td><td style=text-align:center>[1.5%, 1.5%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.4%</td><td style=text-align:center>[-0.6%, -0.3%]</td><td style=text-align:center>5</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.1%</td><td style=text-align:center>[-0.6%, 0.9%]</td><td style=text-align:center>7</td></tr></tbody></table><ul><li>More improvements than regressions.</li></ul><h2 id=nominated-issues>Nominated Issues</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-compiler-nominated">T-compiler</a></p><ul><li>&ldquo;Relocate coroutine upvars into Unresumed state&rdquo; <a href=https://github.com/rust-lang/rust/pull/120168>rust#120168</a><ul><li>Nominated by Felix (<a href=https://github.com/rust-lang/rust/pull/120168#issuecomment-2051880787>comment</a>)</li><li>Context of this PR (<a href=https://github.com/rust-lang/rust/pull/120168#issue-2092189762>comment</a>):<blockquote><p>This PR is an attempt to address the async/coroutine size issue by allowing independent def-use/liveness analysis on individual upvars in coroutines. It has appeared to address partially the size doubling issue introduced by the use of upvars.</p></blockquote></li><li>Reason for nomination:<blockquote><p>Are we okay with the <code>upvars: Option&lt;(Local, usize)></code> this change is adding to various dataflow analyses, at least in the short term so that we can make forward progress on the problem of generator size explosion? Or wait to land this PR until after we have a discussion in any of {dataflow, MIR representation, generator representation} to try to figure out the &ldquo;right answer&rdquo;.</p></blockquote></li></ul></li></ul><p><a href="https://github.com/rust-lang/rfcs/issues?q=is%3Aopen+label%3AI-compiler-nominated">RFC</a></p><ul><li>No I-compiler-nominated RFCs this time.</li></ul><h3 id=oldest-prs-waiting-for-review>Oldest PRs waiting for review</h3><p><a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-asc+label%3AS-waiting-on-review+draft%3Afalse+label%3AT-compiler">T-compiler</a></p><ul><li>&ldquo;Introduce perma-unstable <code>wasm-c-abi</code> flag&rdquo; <a href=https://github.com/rust-lang/rust/pull/117919>rust#117919</a><ul><li>Does anybody know how to reach out for the PR reviewer (GH user <code>b-naber</code>)? Seems this PR is languishing a bit and has good potential</li></ul></li><li>&ldquo;tidy watcher&rdquo; <a href=https://github.com/rust-lang/rust/pull/114209>rust#114209</a><ul><li>cc @<strong>Wesley Wiser</strong></li></ul></li><li>&ldquo;Fix gce ICE when encountering ill-formed consts&rdquo; <a href=https://github.com/rust-lang/rust/pull/119060>rust#119060</a><ul><li>cc @<strong>Michael Goulet (compiler-errors)</strong> (PR author also needs some input)</li></ul></li><li>&ldquo;Issue 83060 fix&rdquo; <a href=https://github.com/rust-lang/rust/pull/119798>rust#119798</a> (last review activity: 3 months ago)<ul><li>cc @<strong>Wesley Wiser</strong></li></ul></li></ul><h2 id=next-weeks-wg-checkins>Next week&rsquo;s WG checkins</h2><ul><li>@_<em>WG-mir-opt</em> by @<strong>oli</strong></li><li>@_<em>T-rust-analyzer</em> by @<strong>Lukas Wirth</strong></li></ul><p>Next meetings&rsquo; agenda draft: <a href=https://hackmd.io/ZtmRDIGyQUSe0RD6mYjbBA>hackmd link</a></p></article></div><aside class="book-toc level-6 fixed"><nav id=TableOfContents><ul><li><a href=#announcements>Announcements</a><ul><li><a href=#other-wg-meetings>Other WG meetings</a></li></ul></li><li><a href=#mcpsfcps>MCPs/FCPs</a><ul><li><a href=#wg-checkins>WG checkins</a></li></ul></li><li><a href=#backport-nominations>Backport nominations</a></li><li><a href=#prs-s-waiting-on-team>PRs S-waiting-on-team</a></li><li><a href=#issues-of-note>Issues of Note</a><ul><li><a href=#short-summary>Short Summary</a></li><li><a href=#p-critical>P-critical</a></li><li><a href=#p-high-regressions>P-high regressions</a></li></ul></li><li><a href=#performance-logs>Performance logs</a><ul><li></li></ul></li><li><a href=#nominated-issues>Nominated Issues</a><ul><li><a href=#oldest-prs-waiting-for-review>Oldest PRs waiting for review</a></li></ul></li><li><a href=#next-weeks-wg-checkins>Next week&rsquo;s WG checkins</a></li></ul></nav></aside></main></body></html>