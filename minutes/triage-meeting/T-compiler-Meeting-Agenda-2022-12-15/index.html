<!doctype html><html lang=en><head><meta http-equiv=refresh content="0; url=https://forge.rust-lang.org/compiler/index.html"></head><body><input type=checkbox style=display:none id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav><h2 class=book-brand><a href=https://rust-lang.github.io/compiler-team/>Rust Lang - Compiler Team</a></h2><style>nav ul a[href$=\2f compiler-team\2fminutes\2ftriage-meeting\2fT-compiler-Meeting-Agenda-2022-12-15\2f ]{color:#004ed0}</style><ul><li><p><strong>About</strong></p><ul><li><a href=/compiler-team/about/CODE_OF_CONDUCT/>Code of Conduct</a></li><li><a href=/compiler-team/about/chat-platform/>Chat Platform</a></li><li><a href=/compiler-team/about/steering-meeting/>Steering Meeting</a></li><li><a href=/compiler-team/about/triage-meeting/>Triage Meeting</a></li></ul></li><li><p><strong>Minutes</strong></p><ul><li><a href=/compiler-team/minutes/design-meeting/>Design Meetings</a></li><li><a href=/compiler-team/minutes/steering-meeting/>Steering Meetings</a></li><li><a href=/compiler-team/minutes/triage-meeting/>Triage Meetings</a></li></ul></li><li><p><strong>Procedures</strong></p><ul><li><a href=/compiler-team/procedures/>Documentation</a></li><li><a href=/compiler-team/procedures/crates/>Crates</a></li><li><a href=/compiler-team/procedures/call-for-participation/>Call for participation</a></li><li><a href=/compiler-team/procedures/form-new-working-group/>Form new working group</a></li></ul></li><li><p><a href=/compiler-team/working-groups/><strong>Working Groups</strong></a></p><ul><li><a href=/compiler-team/working-groups/async-await/>Async Await</a></li><li><a href=/compiler-team/working-groups/debugging/>Debugging</a></li><li><a href=/compiler-team/working-groups/diagnostics/>Diagnostics</a></li><li><a href=/compiler-team/working-groups/rustc-dev-guide/>Rustc Dev Guide</a></li><li><a href=/compiler-team/working-groups/llvm/>LLVM</a></li><li><a href=/compiler-team/working-groups/meta/>Meta</a></li><li><a href=/compiler-team/working-groups/mir-opt/>MIR-opt</a></li><li><a href=/compiler-team/working-groups/nll/>NLL</a></li><li><a href=/compiler-team/working-groups/parallel-rustc/>parallel rustc</a></li><li><a href=/compiler-team/working-groups/pgo/>PGO</a></li><li><a href=/compiler-team/working-groups/pipelining/>pipelining</a></li><li><a href=/compiler-team/working-groups/polonius/>polonius</a></li><li><a href=/compiler-team/working-groups/polymorphization/>polymorphization</a></li><li><a href=/compiler-team/working-groups/prioritization/>Prioritization</a></li><li><a href=/compiler-team/working-groups/rfc-2229/>rfc-2229</a></li><li><a href=/compiler-team/working-groups/rls-2.0/>rls-2.0</a></li><li><a href=/compiler-team/working-groups/self-profile/>Self Profile</a></li><li><a href=/compiler-team/working-groups/traits/>Traits</a></li></ul></li></ul></nav></aside><div class=book-page><header class="align-center justify-between book-header"><label for=menu-control><img src=/compiler-team/svg/menu.svg alt=Menu>
</label><strong>T Compiler Meeting Agenda 2022 12 15</strong></header><article class=markdown><h1 id=t-compiler-meeting-agenda-2022-12-15>T-compiler Meeting Agenda 2022-12-15</h1><h2 id=announcements>Announcements</h2><ul><li>Today release of Rust stable 1.66</li><li><a href="https://www.google.com/calendar/event?eid=MDJyYnJ1cGFtdWR1c2lnNjFmcHJ2b3JlODFfMjAyMjEyMTZUMTUwMDAwWiA2dTVycnRjZTZscnR2MDdwZmkzZGFtZ2p1c0Bn">Compiler Team Planning meeting</a> at <a href=time:2022-12-16T10:00:00-05:00>time:2022-12-16T10:00:00-05:00</a></li><li>Reminder: if you see a PR/issue that seems like there might be legal implications due to copyright/IP/etc, please let the Core team know (or at least message @<em><strong>pnkfelix</strong> or @</em><strong>Wesley Wiser</strong> so we can pass it along).</li></ul><h3 id=other-wg-meetings-calendar-linkhttpscalendargooglecomcalendarembedsrc6u5rrtce6lrtv07pfi3damgjus40groupcalendargooglecom>Other WG meetings (<a href="https://calendar.google.com/calendar/embed?src=6u5rrtce6lrtv07pfi3damgjus%40group.calendar.google.com">calendar link</a>)</h3><ul><li><a href="https://www.google.com/calendar/event?eid=YnUxNDd2cjY3dGkxOWNnMWp1dWFpc2U5dnBfMjAyMjEyMTlUMTUwMDAwWiA2dTVycnRjZTZscnR2MDdwZmkzZGFtZ2p1c0Bn">[Types team] Shallow subtyping weekly meeting</a> at <a href=time:2022-12-19T10:00:00-05:00>time:2022-12-19T10:00:00-05:00</a></li><li><a href="https://www.google.com/calendar/event?eid=cXZ1NGZncDF1dXA1NnVnMnA1M2Mzb2lvdWVfMjAyMjEyMTlUMTYzMDAwWiA2dTVycnRjZTZscnR2MDdwZmkzZGFtZ2p1c0Bn">Async WG triage meeting</a> at <a href=time:2022-12-19T11:30:00-05:00>time:2022-12-19T11:30:00-05:00</a></li><li><a href="https://www.google.com/calendar/event?eid=Y3VpY2NkbXBoZTJkMHJmcmZxZmU4MjhodDBfMjAyMjEyMTlUMjEwMDAwWiA2dTVycnRjZTZscnR2MDdwZmkzZGFtZ2p1c0Bn">[wg-traits] GATs Sync</a> at <a href=time:2022-12-19T16:00:00-05:00>time:2022-12-19T16:00:00-05:00</a></li></ul><h2 id=mcpsfcps>MCPs/FCPs</h2><ul><li>New MCPs (take a look, see if you like them!)<ul><li>&ldquo;Upgrade <code>*-linux-musl</code> targets to musl 1.2&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/572>compiler-team#572</a></li></ul></li><li>Old MCPs (not seconded, take a look)<ul><li>&ldquo;Add <code>#[alias]</code> attribute to allow symbol aliasing&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/526>compiler-team#526</a> (last review activity: 4 months ago)</li><li>" Promote <code>i586-unknown-linux-gnu</code> to Tier 2 with Host Tools " <a href=https://github.com/rust-lang/compiler-team/issues/543>compiler-team#543</a> (last review activity: 3 months ago)</li><li>&ldquo;Lower baseline expectations for i686 unix-like targets&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/548>compiler-team#548</a> (last review activity: 3 months ago)</li><li>&ldquo;configurable rustc timeout for compiletest tests&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/554>compiler-team#554</a> (last review activity: 3 months ago)</li><li>&ldquo;Rustc Contributor Program Major Change Proposal&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/557>compiler-team#557</a> (last review activity: about 51 days ago)</li><li>&ldquo;Introduce a <code>#[rustc::*]</code> tool attribute namespace and provide a stable <code>#[rustc::on_unimplemented]</code> attribute&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/560>compiler-team#560</a> (last review activity: about 57 days ago)</li><li>&ldquo;<code>-Z instrument-xray</code> option&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/561>compiler-team#561</a> (last review activity: about 57 days ago)</li></ul></li><li>Pending FCP requests (check your boxes!)<ul><li>&ldquo;Add <code>SEMICOLON_IN_EXPRESSIONS_FROM_MACROS</code> to future-incompat report&rdquo; <a href=https://github.com/rust-lang/rust/pull/103418#issuecomment-1307473562>rust#103418</a></li><li>&ldquo;Change <code>bindings_with_variant_name</code> to deny-by-default&rdquo; <a href=https://github.com/rust-lang/rust/pull/104154#issuecomment-1307473562>rust#104154</a></li></ul></li><li>Things in FCP (make sure you&rsquo;re good with it)<ul><li>&ldquo;Arbitrary annotations in compiletest&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/513>compiler-team#513</a></li><li>&ldquo;New tier-3 targets for OpenHarmony&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/568>compiler-team#568</a></li><li>&ldquo;Encode spans relative to the enclosing item &ndash; enable by default&rdquo; <a href=https://github.com/rust-lang/rust/pull/84762>rust#84762</a></li></ul></li><li>Accepted MCPs<ul><li>No new accepted proposals this time.</li></ul></li><li>Finalized FCPs (disposition merge)<ul><li>&ldquo;Make PROC_MACRO_DERIVE_RESOLUTION_FALLBACK a hard error&rdquo; <a href=https://github.com/rust-lang/rust/pull/84022>rust#84022</a></li><li>&ldquo;Make <code>Sized</code> coinductive, again&rdquo; <a href=https://github.com/rust-lang/rust/pull/100386>rust#100386</a></li><li>&ldquo;Elaborate supertrait obligations when deducing closure signatures&rdquo; <a href=https://github.com/rust-lang/rust/pull/101834>rust#101834</a></li><li>&ldquo;make const_err a hard error&rdquo; <a href=https://github.com/rust-lang/rust/pull/102091>rust#102091</a></li><li>&ldquo;make <code>order_dependent_trait_objects</code> show up in future-breakage reports&rdquo; <a href=https://github.com/rust-lang/rust/pull/102635>rust#102635</a></li><li>&ldquo;Stabilize raw-dylib for non-x86&rdquo; <a href=https://github.com/rust-lang/rust/issues/102793>rust#102793</a></li><li>&ldquo;Use <code>token::Lit</code> in <code>ast::ExprKind::Lit</code>.&rdquo; <a href=https://github.com/rust-lang/rust/pull/102944>rust#102944</a></li><li>&ldquo;Remove drop order twist of && and || and make them associative&rdquo; <a href=https://github.com/rust-lang/rust/pull/103293>rust#103293</a></li><li>&ldquo;Unreserve braced enum variants in value namespace&rdquo; <a href=https://github.com/rust-lang/rust/pull/103578>rust#103578</a></li><li>&ldquo;Remove const eval limit and implement an exponential backoff lint instead&rdquo; <a href=https://github.com/rust-lang/rust/pull/103877>rust#103877</a></li><li>&ldquo;Stabilize native library modifier <code>verbatim</code>&rdquo; <a href=https://github.com/rust-lang/rust/pull/104360>rust#104360</a></li><li>&ldquo;Expand a style-guide principle: readability in plain text&rdquo; <a href=https://github.com/rust-lang/rust/pull/104506>rust#104506</a></li><li>&ldquo;Find the right lower bound region in the scenario of partial order relations&rdquo; <a href=https://github.com/rust-lang/rust/pull/104765>rust#104765</a></li></ul></li></ul><h3 id=wg-checkins>WG checkins</h3><ul><li><p>@_<em>WG-llvm</em> by @<strong>nagisa</strong> and @<strong>Nikita Popov</strong> (<a href=https://hackmd.io/Q16ULE5gQG6embjLHEFREg#WG-checkins>previous checkin</a>):</p><blockquote><ul><li>@<strong>Patrick Walton</strong> has done some investigations into memcpy elimination and proposed a new transform in <a href=https://reviews.llvm.org/D140089>https://reviews.llvm.org/D140089</a>. The big LLVM memcpy eliminator patch is up â€” 17% reduction in Rust memcpys now, with up to 42% possible in the future with more MIR optimization work.</li></ul></blockquote><blockquote><p>LLVM 16 is expected to branch Jan 24, so we&rsquo;ll be starting the LLVM 16 upgrade around that time. A key blocker on the Rust side is the mingw-w64 upgrade (<a href=https://github.com/rust-lang/rust/pull/100178)>https://github.com/rust-lang/rust/pull/100178)</a>.</p></blockquote><blockquote><p>Note from @_<strong>apiraino</strong>: mingw-w64 upgrade was nominated for a <a href=https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-11-10/near/309020772>previous meeting</a> (&ldquo;to consider the compatibility aspect, at least&rdquo;). If <code>T-compiler</code> if fine with the upgrade, it might be good to explicit that so nobody feels this is blocked on some decision.</p></blockquote></li><li><p>Types team by @<strong>nikomatsakis</strong> and @<strong>Jack Huey</strong> (<a href=https://hackmd.io/Q16ULE5gQG6embjLHEFREg#WG-checkins>previous checkin</a>):</p><blockquote><p>We had an in-person meetup Nov. 30th - Dec. 2nd. We discussed a bunch of things like: types-y tracking issues; unsound issues; some &ldquo;end user&rdquo; features and how we get there; roadmap for short, medium, long-term; and a planning for the trait solver rewrite/refactor.
We&rsquo;re planing to write a blog post &ldquo;officially&rdquo; announcing the team, some of things we&rsquo;ve accomplished since forming, and our roadmap and goals.
We&rsquo;re on pause for meetings for the holidays.</p></blockquote></li></ul><h2 id=backport-nominations>Backport nominations</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-compiler">T-compiler beta</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-compiler">T-compiler stable</a></p><ul><li>:beta: &ldquo;Mangle &ldquo;main&rdquo; as &ldquo;__main_void&rdquo; on wasm32-wasi&rdquo; <a href=https://github.com/rust-lang/rust/pull/105468>rust#105468</a><ul><li>nominated for 1.67.0-beta by @<strong>cuviper</strong></li><li>backport this change as needed by wasm32-wasi since #105395</li></ul></li><li>No stable nominations for <code>T-compiler</code> this time.</li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-rustdoc">T-rustdoc beta</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-rustdoc">T-rustdoc stable</a></p><ul><li>No backport nominations for <code>T-rustdoc</code> this time.</li></ul><p>:back: / :shrug: / :hand:</p><h2 id=prs-s-waiting-on-team>PRs S-waiting-on-team</h2><p><a href="https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-compiler">T-compiler</a></p><ul><li>&ldquo;always check alignment during CTFE&rdquo; <a href=https://github.com/rust-lang/rust/pull/104616>rust#104616</a><ul><li>@<strong>pnkfelix</strong> posted summary of the <a href=https://github.com/rust-lang/rust/pull/104616#issuecomment-1349592936>T-lang meeting</a></li><li>PR now has assigned a T-compiler reviewer</li></ul></li><li>&ldquo;Encode spans relative to the enclosing item &ndash; enable by default&rdquo; <a href=https://github.com/rust-lang/rust/pull/84762>rust#84762</a><ul><li>entered in FCP: will be accepted if no further comments</li></ul></li><li>(other hidden issues in progress or waiting on other teams, <a href=https://hackmd.io/XYr1BrOWSiqCrl8RCWXRaQ>details here</a>)</li></ul><h2 id=oldest-prs-waiting-for-review>Oldest PRs waiting for review</h2><p><a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-asc+label%3AS-waiting-on-review+draft%3Afalse+label%3AT-compiler+-label%3AT-lang+-label%3AT-infra+-label%3AT-release+-label%3AT-libs+-label%3AT-libs-api">T-compiler</a></p><ul><li>&ldquo;support higher-ranked regions in opaque type inference&rdquo; <a href=https://github.com/rust-lang/rust/pull/100503>rust#100503</a> (last review activity: 2 months ago)<ul><li>cc: @<strong>nikomatsakis</strong> <a href=https://github.com/rust-lang/rust/pull/100503#pullrequestreview-1119430454>to review</a></li></ul></li><li>&ldquo;stop special-casing <code>'static</code> in evaluation&rdquo; <a href=https://github.com/rust-lang/rust/pull/102472>rust#102472</a> (last review activity: 2 months ago)<ul><li>cc: @<strong>nikomatsakis</strong> - or reassign?</li><li><code>S-blocked</code> on &ldquo;changing the <code>order_dependent_trait_objects</code> future-compat lint to a hard error&rdquo;: maybe tag <code>T-lang</code>?</li></ul></li><li>&ldquo;[<code>unused_braces</code>] Lint multiline blocks as long as not in arms&rdquo; <a href=https://github.com/rust-lang/rust/pull/102432>rust#102432</a> (last review activity: 2 months ago)<ul><li>cc: @<strong>Caleb Cartwright</strong> (left <a href=https://github.com/rust-lang/rust/pull/102432#issuecomment-1265358906>some concerns</a>)</li></ul></li><li>&ldquo;Fix #99684 through autoref in <code>write!</code> macro with a two-phased borrows retrocompat workaround&rdquo; <a href=https://github.com/rust-lang/rust/pull/100202>rust#100202</a> (last review activity: 2 months ago)<ul><li>pinging past reviewers: @<strong>David Tolnay</strong> @<strong>eddyb</strong> (also for <a href=https://github.com/rust-lang/rust/pull/100202#discussion_r990780307>comment</a>)</li></ul></li><li>&ldquo;make a help text for &lsquo;cannot find macro&rsquo; actionable&rdquo; <a href=https://github.com/rust-lang/rust/pull/102881>rust#102881</a> (last review activity: 2 months ago)<ul><li>pending <a href=https://github.com/rust-lang/rust/pull/102881#discussion_r992200121>question</a> for @<strong>Michael Goulet (compiler-errors)</strong></li><li>@<strong>TaKO8Ki</strong> autoassigned review - reassign?</li></ul></li></ul><h2 id=issues-of-note>Issues of Note</h2><h3 id=short-summary>Short Summary</h3><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical">1 T-compiler P-critical issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical+no%3Aassignee">0 of those are unassigned</a></li></ul></li><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high">51 T-compiler P-high issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high+no%3Aassignee">20 of those are unassigned</a></li></ul></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta>0 P-critical, 0 P-high, 0 P-medium, 0 P-low regression-from-stable-to-beta</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly>0 P-critical, 1 P-high, 4 P-medium, 1 P-low regression-from-stable-to-nightly</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-stable>2 P-critical, 30 P-high, 87 P-medium, 7 P-low regression-from-stable-to-stable</a></li></ul><h3 id=p-critical>P-critical</h3><p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-compiler">T-compiler</a></p><ul><li>&ldquo;Seg fault in Rust 1.65.0 if I don&rsquo;t create temporary variable&rdquo; <a href=https://github.com/rust-lang/rust/issues/105295>rust#105295</a><ul><li>Should be fixed by <a href=https://github.com/rust-lang/rust/pull/105483>rust#105483</a> by @<strong>Michael Goulet (compiler-errors)</strong></li><li>#105483 <a href=https://github.com/rust-lang/rust/pull/105483#issuecomment-1345630257>is on FCP</a> and waiting feedback</li></ul></li></ul><p><a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+label%3AP-critical+label%3AT-rustdoc">T-rustdoc</a></p><ul><li>No <code>P-critical</code> issues for <code>T-rustdoc</code> this time.</li></ul><h3 id=p-high-regressions>P-high regressions</h3><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-beta+label%3AP-high+-label%3AT-infra+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">P-high beta regressions</a></p><ul><li>No <code>P-high</code> beta regressions this time.</li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-nightly+label%3AP-high+no%3Aassignee+-label%3AT-infra+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">Unassigned P-high nightly regressions</a></p><ul><li>No unassigned <code>P-high</code> nightly regressions this time.</li></ul><h2 id=performance-logs>Performance logs</h2><blockquote><p><a href=https://github.com/rust-lang/rustc-perf/blob/76be3cb667de49930f1f3eda7ec6c0e17a6d7d45/triage/2022-12-13.md>triage logs for 2022-12-13</a></p></blockquote><p>Fairly quiet week with the only excitement coming from a nice improvement implemented by @nnethercote which fixed a pesky performance regressions in the linting system. This produced a 0.6% performance improvement across a large amount of the real world crates we test against.</p><p>Triage done by <strong>@rylev</strong>.
Revision range: <a href="https://perf.rust-lang.org/?start=9db224fc908059986c179fc6ec433944e9cfce50&amp;end=109cccbe4f345c0f0785ce860788580c3e2a29f5&amp;absolute=false&amp;stat=instructions%3Au">9db224fc..109cccbe</a></p><p><strong>Summary</strong>:</p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.2%</td><td style=text-align:center>[0.2%, 0.2%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>1.7%</td><td style=text-align:center>[0.3%, 3.3%]</td><td style=text-align:center>11</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.8%</td><td style=text-align:center>[-2.2%, -0.2%]</td><td style=text-align:center>129</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-1.2%</td><td style=text-align:center>[-4.4%, -0.1%]</td><td style=text-align:center>97</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.7%</td><td style=text-align:center>[-2.2%, 0.2%]</td><td style=text-align:center>132</td></tr></tbody></table><p>2 Regressions, 2 Improvements, 4 Mixed; 3 of them in rollups
41 artifact comparisons made in total</p><h4 id=regressions>Regressions</h4><p>Rollup of 9 pull requests <a href=https://github.com/rust-lang/rust/pull/105378>#105378</a> <a href="https://perf.rust-lang.org/compare.html?start=e60fbaf4ce768d13a6abc048bd34ee12995d18dc&amp;end=b28d30e1e3c2b90fd08b7dd79d8e63884d1e0339&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>1.9%</td><td style=text-align:center>[0.2%, 4.4%]</td><td style=text-align:center>12</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.8%</td><td style=text-align:center>[-0.8%, -0.8%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr></tbody></table><ul><li>Suspicion is that <a href=https://github.com/rust-lang/rust/pull/105250>#105250</a> is the cause. Running a regression test to confirm.</li><li>This is small enough that it&rsquo;s not worth stressing about.</li></ul><p>Fast-path some binder relations <a href=https://github.com/rust-lang/rust/pull/105350>#105350</a> <a href="https://perf.rust-lang.org/compare.html?start=71ec1457ee9868a838e4521a3510cdd416c0c295&amp;end=109cccbe4f345c0f0785ce860788580c3e2a29f5&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>1.1%</td><td style=text-align:center>[1.0%, 1.2%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>2.3%</td><td style=text-align:center>[2.0%, 2.7%]</td><td style=text-align:center>6</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>1.1%</td><td style=text-align:center>[1.0%, 1.2%]</td><td style=text-align:center>2</td></tr></tbody></table><ul><li>This is noise. The regression cancel out the improvements in the exact same test cases from the previous commit which is a very strong indicator that this is noise.</li></ul><h4 id=improvements>Improvements</h4><p>Fix lint perf regressions <a href=https://github.com/rust-lang/rust/pull/105485>#105485</a> <a href="https://perf.rust-lang.org/compare.html?start=ee6533d7408f1447c028025c883a34c904d25ba4&amp;end=b397bc0727ad27340466166455c6edd327a589c4&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.6%</td><td style=text-align:center>[-1.5%, -0.2%]</td><td style=text-align:center>138</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.8%</td><td style=text-align:center>[-2.5%, -0.2%]</td><td style=text-align:center>93</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.6%</td><td style=text-align:center>[-1.5%, -0.2%]</td><td style=text-align:center>138</td></tr></tbody></table><p>Inline and remove <code>place_contents_drop_state_cannot_differ</code>. <a href=https://github.com/rust-lang/rust/pull/105436>#105436</a> <a href="https://perf.rust-lang.org/compare.html?start=b96d9e0e20adb7716aa32a56fe96fde15c75d517&amp;end=71ec1457ee9868a838e4521a3510cdd416c0c295&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.8%</td><td style=text-align:center>[-1.2%, -0.4%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-2.2%</td><td style=text-align:center>[-2.6%, -2.0%]</td><td style=text-align:center>6</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.8%</td><td style=text-align:center>[-1.2%, -0.4%]</td><td style=text-align:center>3</td></tr></tbody></table><ul><li>These are noise and went away in the next commit</li></ul><h4 id=mixed>Mixed</h4><p>Rollup of 10 pull requests <a href=https://github.com/rust-lang/rust/pull/105486>#105486</a> <a href="https://perf.rust-lang.org/compare.html?start=badd6a5a03e87920259e1510e710526b51faadbe&amp;end=14ca83a04b00433a8caf3b805d5ea08cb2691e1b&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>[0.4%, 0.4%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-3.9%</td><td style=text-align:center>[-4.0%, -3.8%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>[0.4%, 0.4%]</td><td style=text-align:center>1</td></tr></tbody></table><ul><li>A single tiny regression on a doc profiler, not worth worrying about. (<a href=https://github.com/rust-lang/rust/pull/105486#issuecomment-1344956405>commented here</a>)</li></ul><p>Rollup of 9 pull requests <a href=https://github.com/rust-lang/rust/pull/105512>#105512</a> <a href="https://perf.rust-lang.org/compare.html?start=0d5573e6daf99a5b98ace3dfcc4be2eb64867169&amp;end=a000811405e6a3ca9b0b129c1177e78564e09666&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>1.1%</td><td style=text-align:center>[1.1%, 1.1%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-0.2%, -0.2%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.4%</td><td style=text-align:center>[-0.6%, -0.2%]</td><td style=text-align:center>6</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-0.2%, -0.2%]</td><td style=text-align:center>1</td></tr></tbody></table><ul><li>The regressions is small in absolute terms, only in instructions count, it&rsquo;s a short stress test that doesn&rsquo;t seem to be the only one to exercize some codepath changed in this PR. Nothing jumps out in the rolled up PRs nor seems to apply to the other benchmarks. There are also small wins elsewhere, so this seems fine. (<a href=https://github.com/rust-lang/rust/pull/105512#issuecomment-1345337596>commented here</a>)</li></ul><p>Group some fields in a common struct so we only pass one reference instead of three <a href=https://github.com/rust-lang/rust/pull/105357>#105357</a> <a href="https://perf.rust-lang.org/compare.html?start=a000811405e6a3ca9b0b129c1177e78564e09666&amp;end=cbc70ff277dda8b7f227208eff789f1f68b6de5a&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>[0.2%, 0.7%]</td><td style=text-align:center>23</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>[0.1%, 0.7%]</td><td style=text-align:center>22</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.5%</td><td style=text-align:center>[-0.8%, -0.2%]</td><td style=text-align:center>33</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.9%</td><td style=text-align:center>[-1.4%, -0.2%]</td><td style=text-align:center>18</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.1%</td><td style=text-align:center>[-0.8%, 0.7%]</td><td style=text-align:center>56</td></tr></tbody></table><ul><li>Wins appear to roughly equal or slightly outweigh the losses here. (<a href=https://github.com/rust-lang/rust/pull/105357#issuecomment-1345499340>commented here</a>)</li></ul><p>Remove <code>token::Lit</code> from <code>ast::MetaItemLit</code>. <a href=https://github.com/rust-lang/rust/pull/105160>#105160</a> <a href="https://perf.rust-lang.org/compare.html?start=b397bc0727ad27340466166455c6edd327a589c4&amp;end=2cd2070af7643ad88d280a4933bc4fb60451e521&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>1.0%</td><td style=text-align:center>[1.0%, 1.0%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.9%</td><td style=text-align:center>[-1.0%, -0.8%]</td><td style=text-align:center>5</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.9%</td><td style=text-align:center>[-1.0%, -0.8%]</td><td style=text-align:center>5</td></tr></tbody></table><ul><li>There is a single trivial regression, which may or may not be real. (<a href=https://github.com/rust-lang/rust/pull/105160#issuecomment-1346170852>commented here</a>)</li></ul><h2 id=nominated-issues>Nominated Issues</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-compiler-nominated">T-compiler</a></p><ul><li>&ldquo;Android NDK r25b changes will break developers using r22b or older&rdquo; <a href=https://github.com/rust-lang/rust/issues/103673>rust#103673</a><ul><li>Nominated by @<strong>tmandry</strong> (<a href=https://github.com/rust-lang/rust/issues/103673#issuecomment-1343706914>comment</a>), basically needs someone driving the FCP mentioned in <a href=https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202022-11-10/near/309021929>previous meeting</a></li><li><a href=https://github.com/rust-lang/blog.rust-lang.org/pull/1055>draft blog post</a> announcing the NDK min. version update</li></ul></li><li>&ldquo;Temporarily disable building rustc with ThinLTO on <code>x86_64-unknown-linux-gnu</code> and <code>x86_64-pc-windows-msvc</code>&rdquo; <a href=https://github.com/rust-lang/rust/pull/105662>rust#105662</a><ul><li>ThinLTO on by default seems to &ldquo;regress the message we print during ICEs sometimes, including the query stack and explanation on how to open a GH issue&rdquo;</li><li>T-compiler to review: should we proceed and disable ThinLTO on CI temporarily also for linux+windows targets?</li></ul></li></ul><p><a href="https://github.com/rust-lang/rfcs/issues?q=is%3Aopen+label%3AI-compiler-nominated+label%3AT-compiler">RFC</a></p><ul><li>No nominated RFCs for <code>T-compiler</code> this time.</li></ul><h2 id=next-weeks-wg-checkins>Next week&rsquo;s WG checkins</h2><p>None (WG-checkins paused for a few weeks)</p></article></div><aside class="book-toc level-6 fixed"><nav id=TableOfContents><ul><li><a href=#announcements>Announcements</a><ul><li><a href=#other-wg-meetings-calendar-linkhttpscalendargooglecomcalendarembedsrc6u5rrtce6lrtv07pfi3damgjus40groupcalendargooglecom>Other WG meetings (<a href="https://calendar.google.com/calendar/embed?src=6u5rrtce6lrtv07pfi3damgjus%40group.calendar.google.com">calendar link</a>)</a></li></ul></li><li><a href=#mcpsfcps>MCPs/FCPs</a><ul><li><a href=#wg-checkins>WG checkins</a></li></ul></li><li><a href=#backport-nominations>Backport nominations</a></li><li><a href=#prs-s-waiting-on-team>PRs S-waiting-on-team</a></li><li><a href=#oldest-prs-waiting-for-review>Oldest PRs waiting for review</a></li><li><a href=#issues-of-note>Issues of Note</a><ul><li><a href=#short-summary>Short Summary</a></li><li><a href=#p-critical>P-critical</a></li><li><a href=#p-high-regressions>P-high regressions</a></li></ul></li><li><a href=#performance-logs>Performance logs</a><ul><li></li></ul></li><li><a href=#nominated-issues>Nominated Issues</a></li><li><a href=#next-weeks-wg-checkins>Next week&rsquo;s WG checkins</a></li></ul></nav></aside></main></body></html>