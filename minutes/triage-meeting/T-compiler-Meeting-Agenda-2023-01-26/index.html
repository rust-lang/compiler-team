<!doctype html><html lang=en><head><meta http-equiv=refresh content="0; url=https://forge.rust-lang.org/compiler/index.html"></head><body><input type=checkbox style=display:none id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav><h2 class=book-brand><a href=https://rust-lang.github.io/compiler-team/>Rust Lang - Compiler Team</a></h2><style>nav ul a[href$=\2f compiler-team\2fminutes\2ftriage-meeting\2fT-compiler-Meeting-Agenda-2023-01-26\2f ]{color:#004ed0}</style><ul><li><p><strong>About</strong></p><ul><li><a href=/compiler-team/about/CODE_OF_CONDUCT/>Code of Conduct</a></li><li><a href=/compiler-team/about/chat-platform/>Chat Platform</a></li><li><a href=/compiler-team/about/steering-meeting/>Steering Meeting</a></li><li><a href=/compiler-team/about/triage-meeting/>Triage Meeting</a></li></ul></li><li><p><strong>Minutes</strong></p><ul><li><a href=/compiler-team/minutes/design-meeting/>Design Meetings</a></li><li><a href=/compiler-team/minutes/steering-meeting/>Steering Meetings</a></li><li><a href=/compiler-team/minutes/triage-meeting/>Triage Meetings</a></li></ul></li><li><p><strong>Procedures</strong></p><ul><li><a href=/compiler-team/procedures/>Documentation</a></li><li><a href=/compiler-team/procedures/crates/>Crates</a></li><li><a href=/compiler-team/procedures/call-for-participation/>Call for participation</a></li><li><a href=/compiler-team/procedures/form-new-working-group/>Form new working group</a></li></ul></li><li><p><a href=/compiler-team/working-groups/><strong>Working Groups</strong></a></p><ul><li><a href=/compiler-team/working-groups/async-await/>Async Await</a></li><li><a href=/compiler-team/working-groups/debugging/>Debugging</a></li><li><a href=/compiler-team/working-groups/diagnostics/>Diagnostics</a></li><li><a href=/compiler-team/working-groups/rustc-dev-guide/>Rustc Dev Guide</a></li><li><a href=/compiler-team/working-groups/llvm/>LLVM</a></li><li><a href=/compiler-team/working-groups/meta/>Meta</a></li><li><a href=/compiler-team/working-groups/mir-opt/>MIR-opt</a></li><li><a href=/compiler-team/working-groups/nll/>NLL</a></li><li><a href=/compiler-team/working-groups/parallel-rustc/>parallel rustc</a></li><li><a href=/compiler-team/working-groups/pgo/>PGO</a></li><li><a href=/compiler-team/working-groups/pipelining/>pipelining</a></li><li><a href=/compiler-team/working-groups/polonius/>polonius</a></li><li><a href=/compiler-team/working-groups/polymorphization/>polymorphization</a></li><li><a href=/compiler-team/working-groups/prioritization/>Prioritization</a></li><li><a href=/compiler-team/working-groups/rfc-2229/>rfc-2229</a></li><li><a href=/compiler-team/working-groups/rls-2.0/>rls-2.0</a></li><li><a href=/compiler-team/working-groups/self-profile/>Self Profile</a></li><li><a href=/compiler-team/working-groups/traits/>Traits</a></li></ul></li></ul></nav></aside><div class=book-page><header class="align-center justify-between book-header"><label for=menu-control><img src=/compiler-team/svg/menu.svg alt=Menu>
</label><strong>T Compiler Meeting Agenda 2023 01 26</strong></header><article class=markdown><h1 id=t-compiler-meeting-agenda-2023-01-26>T-compiler Meeting Agenda 2023-01-26</h1><h2 id=announcements>Announcements</h2><ul><li>Today - release of Rust stable 1.67!</li><li><a href="https://www.google.com/calendar/event?eid=YnUxNDd2cjY3dGkxOWNnMWp1dWFpc2U5dnBfMjAyMzAxMzBUMTUwMDAwWiA2dTVycnRjZTZscnR2MDdwZmkzZGFtZ2p1c0Bn">[Types team] Shallow subtyping weekly meeting</a> at <a href=time:2023-01-30T10:00:00-05:00>time:2023-01-30T10:00:00-05:00</a></li><li>Reminder: if you see a PR/issue that seems like there might be legal implications due to copyright/IP/etc, please let the Core team know (or at least message @<em><strong>pnkfelix</strong> or @</em><strong>Wesley Wiser</strong> so we can pass it along).</li><li>@<strong>jyn</strong> : Does T-compiler want to be on the review rotation for PRs modifying <code>compiletest</code>?<ul><li>Some context at this <a href=https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/reminder.20for.20next.20meeting>Zulip topic</a></li><li>Also <a href=https://rust-lang.zulipchat.com/#narrow/stream/326414-t-infra.2Fbootstrap/topic/Meeting.202023-01-23/near/323064181>comment</a> from @__<strong>simulacrum</strong></li></ul></li></ul><h3 id=other-wg-meetings-calendar-linkhttpscalendargooglecomcalendarembedsrc6u5rrtce6lrtv07pfi3damgjus40groupcalendargooglecom>Other WG meetings (<a href="https://calendar.google.com/calendar/embed?src=6u5rrtce6lrtv07pfi3damgjus%40group.calendar.google.com">calendar link</a>)</h3><ul><li><a href="https://www.google.com/calendar/event?eid=NThidjZydmxhMmcyb25uYzNqMHY5czgyZjFfMjAyMzAxMjZUMTcwMDAwWiA2dTVycnRjZTZscnR2MDdwZmkzZGFtZ2p1c0Bn">wg-async weekly</a> at <a href=time:2023-01-26T12:00:00-05:00>time:2023-01-26T12:00:00-05:00</a></li><li><a href="https://www.google.com/calendar/event?eid=MXJnbzBscDExNHJjNmVsdGhsaW8xcDljMmdfMjAyMzAxMzBUMTUwMDAwWiA2dTVycnRjZTZscnR2MDdwZmkzZGFtZ2p1c0Bn">wg-rls-2.0 weekly sync-up</a> at <a href=time:2023-01-30T10:00:00-05:00>time:2023-01-30T10:00:00-05:00</a></li><li><a href="https://www.google.com/calendar/event?eid=cXZ1NGZncDF1dXA1NnVnMnA1M2Mzb2lvdWVfMjAyMzAxMzBUMTYzMDAwWiA2dTVycnRjZTZscnR2MDdwZmkzZGFtZ2p1c0Bn">Async WG triage meeting</a> at <a href=time:2023-01-30T11:30:00-05:00>time:2023-01-30T11:30:00-05:00</a></li><li><a href="https://www.google.com/calendar/event?eid=Y3VpY2NkbXBoZTJkMHJmcmZxZmU4MjhodDBfMjAyMzAxMzBUMjEwMDAwWiA2dTVycnRjZTZscnR2MDdwZmkzZGFtZ2p1c0Bn">[wg-traits] GATs Sync</a> at <a href=time:2023-01-30T16:00:00-05:00>time:2023-01-30T16:00:00-05:00</a></li></ul><h2 id=mcpsfcps>MCPs/FCPs</h2><ul><li>New MCPs (take a look, see if you like them!)<ul><li>No new proposals this time.</li></ul></li><li>Stale MCPs (tracked on <a href=https://hackmd.io/n53PZVXnSxSrvEcp1zrohA>HackMD</a>. Candidate for closing, see <a href=https://forge.rust-lang.org/compiler/mcp.html#when-should-major-change-proposals-be-closed>MCP procedure</a>)<ul><li>None at this time</li></ul></li><li>Old MCPs (not seconded, take a look)<ul><li>" Promote <code>i586-unknown-linux-gnu</code> to Tier 2 with Host Tools " <a href=https://github.com/rust-lang/compiler-team/issues/543>compiler-team#543</a> (last review activity: 5 months ago)</li><li>&ldquo;Lower baseline expectations for i686 unix-like targets&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/548>compiler-team#548</a> (last review activity: about 33 days ago)</li><li>&ldquo;configurable rustc timeout for compiletest tests&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/554>compiler-team#554</a> (last review activity: about 13 days ago)</li><li>&ldquo;Rustc Contributor Program Major Change Proposal&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/557>compiler-team#557</a> (last review activity: about 14 days ago)</li><li>&ldquo;<code>needs_drop</code> as an auto trait&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/575>compiler-team#575</a> (last review activity: about 20 days ago)</li><li>&ldquo;Store ICE backtraces to disk and point end users at the file location&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/578>compiler-team#578</a> (last review activity: about 12 days ago)</li><li>&ldquo;Add builtin# for compiler-intrinsic syntax&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/580>compiler-team#580</a> (last review activity: about 1 days ago)</li></ul></li><li>Pending FCP requests (check your boxes!)<ul><li>&ldquo;Make <code>unused_allocation</code> lint against <code>Box::new</code> too&rdquo; <a href=https://github.com/rust-lang/rust/pull/104363#issuecomment-1376858371>rust#104363</a></li><li>&ldquo;Add deployment-target &ndash;print flag for Apple targets&rdquo; <a href=https://github.com/rust-lang/rust/pull/105354#issuecomment-1354546850>rust#105354</a></li><li>&ldquo;Support <code>true</code> and <code>false</code> as boolean flag params&rdquo; <a href=https://github.com/rust-lang/rust/pull/107043#issuecomment-1397607649>rust#107043</a></li></ul></li><li>Things in FCP (make sure you&rsquo;re good with it)<ul><li>&ldquo;<code>-Z instrument-xray</code> option&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/561>compiler-team#561</a></li></ul></li><li>Accepted MCPs<ul><li>&ldquo;Upgrade <code>*-linux-musl</code> targets to musl 1.2&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/572>compiler-team#572</a></li><li>&ldquo;New tier-2 target for <code>wasm32-wasi</code> + threads&rdquo; <a href=https://github.com/rust-lang/compiler-team/issues/574>compiler-team#574</a></li></ul></li><li>Finalized FCPs (disposition merge)<ul><li>&ldquo;rustdoc: change trait bound formatting&rdquo; <a href=https://github.com/rust-lang/rust/pull/102842>rust#102842</a></li><li>&ldquo;Add <code>SEMICOLON_IN_EXPRESSIONS_FROM_MACROS</code> to future-incompat report&rdquo; <a href=https://github.com/rust-lang/rust/pull/103418>rust#103418</a></li><li>&ldquo;Check ADT fields for copy implementations considering regions&rdquo; <a href=https://github.com/rust-lang/rust/pull/105102>rust#105102</a></li></ul></li></ul><h3 id=wg-checkins>WG checkins</h3><ul><li><p>@_<em>WG-rustc-dev-guide</em> by @<strong>Santiago Pastorino</strong> and @<strong>Yuki Okushi|217081</strong> (<a href=https://hackmd.io/5APqeR9MSjebq_xZjZjxKA#WG-checkins>previous checkin</a>):</p><blockquote><h4 id=most-notable-changes>Most notable changes</h4><ul><li>Add a section for how to review code more easily <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1538>#1538</a></li><li>Add help for when you update a submodule by accident <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1537>#1537</a></li><li>Add more rebasing help <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1536>#1536</a></li><li>Add documentation for LLVM KCFI support <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1529>#1529</a></li><li>Simplify &ldquo;how to build and run&rdquo; section <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1528>#1528</a></li><li>Remove TyS <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1526>#1526</a></li></ul><h4 id=most-notable-wips>Most notable WIPs</h4><ul><li>wip: extend bootstrap related documentations <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1563>#1563</a></li><li>bootsrapping stages overview list <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1555>#1555</a></li><li>add section for the new trait solver <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1551>#1551</a></li><li>Add Neovim configuration information <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1545>#1545</a></li><li>Add back the <code>canonicalization</code> chapter. <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1532>#1532</a></li><li>Create a chapter for AST validation <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1524>#1524</a></li><li>Add a review checklist and suggest reviews as a way to get started with the project <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1463>#1463</a></li><li>Improve documentation of MIR queries & passes <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1434>#1434</a></li><li>Document inert vs active attributes <a href=https://github.com/rust-lang/rustc-dev-guide/pull/1110>#1110</a></li></ul></blockquote></li><li><p>Impl Trait initiative by @<strong>oli</strong> (<a href=https://hackmd.io/5APqeR9MSjebq_xZjZjxKA#WG-checkins>previous checkin</a>):</p><blockquote><p>TAIT stabilization FCP started. Leftover blockers: more documentation and landing open PRs</p></blockquote></li></ul><h2 id=backport-nominations>Backport nominations</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-compiler">T-compiler stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-compiler">T-compiler beta</a></p><ul><li>No beta nominations for <code>T-compiler</code> this time.</li><li>No stable nominations for <code>T-compiler</code> this time.</li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-rustdoc">T-rustdoc stable</a> / <a href="https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-rustdoc">T-rustdoc beta</a></p><ul><li>No beta nominations for <code>T-rustdoc</code> this time.</li><li>No stable nominations for <code>T-rustdoc</code> this time.</li></ul><p>:back: / :shrug: / :hand:</p><h2 id=prs-s-waiting-on-team>PRs S-waiting-on-team</h2><p><a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-compiler">T-compiler</a></p><ul><li>None (<a href=https://hackmd.io/XYr1BrOWSiqCrl8RCWXRaQ>issues in progress or waiting on other teams</a>)</li></ul><h2 id=oldest-prs-waiting-for-review>Oldest PRs waiting for review</h2><p><a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-asc+label%3AS-waiting-on-review+draft%3Afalse+label%3AT-compiler+-label%3AT-lang+-label%3AT-infra+-label%3AT-release+-label%3AT-libs+-label%3AT-libs-api">T-compiler</a></p><ul><li>&ldquo;add <code>with_hash_task</code> to generate <code>DepNode</code> deterministically&rdquo; <a href=https://github.com/rust-lang/rust/pull/100987>rust#100987</a> (last review activity: 3 months ago)<ul><li>ping @<strong>cjgillot</strong> for another look</li></ul></li><li>&ldquo;Parse unnamed struct and union fields&rdquo; <a href=https://github.com/rust-lang/rust/pull/99754>rust#99754</a> (last review activity: 2 months ago)<ul><li>cc: @<strong>cjgillot</strong></li></ul></li><li>&ldquo;Remove dead unwinds before drop elaboration&rdquo; <a href=https://github.com/rust-lang/rust/pull/106430>rust#106430</a> (last review activity: about 21 days ago)<ul><li>assigned to <del>@<strong>nils (Nilstrieb)</strong></del> @<strong>Wesley Wiser</strong></li></ul></li></ul><h2 id=issues-of-note>Issues of Note</h2><h3 id=short-summary>Short Summary</h3><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical">1 T-compiler P-critical issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical+no%3Aassignee">0 of those are unassigned</a></li></ul></li><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high">49 T-compiler P-high issues</a><ul><li><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high+no%3Aassignee">20 of those are unassigned</a></li></ul></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta>1 P-critical, 2 P-high, 3 P-medium, 0 P-low regression-from-stable-to-beta</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly>0 P-critical, 1 P-high, 4 P-medium, 1 P-low regression-from-stable-to-nightly</a></li><li><a href=https://github.com/rust-lang/rust/labels/regression-from-stable-to-stable>1 P-critical, 29 P-high, 90 P-medium, 8 P-low regression-from-stable-to-stable</a></li></ul><h3 id=p-critical>P-critical</h3><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AP-critical+label%3AT-compiler">T-compiler</a></p><ul><li>&ldquo;regression: failed to resolve proc macro definition&rdquo; <a href=https://github.com/rust-lang/rust/issues/106337>rust#106337</a><ul><li>already discussed: #107133 will revert #84022</li><li><a href=https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202023-01-19/near/322310016>Was also discussed</a> whether to revert #103760 (unsure if it was reverted)</li></ul></li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AP-critical+label%3AT-types">T-types</a></p><ul><li>No <code>P-critical</code> issues for <code>T-types</code> this time.</li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AP-critical+label%3AT-rustdoc">T-rustdoc</a></p><ul><li>No <code>P-critical</code> issues for <code>T-rustdoc</code> this time.</li></ul><h3 id=p-high-regressions>P-high regressions</h3><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-beta+label%3AP-high+-label%3AT-infra+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">P-high beta regressions</a></p><ul><li>&ldquo;Regression in Beta/Nightly: implementation of <code>Trait</code> is not general enough&rdquo; <a href=https://github.com/rust-lang/rust/issues/106630>rust#106630</a><ul><li>Reverted by <a href=https://github.com/rust-lang/rust/pull/106759>#106759</a> by @<strong>Michael Goulet (compiler-errors)</strong></li></ul></li><li>&ldquo;Windows builds fail to link C++ static library&rdquo; <a href=https://github.com/rust-lang/rust/issues/107162>rust#107162</a><ul><li>Assigned <code>P-high</code> (though not completely sure, see <a href=https://rust-lang.zulipchat.com/#narrow/stream/245100-t-compiler.2Fwg-prioritization.2Falerts/topic/.23107162.20Windows.20builds.20fail.20to.20link.20C.2B.2B.20static.20library>comment</a>)</li><li>opened recently, seems caused by #97485</li></ul></li></ul><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-nightly+label%3AP-high+no%3Aassignee+-label%3AT-infra+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core">Unassigned P-high nightly regressions</a></p><ul><li>No unassigned <code>P-high</code> nightly regressions this time.</li></ul><h2 id=performance-logs>Performance logs</h2><blockquote><p><a href=https://github.com/rust-lang/rustc-perf/blob/c1288eb644a7681842dbb885686366d5af64a71f/triage/2023-01-24.md>triage logs for 2023-01-24</a></p></blockquote><p>Largely a win for compiler performance with 100 test cases in real-world crates showing some sort of change in performance with an average 1% improvement. These wins were a combination of many different changes including how <code>doc(hidden)</code> gets more efficiently encoded in metadata, some optimizations in the borrow checker, and simplification of the output from <code>derive(Debug)</code> for fieldless enums.</p><p>Triage done by <strong>@rylev</strong>.
Revision range: <a href="https://perf.rust-lang.org/?start=1f72129ffe5e8c495113f9a2d4e1730f7fad3209&amp;end=c8e6a9e8b6251bbc8276cb78cabe1998deecbed7&amp;absolute=false&amp;stat=instructions%3Au">1f72129f..c8e6a9e8</a></p><p><strong>Summary</strong>:</p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.4%</td><td style=text-align:center>[0.2%, 0.7%]</td><td style=text-align:center>19</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.9%</td><td style=text-align:center>[0.2%, 1.5%]</td><td style=text-align:center>34</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-1.3%</td><td style=text-align:center>[-17.2%, -0.2%]</td><td style=text-align:center>81</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-2.1%</td><td style=text-align:center>[-7.1%, -0.2%]</td><td style=text-align:center>64</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-1.0%</td><td style=text-align:center>[-17.2%, 0.7%]</td><td style=text-align:center>100</td></tr></tbody></table><p>2 Regressions, 5 Improvements, 3 Mixed; 1 of them in rollups
34 artifact comparisons made in total</p><h4 id=regressions>Regressions</h4><p>Check ADT fields for copy implementations considering regions <a href=https://github.com/rust-lang/rust/pull/105102>#105102</a> <a href="https://perf.rust-lang.org/compare.html?start=5ce39f42bd2c8bca9c570f0560ebe1fce4eddb14&amp;end=94a300b9b8eb253c1b809fc44b8c213fd591c537&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.5%</td><td style=text-align:center>[0.4%, 0.5%]</td><td style=text-align:center>6</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>1.7%</td><td style=text-align:center>[1.4%, 2.0%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.5%</td><td style=text-align:center>[0.4%, 0.5%]</td><td style=text-align:center>6</td></tr></tbody></table><ul><li>Soundness fix, combined with a small regression means we likely don&rsquo;t need to worry too much about this one.</li><li><a href=https://github.com/rust-lang/rust/pull/105102#issuecomment-1403713334>Asked the author and reviewer to comment.</a></li></ul><p>ci: upgrade mingw-check to ubuntu:22.04 <a href=https://github.com/rust-lang/rust/pull/106948>#106948</a> <a href="https://perf.rust-lang.org/compare.html?start=52372f9c71d8ade4cb815524f179119656f0aa2e&amp;end=1c394e1b9abf83f26d68f441e9f0ef0062bde703&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.3%, 0.3%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.7%</td><td style=text-align:center>[0.6%, 0.8%]</td><td style=text-align:center>6</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.3%, 0.3%]</td><td style=text-align:center>2</td></tr></tbody></table><ul><li>This is noise correcting from <a href="https://perf.rust-lang.org/compare.html?start=005fc0f00f2d4ceaf523b67a8f9c5665b8ac5baf&amp;end=52372f9c71d8ade4cb815524f179119656f0aa2e&amp;stat=instructions:u">spurious improvements in the previous run</a>.</li></ul><h4 id=improvements>Improvements</h4><p>rustdoc: Revert #104889 <a href=https://github.com/rust-lang/rust/pull/107083>#107083</a> <a href="https://perf.rust-lang.org/compare.html?start=a2bf475d01d0112ded3aa17e40cb335e1524aa8f&amp;end=51d50ea96ecc9c681a0054e5eb8e5e1d4ab38906&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-4.4%</td><td style=text-align:center>[-15.7%, -0.5%]</td><td style=text-align:center>7</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-1.5%</td><td style=text-align:center>[-1.6%, -1.4%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-4.4%</td><td style=text-align:center>[-15.7%, -0.5%]</td><td style=text-align:center>7</td></tr></tbody></table><p>Remove some <code>ref</code> patterns from the compiler <a href=https://github.com/rust-lang/rust/pull/106090>#106090</a> <a href="https://perf.rust-lang.org/compare.html?start=51d50ea96ecc9c681a0054e5eb8e5e1d4ab38906&amp;end=56ee85274e5a3a4dda92f3bf73d1664c74ff9c15&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-0.2%, -0.1%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.5%, -0.3%]</td><td style=text-align:center>5</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-0.2%, -0.1%]</td><td style=text-align:center>3</td></tr></tbody></table><p>Lazy dominator tree construction in borrowck <a href=https://github.com/rust-lang/rust/pull/106976>#106976</a> <a href="https://perf.rust-lang.org/compare.html?start=b22aa57fd54c240131c9a31b78213de9f3bee64b&amp;end=21f683935257713eae8549e8b328367006097053&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.4%</td><td style=text-align:center>[-0.6%, -0.3%]</td><td style=text-align:center>26</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.7%</td><td style=text-align:center>[-1.0%, -0.3%]</td><td style=text-align:center>14</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.4%</td><td style=text-align:center>[-0.6%, -0.3%]</td><td style=text-align:center>26</td></tr></tbody></table><p>Remap paths in UI tests by default <a href=https://github.com/rust-lang/rust/pull/105924>#105924</a> <a href="https://perf.rust-lang.org/compare.html?start=005fc0f00f2d4ceaf523b67a8f9c5665b8ac5baf&amp;end=52372f9c71d8ade4cb815524f179119656f0aa2e&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.3%, -0.3%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.6%</td><td style=text-align:center>[-0.8%, -0.3%]</td><td style=text-align:center>7</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.3%, -0.3%]</td><td style=text-align:center>2</td></tr></tbody></table><p>rustc_metadata: Encode <code>doc(hidden)</code> flag to metadata <a href=https://github.com/rust-lang/rust/pull/107136>#107136</a> <a href="https://perf.rust-lang.org/compare.html?start=6b3cd03fdb285781c60f5962194719fdfd46d910&amp;end=5bef91c6e902f3bded724713bd2a64ea50abbd25&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.2%</td><td style=text-align:center>[0.2%, 0.2%]</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-1.9%</td><td style=text-align:center>[-5.7%, -0.5%]</td><td style=text-align:center>18</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-3.3%</td><td style=text-align:center>[-5.8%, -0.8%]</td><td style=text-align:center>28</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-1.9%</td><td style=text-align:center>[-5.7%, -0.5%]</td><td style=text-align:center>18</td></tr></tbody></table><h4 id=mixed>Mixed</h4><p>Rollup of 9 pull requests <a href=https://github.com/rust-lang/rust/pull/107143>#107143</a> <a href="https://perf.rust-lang.org/compare.html?start=0726909f6d219951ba15ac2f65656eff96bb1867&amp;end=e098eb17e1514bcd604ac4bd57cec362944687af&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.2%, 0.8%]</td><td style=text-align:center>57</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.5%</td><td style=text-align:center>[0.2%, 1.4%]</td><td style=text-align:center>28</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.7%</td><td style=text-align:center>[-1.1%, -0.3%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.7%</td><td style=text-align:center>[-1.2%, -0.5%]</td><td style=text-align:center>8</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[-1.1%, 0.8%]</td><td style=text-align:center>59</td></tr></tbody></table><ul><li>This rollup contains a perf regression due to #104672</li><li>Probably caused by some changes to inlining.</li></ul><p>Simplify <code>derive(Debug)</code> output for fieldless enums <a href=https://github.com/rust-lang/rust/pull/106884>#106884</a> <a href="https://perf.rust-lang.org/compare.html?start=e098eb17e1514bcd604ac4bd57cec362944687af&amp;end=b22aa57fd54c240131c9a31b78213de9f3bee64b&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>-</td><td style=text-align:center>-</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.8%</td><td style=text-align:center>[0.7%, 1.0%]</td><td style=text-align:center>7</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.5%</td><td style=text-align:center>[-1.7%, -0.2%]</td><td style=text-align:center>22</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-1.7%</td><td style=text-align:center>[-2.9%, -0.5%]</td><td style=text-align:center>8</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.5%</td><td style=text-align:center>[-1.7%, -0.2%]</td><td style=text-align:center>22</td></tr></tbody></table><ul><li>Improvements outweigh the regressions so I think it&rsquo;s fine if we just take this performance as is.</li></ul><p>Use UnordMap and UnordSet for id collections (DefIdMap, LocalDefIdMap, etc) <a href=https://github.com/rust-lang/rust/pull/106977>#106977</a> <a href="https://perf.rust-lang.org/compare.html?start=21f683935257713eae8549e8b328367006097053&amp;end=005fc0f00f2d4ceaf523b67a8f9c5665b8ac5baf&amp;stat=instructions:u">(Comparison Link)</a></p><table><thead><tr><th style=text-align:center>(instructions:u)</th><th style=text-align:center>mean</th><th style=text-align:center>range</th><th style=text-align:center>count</th></tr></thead><tbody><tr><td style=text-align:center>Regressions (primary)</td><td style=text-align:center>0.3%</td><td style=text-align:center>[0.2%, 0.3%]</td><td style=text-align:center>2</td></tr><tr><td style=text-align:center>Regressions (secondary)</td><td style=text-align:center>0.6%</td><td style=text-align:center>[0.4%, 0.8%]</td><td style=text-align:center>7</td></tr><tr><td style=text-align:center>Improvements (primary)</td><td style=text-align:center>-0.5%</td><td style=text-align:center>[-0.5%, -0.5%]</td><td style=text-align:center>3</td></tr><tr><td style=text-align:center>Improvements (secondary)</td><td style=text-align:center>-0.3%</td><td style=text-align:center>[-0.7%, -0.2%]</td><td style=text-align:center>20</td></tr><tr><td style=text-align:center>All (primary)</td><td style=text-align:center>-0.2%</td><td style=text-align:center>[-0.5%, 0.3%]</td><td style=text-align:center>5</td></tr></tbody></table><ul><li>perf got slightly worse from the original perf run, but it&rsquo;s still enough of a wash that I don&rsquo;t think it needs investigating.</li></ul><h2 id=nominated-issues>Nominated Issues</h2><p><a href="https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-compiler-nominated+label%3AT-compiler">T-compiler</a></p><ul><li>&ldquo;Default to -Z plt=yes&rdquo; <a href=https://github.com/rust-lang/rust/pull/106380>rust#106380</a><ul><li>nominated by @<strong>Nikita Popov</strong> (<a href=https://github.com/rust-lang/rust/pull/106380#issuecomment-1399296426>comment</a>)</li><li>commit <a href=https://github.com/rust-lang/rust/commit/6009da079419c9693fe4965ecacbd473c2553173>6009da0</a> defaulted to <code>-Z plt=no</code></li><li>original discussion that enabled <code>-fno-plt</code> by default: #54592</li></ul></li><li>&ldquo;Remove a few <code>actually_rustdoc</code> uses&rdquo; <a href=https://github.com/rust-lang/rust/pull/107289>rust#107289</a><ul><li>nominated by @<strong>jyn</strong> (<a href=https://github.com/rust-lang/rust/pull/107289#issuecomment-1403544909>comment</a>), asks for FCP</li><li>T-rustdoc needs to also sign-off</li></ul></li></ul><p><a href="https://github.com/rust-lang/rfcs/issues?q=is%3Aopen+label%3AI-compiler-nominated+label%3AT-compiler">RFC</a></p><ul><li>No nominated RFCs for <code>T-compiler</code> this time.</li></ul><h2 id=next-weeks-wg-checkins>Next week&rsquo;s WG checkins</h2><ul><li>@_<em>WG-llvm</em> by @<strong>nagisa</strong> and @<strong>Nikita Popov</strong></li><li>Types team by @<strong>nikomatsakis</strong> and @<strong>Jack Huey</strong></li></ul></article></div><aside class="book-toc level-6 fixed"><nav id=TableOfContents><ul><li><a href=#announcements>Announcements</a><ul><li><a href=#other-wg-meetings-calendar-linkhttpscalendargooglecomcalendarembedsrc6u5rrtce6lrtv07pfi3damgjus40groupcalendargooglecom>Other WG meetings (<a href="https://calendar.google.com/calendar/embed?src=6u5rrtce6lrtv07pfi3damgjus%40group.calendar.google.com">calendar link</a>)</a></li></ul></li><li><a href=#mcpsfcps>MCPs/FCPs</a><ul><li><a href=#wg-checkins>WG checkins</a></li></ul></li><li><a href=#backport-nominations>Backport nominations</a></li><li><a href=#prs-s-waiting-on-team>PRs S-waiting-on-team</a></li><li><a href=#oldest-prs-waiting-for-review>Oldest PRs waiting for review</a></li><li><a href=#issues-of-note>Issues of Note</a><ul><li><a href=#short-summary>Short Summary</a></li><li><a href=#p-critical>P-critical</a></li><li><a href=#p-high-regressions>P-high regressions</a></li></ul></li><li><a href=#performance-logs>Performance logs</a><ul><li></li></ul></li><li><a href=#nominated-issues>Nominated Issues</a></li><li><a href=#next-weeks-wg-checkins>Next week&rsquo;s WG checkins</a></li></ul></nav></aside></main></body></html>