<!DOCTYPE html>





<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  
    
    2019.06.04 Meeting
  
 | Rust Lang - Compiler Team</title>



<link rel="stylesheet" href="/book.min.b7d5ee4f671b06dde5fd61ab409a54048ba7759e99fed39ac32a7be45d4d92cd.css">


<link rel="icon" href="/favicon.png" type="image/x-icon">


<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" style="display: none" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav>
<h2 class="book-brand">
  <a href="">Rust Lang - Compiler Team</a>
</h2>



    
  
  
  

  <style>
  nav ul a[href$="\2f docs\2fworking-groups\2fpolonius\2fminutes\2f 2019.06.04-meeting\2f "] {
      color: #004ed0;
  }
  </style>

<ul>
<li><strong>About</strong>

<ul>
<li><a href="/docs/about/chat-platform/">Chat Platform</a></li>
<li><a href="/docs/about/steering-meeting/">Steering Meeting</a></li>
<li><a href="/docs/about/triage-meeting/">Triage Meeting</a></li>
</ul></li>

<li><p><strong>Minutes</strong></p>

<ul>
<li><p><strong>Steering Meetings</strong></p>

<ul>
<li><a href="/docs/minutes/steering-meeting/2018-10-26/">2018-10-26</a></li>
<li><a href="/docs/minutes/steering-meeting/2018-11-16/">2018-11-16</a></li>
<li><a href="/docs/minutes/steering-meeting/2018-12-14/">2018-12-14</a></li>
<li><a href="/docs/minutes/steering-meeting/2019-01-04/">2019-01-04</a></li>
<li><a href="/docs/minutes/steering-meeting/2019-01-17/">2019-01-17</a></li>
<li><a href="/docs/minutes/steering-meeting/2019-03-01/">2019-03-01</a></li>
<li><a href="/docs/minutes/steering-meeting/2019-03-22/">2019-03-22</a></li>
<li><a href="/docs/minutes/steering-meeting/2019-04-12/">2019-04-12</a></li>
</ul></li>

<li><p><strong>Triage Meetings</strong></p>

<ul>
<li><a href="/docs/minutes/triage-meeting/2019-04-11/">2019-04-11</a></li>
<li><a href="/docs/minutes/triage-meeting/2019-04-18/">2019-04-18</a></li>
<li><a href="/docs/minutes/triage-meeting/2019-04-25/">2019-04-25</a></li>
<li><a href="/docs/minutes/triage-meeting/2019-05-02/">2019-05-02</a></li>
<li><a href="/docs/minutes/triage-meeting/2019-05-09/">2019-05-09</a></li>
<li><a href="/docs/minutes/triage-meeting/2019-05-23/">2019-05-23</a></li>
</ul></li>
</ul></li>

<li><p><a href="/docs/experts/"><strong>Experts</strong></a></p></li>

<li><p><strong>Procedures</strong></p>

<ul>
<li><a href="/docs/procedures/crates/">Crates</a></li>
<li><a href="/docs/procedures/steering-meeting/">Steering Meeting</a></li>
<li><a href="/docs/procedures/call-for-participation/">Call for participation</a></li>
<li><a href="/docs/procedures/form-new-working-group/">Form new working group</a></li>
<li><a href="/docs/proposals/">Proposals</a></li>
</ul></li>

<li><p><a href="/docs/working-groups/"><strong>Working Groups</strong></a></p>

<ul>
<li><a href="/docs/working-groups/async-await/">Async Await</a></li>
<li><a href="/docs/working-groups/diagnostics/">Diagnostics</a></li>
<li><a href="/docs/working-groups/learning/">Learning</a></li>
<li><a href="/docs/working-groups/llvm/">LLVM</a></li>
<li><a href="/docs/working-groups/meta/">Meta</a></li>
<li><a href="/docs/working-groups/mir-opt/">MIR-opt</a></li>
<li><a href="/docs/working-groups/nll/">NLL</a></li>
<li><a href="/docs/working-groups/parallel-rustc/">parallel rustc</a></li>
<li><a href="/docs/working-groups/pgo/">PGO</a></li>
<li><a href="/docs/working-groups/pipelining/">pipelining</a></li>
<li><a href="/docs/working-groups/polonius/">polonius</a></li>
<li><a href="/docs/working-groups/rfc-2229/">rfc-2229</a></li>
<li><a href="/docs/working-groups/rls-2.0/">rls-2.0</a></li>
<li><a href="/docs/working-groups/self-profile/">Self Profile</a></li>
<li><a href="/docs/working-groups/template/">Template</a></li>
<li><a href="/docs/working-groups/traits/">Traits</a></li>
</ul></li>
</ul>





</nav>



    </aside>

    <div class="book-page">
      <header class="align-center justify-between book-header">
  <label for="menu-control">
    <img src="/svg/menu.svg" alt="Menu" />
  </label>
  <strong>
  
    
    2019.06.04 Meeting
  
</strong>
</header>

      
<article class="markdown">

<h1 id="wg-polonius-meeting-minutes-2019-06-04">WG-Polonius meeting minutes: 2019/06/04</h1>

<hr />

<p>Relevant links:
- The meeting happened in this <a href="https://rust-lang.zulipchat.com/#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/meeting.202019.2E06.2E04">Zulip thread</a>.
- The <a href="https://paper.dropbox.com/doc/Polonius-Roadmap--AY6C806s~AZK~e7wagmys2_wAg-hk3a9ynduUN2gk1A0NNTF">WIP Roadmap</a> Paper.</p>

<hr />

<p>This week, we discussed the following topics:</p>

<h4 id="1-liveness">1. Liveness</h4>

<p>To help with reviewing <a href="https://github.com/rust-lang/polonius/pull/105">polonius#105</a>, some last minutes changes were discussed:
- the older facts recorded in the Polonius dataset (the <code>inputs</code> directory) needed regenerating. This creates a huge diff for review, so separating those out to be &ldquo;rubberstamped&rdquo; would be interesting.
- squashing the other, important, commits for easy review.</p>

<p>In general, we&rsquo;ll still need to check rustc&rsquo;s testsuite when the liveness work is merged. That ties into the other ongoing work about checking our current <code>-Z polonius</code> behaviour in those tests (especially now that <a href="https://github.com/rust-lang/rust/pull/60171">#60171</a> has been merged).</p>

<h4 id="2-profiling-and-performance">2. Profiling and performance</h4>

<p>With the previous problems related to <code>measureme</code>/<code>summarize</code> fixed, <a href="https://github.com/lokalmatador">@lokalmatador</a> has continued work on profiling, and has been gathering early results.</p>

<h4 id="3-move-initialization-analysis">3. Move/initialization analysis</h4>

<p><a href="https://github.com/nikomatsakis">Niko</a> and <a href="https://github.com/albins">Albin</a> have <a href="https://www.youtube.com/watch?v=ilv9V-328HI">recorded a call</a> discussing how rustc ensures all data used is initialized, and how to integrate these checks in Polonius.</p>

<p>Note: the screen recording is &ldquo;paused&rdquo; for a bit at the beginning (until around minute 14), as notes were broadcast on the Paper website, but <a href="https://paper.dropbox.com/doc/Polonius-and-initialization-mNvR4jqITCdsJDUMEhFbv">this</a> is the document they discuss and take notes in.</p>

<h4 id="4-proposal-stop-tracking-subset-relations-along-the-cfg">4. Proposal: stop tracking subset relations along the CFG</h4>

<p><a href="https://github.com/nikomatsakis">Niko</a> and <a href="who works on the [Oxide formal model](https://aaronweiss.us/pubs/draft19-oxide.pdf) of Rust's ownership and borrowing">Aaron Weiss</a> came up with a proposal to avoid tracking <code>subset</code> relations.</p>

<p>This refinement would allow more precision in the analysis (specifically, avoiding unnecessary errors in some known cases), and potentially be faster, by taking special care of <em>equal regions</em> in the <code>subset</code> relation. Only those are the ones requiring a persistent flow of data through the CFG, and the analysis (or a pre-pass) could unify them as <em>one region</em>, and track equality instead of subset relations.</p>

<p>There are more details at the beginning of the dedicated Zulip thread — <a href="https://rust-lang.zulipchat.com/#narrow/stream/186049-t-compiler.2Fwg-polonius/topic/subset.20relations.20and.20polonius/near/167212574">around this point</a> — (the conversation has continued since the meeting). A call was scheduled for the following Friday to talk about subsets and the proposal.</p>

<hr />

<p>This week, the plan is:
- <a href="https://github.com/lokalmatador">@lokalmatador</a> will continue gathering profiling data.
- <a href="https://github.com/nikomatsakis">Niko</a> will review and land the liveness PR, and release the new polonius version to crates.io.
- <a href="https://github.com/albins">Albin</a> will update the <a href="https://github.com/rust-lang/rust/pull/60266">rustc liveness PR</a> after that, and mark it from &ldquo;WIP&rdquo; to &ldquo;ready to review&rdquo;. They also will do a public presentation about Polonius next week and will prepare for that.
- <a href="https://github.com/lqd">Rémy</a> will continue on the rustc test suite analysis, and look at the <code>subset</code> proposal.
- Try to prepare for the call about <code>subset</code> relations.</p>
</article>

      

      
    </div>

    
  

  <aside class="book-toc level-6 fixed">
    <nav id="TableOfContents">
<ul>
<li><a href="#wg-polonius-meeting-minutes-2019-06-04">WG-Polonius meeting minutes: 2019/06/04</a>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#1-liveness">1. Liveness</a></li>
<li><a href="#2-profiling-and-performance">2. Profiling and performance</a></li>
<li><a href="#3-move-initialization-analysis">3. Move/initialization analysis</a></li>
<li><a href="#4-proposal-stop-tracking-subset-relations-along-the-cfg">4. Proposal: stop tracking subset relations along the CFG</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </aside>



  </main>
  
  
  
</body>

</html>
